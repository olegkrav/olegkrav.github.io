(self.webpackChunkreact_slingshot=self.webpackChunkreact_slingshot||[]).push([[728],{90955:(e,t,n)=>{"use strict";n.d(t,{jq:()=>f,wl:()=>h,GP:()=>m,bQ:()=>v,E2:()=>y,X3:()=>g,Ou:()=>b,oG:()=>Z,k4:()=>E,IY:()=>A,O4:()=>w,Pk:()=>O,ML:()=>C,xT:()=>x,XD:()=>P,Yc:()=>k,rn:()=>S,Sr:()=>R,NV:()=>j,No:()=>M,pR:()=>B,fY:()=>D,fq:()=>N,nq:()=>T,om:()=>I,w3:()=>L,gg:()=>X,eh:()=>z,Hp:()=>U,DJ:()=>_,s9:()=>W,z0:()=>F,s5:()=>Y,yb:()=>G,$0:()=>q,Ee:()=>V,au:()=>H,$u:()=>$,pt:()=>K,Nu:()=>Q,iX:()=>J,XU:()=>ee,Je:()=>te,$Z:()=>ne,RU:()=>re,bB:()=>oe,uk:()=>ae,Od:()=>ie,wd:()=>ce,XW:()=>le,r5:()=>se,O2:()=>ue,pK:()=>pe});var r,o,a,i,c,l,s,u,p,d=n(96156),f="http://localhost:3001",h={CURRENT_USER:"CURRENT_USER_SELECTOR",LIST_ITEM:"LIST_ITEM_SELECTOR",ROUTE_PARAM:"ROUTE_PARAM_SELECTOR",SELECT_VALUE:"SELECT_VALUE_SELECTOR",CREATED_OBJECT:"CREATED_OBJECT"},m="label",v="section",y="ellipse",g="shape",b="rectangle",Z="group",E="image",A="list",w="input",O="image-upload",C="file-upload",x="date-picker",P="select",k="form",S="row",R="web-view",j="component",M="componentInstance",B="libraryComponent",D="shapeComponent",N="line",T=[{label:"Text",value:m},{label:"Ellipse",value:y},{label:"Shape",value:g},{label:"Rectangle",value:b},{label:"Group",value:Z},{label:"List",value:A},{label:"Image",value:E},{label:"Text Field",value:w},{label:"Image Picker",value:O},{label:"File Picker",value:C},{label:"Date Picker",value:x},{label:"Select Menu",value:P},{label:"Web View",value:R},{label:"Line",value:N}],I="action",L="center",X="right",z="input",U=(r={},(0,d.Z)(r,"tap","Tap"),(0,d.Z)(r,"longPress","Long Press"),{CREATE_OBJECT:"createObject",UPDATE_OBJECT:"updateObject",DELETE_OBJECT:"deleteObject",CREATE_ASSOCIATION:"createAssociation",DELETE_ASSOCIATION:"deleteAssociation",NAVIGATE:"navigate",AUTHENTICATE:"authenticate",LOGOUT:"logout",SIGNUP:"signup",FORGOT_PASSWORD:"forgotPassword",SHARE:"share",SET_INPUT_VALUE:"setInputValue",CALL_API:"callAPI",AUTHENTICATE_API:"authAPI",SIGNUP_API:"signupAPI",PUSH_NOTIFICATION:"pushNotification",NOTIFICATION_PERMISSION:"notificationPermission",EXTERNAL_LINK:"externalLink",CUSTOM:"custom",AUTHENTICATE_EXTERNAL:"authenticateExternal",SIGNUP_EXTERNAL:"signupExternal"}),_=(o={},(0,d.Z)(o,U.CREATE_OBJECT,"Create"),(0,d.Z)(o,U.UPDATE_OBJECT,"Update"),(0,d.Z)(o,U.DELETE_OBJECT,"Delete"),(0,d.Z)(o,U.CREATE_ASSOCIATION,"Add To Collection"),(0,d.Z)(o,U.DELETE_ASSOCIATION,"Remove From Collection"),(0,d.Z)(o,U.NAVIGATE,"Link"),(0,d.Z)(o,U.AUTHENTICATE,"Log In"),(0,d.Z)(o,U.LOGOUT,"Log Out"),(0,d.Z)(o,U.SIGNUP,"Sign Up"),(0,d.Z)(o,U.FORGOT_PASSWORD,"Forgot Password"),(0,d.Z)(o,U.SHARE,"Share"),(0,d.Z)(o,U.SET_INPUT_VALUE,"Change Input Value"),(0,d.Z)(o,U.CALL_API,"Call API"),(0,d.Z)(o,U.AUTHENTICATE_API,"Log In"),(0,d.Z)(o,U.SIGNUP_API,"Sign Up"),(0,d.Z)(o,U.PUSH_NOTIFICATION,"Trigger Notification"),(0,d.Z)(o,U.NOTIFICATION_PERMISSION,"Request Notification Permission"),(0,d.Z)(o,U.EXTERNAL_LINK,"External Link"),(0,d.Z)(o,U.CUSTOM,"Custom Action"),{TEXT:"text",DATE:"date",DATE_ONLY:"dateOnly",LOCATION:"location",NUMBER:"number",BOOLEAN:"boolean",LIST:"list",IMAGE:"image",COLOR:"color",ICON:"icon",FILE:"file",PASSWORD:"password",OBJECT:"object",FOREIGN_KEY:"foreignKey",ACTION_REF:"actionRef"}),W={MENU:"menu",SLIDER:"slider"},F={INPUT:"input",FIELD:"field",COUNT:"count",MIN:"min",MAX:"max",MIN_MAX:"minMax",SUM:"sum",AVERAGE:"avg",DATA:"data",PARAM:"param",LIST_ITEM:"listItem",RELATION:"relation",ROUTE_PARAM:"routeParam",PARENT_BINDING:"parentBinding",BELONGS_TO:"belongsToRelation",HAS_MANY:"hasManyRelation",MANY_TO_MANY:"manyToManyRelation",DATETIME:"dateTime",API_ENDPOINT:"apiEndpoint",API_FIELD:"apiField",AUTOSAVE:"autosave",ACTION_ARGUMENT:"actionArgument",CUSTOM_ACTION:"customAction",EXTERNAL_USERS_TOKEN:"externalUsersToken",EXTERNAL_USERS_ID:"externalUsersId"},Y=(a={},(0,d.Z)(a,F.COUNT,"Count"),(0,d.Z)(a,F.MIN,"Minimum"),(0,d.Z)(a,F.MAX,"Maximum"),(0,d.Z)(a,F.MIN_MAX,"Min / Max"),(0,d.Z)(a,F.SUM,"Sum"),(0,d.Z)(a,F.AVERAGE,"Average"),(0,d.Z)(a,F.ACTION_ARGUMENT,"Custom Component Action Argument"),a),G={SET_PROPERTY:"property",SET_TEXT:"text",SET_IMAGE:"image",VISIBILITY:"visibility",LIST:"list",SET_DATE:"date",SET_URI:"uri",LIBRARY_PROP:"libraryProp"},q=(i={},(0,d.Z)(i,G.SET_PROPERTY,"Set Property"),(0,d.Z)(i,G.SET_TEXT,"Replace Text"),(0,d.Z)(i,G.SET_IMAGE,"Replace Image"),(0,d.Z)(i,G.VISIBILITY,"Show / Hide"),(0,d.Z)(i,G.LIST,"List Items"),(0,d.Z)(i,G.SET_DATE,"Set Date"),(0,d.Z)(i,G.SET_URI,"Set URL"),c={},(0,d.Z)(c,_.DATE,{RELATIVE:"relativeDate",RELATIVE_SHORT:"relativeShort",ABSOLUTE_DATE:"absoluteDate",ABSOLUTE_DATETIME:"absoluteDatetime",WEEK_DAY_LONG:"weekDayLong",WEEK_DAY_SHORT:"weekDayShort",TIME:"time",ISO:"iso"}),(0,d.Z)(c,_.DATE_ONLY,{RELATIVE:"dateOnlyRelative",ABSOLUTE_DATE:"dateOnlyAbsolute",WEEK_DAY_LONG:"dateOnlyWeekday",WEEK_DAY_SHORT:"dateOnlyWeekdayShort",ISO:"iso"}),(0,d.Z)(c,_.NUMBER,{NONE:"none",COMMAS:"commas",ABBREVIATED:"abbreviated",CURRENCY:"currency",ABBREVIATED_CURRENCY:"abbreviatedCurrency"}),c),V=(l={},(0,d.Z)(l,_.DATE,[{label:"Relative",subtitle:"10 days ago",value:q.date.RELATIVE},{label:"Relative (short)",subtitle:"10d",value:q.date.RELATIVE_SHORT},{label:"Date",subtitle:"7/31/2020",value:q.date.ABSOLUTE_DATE},{label:"Date / Time",subtitle:"7/31/2020 at 2:15 PM",value:q.date.ABSOLUTE_DATETIME},null,{label:"Day of Week",subtitle:"Monday",value:q.date.WEEK_DAY_LONG},{label:"Day of Week (short)",subtitle:"Mon",value:q.date.WEEK_DAY_SHORT},null,{label:"Time",subtitle:"2:15 PM",value:q.date.TIME},null,{label:"No Formatting",subtitle:"2020-07-31T14:15:00.000Z",value:q.date.ISO}]),(0,d.Z)(l,_.DATE_ONLY,[{label:"Relative",subtitle:"10 days ago",value:q.dateOnly.RELATIVE},{label:"Date",subtitle:"7/31/2017",value:q.dateOnly.ABSOLUTE_DATE},null,{label:"Day of Week",subtitle:"Monday",value:q.dateOnly.WEEK_DAY_LONG},{label:"Day of Week (short)",subtitle:"Mon",value:q.dateOnly.WEEK_DAY_SHORT},null,{label:"No Formatting",subtitle:"2020-07-31",value:q.date.ISO}]),(0,d.Z)(l,_.NUMBER,[{label:"Default",subtitle:"1,500,000",value:q.number.COMMAS},null,{label:"None",subtitle:"1500000",value:q.number.NONE},{label:"Abbreviated",subtitle:"1.5M",value:q.number.ABBREVIATED},null,{label:"Currency",subtitle:"$1,500,000.00",value:q.number.CURRENCY},{label:"Currency Abreviated",subtitle:"$1.5M",value:q.number.ABBREVIATED_CURRENCY}]),l),H={FIXED_TOP:"fixedTop",FIXED_BOTTOM:"fixedBottom",FIXED:"fixed",DEFAULT:null},$=(H.FIXED_TOP,H.FIXED_BOTTOM,H.DEFAULT,{NONE:"none",SOLID:"solid",DOTTED:"dotted",DASHED:"dashed"}),K=[{label:"None",value:$.NONE},{label:"▬▬▬▬▬▬▬▬▬",value:$.SOLID},{label:"▪▪▪▪▪▪▪▪▪",value:$.DOTTED},{label:"▬ ▬ ▬ ▬ ▬",value:$.DASHED}],Q=(K.slice(1),{NONE:"none",COLOR:"color",IMAGE:"image"}),J=(Q.NONE,Q.COLOR,Q.IMAGE,{INSIDE:"inside",CENTER:"center",OUTSIDE:"outside"}),ee=(J.INSIDE,J.CENTER,J.OUTSIDE,{USERNAME:"username",EMAIL:"email",PASSWORD:"password",FULL_NAME:"full_name",TEMPORARY_PASSWORD:"temporary_password",TEMPORARY_PASSWORD_EXPIRES_AT:"temporary_password_expires_at"}),te={DEFAULT:"default",LOWERCASE:"lowercase",PASSWORD:"password",EMAIL:"email",NUMBER:"number"},ne=(te.DEFAULT,te.LOWERCASE,te.PASSWORD,te.EMAIL,te.NUMBER,{EQUAL:"==",NOT_EQUAL:"!=",GREATER_THAN:">",LESS_THAN:"<",GREATER_THAN_OR_EQUAL:">=",LESS_THAN_OR_EQUAL:"<=",BETWEEN:"between",EMPTY:"empty",NOT_EMPTY:"notEmpty",CONTAINS:"contains",LIST_CONTAINS:"listContains",LIST_NOT_CONTAINS:"listNotContains",TRUE:"true",FALSE:"false"}),re=(s={},(0,d.Z)(s,ne.EQUAL,"Is equal to"),(0,d.Z)(s,ne.NOT_EQUAL,"Is not equal to"),(0,d.Z)(s,ne.GREATER_THAN,"Is greater than"),(0,d.Z)(s,ne.LESS_THAN,"Is less than"),(0,d.Z)(s,ne.GREATER_THAN_OR_EQUAL,"Is greater than or equal"),(0,d.Z)(s,ne.LESS_THAN_OR_EQUAL,"Is less than or equal"),(0,d.Z)(s,ne.EMPTY,"Is empty"),(0,d.Z)(s,ne.NOT_EMPTY,"Is not empty"),(0,d.Z)(s,ne.BETWEEN,"Is between"),(0,d.Z)(s,ne.CONTAINS,"Contains"),(0,d.Z)(s,ne.LIST_CONTAINS,"Contains"),(0,d.Z)(s,ne.LIST_NOT_CONTAINS,"Does not contain"),(0,d.Z)(s,ne.TRUE,"Is true"),(0,d.Z)(s,ne.FALSE,"Is false"),{DARK_CONTENT:"dark",LIGHT_CONTENT:"light",HIDDEN:"hidden"}),oe=(re.DARK_CONTENT,re.LIGHT_CONTENT,re.HIDDEN,{CONTAIN:"contain",COVER:"cover"}),ae=[{label:"Contain",value:oe.CONTAIN},{label:"Cover",value:oe.COVER}],ie={GET:"get",POST:"post",PUT:"put",DELETE:"delete"},ce={LIST:"list",DETAIL:"detail",CREATE:"create",UPDATE:"update",DELETE:"delete",CUSTOM:"custom"},le=(u={},(0,d.Z)(u,ce.LIST,"Get All"),(0,d.Z)(u,ce.DETAIL,"Get One"),(0,d.Z)(u,ce.CREATE,"Create"),(0,d.Z)(u,ce.UPDATE,"Update"),(0,d.Z)(u,ce.DELETE,"Delete"),(0,d.Z)(u,ce.CUSTOM,"Custom"),u),se=(p={},(0,d.Z)(p,ce.LIST,ie.GET),(0,d.Z)(p,ce.DETAIL,ie.GET),(0,d.Z)(p,ce.CREATE,ie.POST),(0,d.Z)(p,ce.UPDATE,ie.PUT),(0,d.Z)(p,ce.DELETE,ie.DELETE),p),ue=[ce.LIST,ce.DETAIL,ce.CREATE,ce.UPDATE,ce.DELETE],pe={INTERNAL:"internal",URL:"url"}},44127:(e,t,n)=>{"use strict";n.d(t,{em:()=>b.em,ki:()=>b.ki,MX:()=>b.MX,Fh:()=>b.Fh,RH:()=>b.RH,ku:()=>b.ku,A5:()=>u,tT:()=>m,de:()=>b.de,z:()=>b.z,ri:()=>b.ri,zv:()=>h,Uv:()=>b.Uv,RK:()=>b.RK,MS:()=>b.MS,dX:()=>b.dX,Il:()=>b.Il,Nh:()=>b.Nh,cq:()=>s,$T:()=>b.$T,w1:()=>b.w1,RQ:()=>b.RQ,yS:()=>Z,AG:()=>b.AG,tL:()=>b.tL,XM:()=>b.XM,wV:()=>b.wV,Od:()=>b.Od,ep:()=>b.ep,GB:()=>i,wU:()=>b.wU,DY:()=>l,P7:()=>E.P,fw:()=>b.fw,Ak:()=>b.Ak,lT:()=>b.lT,NT:()=>g,bF:()=>c,Vx:()=>b.Vx,pl:()=>b.pl,$X:()=>b.$X});var r=n(10251),o=n.n(r),a=function(e){return e},i=function(e,t){if(e.length!==t.length)return!1;e=e.slice(0),t=t.slice(0),e.sort((function(e,t){return e-t})),t.sort((function(e,t){return e-t}));for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set,i=[];return e.forEach((function(e){var a=t(e);if(n){for(var c=!1,l=0;l<i.length;l+=1)if(o()(t(i[l]),a)){c=!0;break}c||i.push(e)}else r.has(a)||(i.push(e),r.add(a))})),i},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.slice(0).sort((function(e,n){var r=t(e),o=t(n);return r<o?-1:o<r?1:0}))},s=function(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1};n(30381);var u=function(e){var t=1/0,n=-1/0,r=1/0,o=-1/0,a=-1/0;if(0===e.length)return null;e.forEach((function(e){e.x<t&&(t=e.x),e.depth>a&&(a=e.depth),e.x+e.width>n&&(n=e.x+e.width),e.y<r&&(r=e.y),e.y+e.height>o&&(o=e.y+e.height)}));var i=n-t,c=o-r;return t===1/0&&(t=0),r===1/0&&(r=0),i===-1/0&&(i=0),c===-1/0&&(c=0),a===-1/0&&(a=0),{x:t,y:r,width:i,height:c,depth:a}},p=n(7597),d=n.n(p),f=n(44586),h=function(){return function(e,t,n){for(var r=e.length;r<25;r+=1)e="0"+e;return e}(d()("0123456789abcdefghijklmnopqrstuvwxyz").fromUUID((0,f.Z)()))},m=function(){return"c_"+h()},v=(n(77963),n(95493),n(90484)),y="function"==typeof Symbol&&"symbol"===(0,v.Z)(Symbol.iterator)?function(e){return(0,v.Z)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":(0,v.Z)(e)},g=function e(t,n){if(Array.isArray(t))return t.map((function(t){return e(t,n)}));if(!t||"object"!==(void 0===t?"undefined":y(t)))return t;var r={},o=!0,a=!1,i=void 0;try{for(var c,l=Object.keys(t)[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var s=c.value,u=t[s];r[s]=e(u,n)}}catch(e){a=!0,i=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw i}}return n(r)},b=n(91001),Z=(n(70956),n(12941),function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=[];return Array.isArray(n[0])&&(o=n[0],n=n.slice(1)),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments[1],a=t,i=!0,c=!1,l=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var p=s.value;void 0!==(y=p(t,r))&&y!==t&&(t=y)}}catch(e){c=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(c)throw l}}var d=!0,f=!1,h=void 0;try{for(var m,v=o[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var y,g=m.value;void 0!==(y=g(t,a))&&(t=y)}}catch(e){f=!0,h=e}finally{try{!d&&v.return&&v.return()}finally{if(f)throw h}}return t}}),E=n(10994)},91001:(e,t,n)=>{"use strict";n.d(t,{Uv:()=>u,RK:()=>p,MS:()=>d,AG:()=>f,$T:()=>h,Vx:()=>m,Od:()=>v,Il:()=>b,RQ:()=>Z,wV:()=>E,fw:()=>A,XM:()=>w,ri:()=>O,de:()=>C,ep:()=>x,z:()=>P,Nh:()=>k,ki:()=>S,w1:()=>R,dX:()=>j,wU:()=>M,pl:()=>B,$X:()=>N,ku:()=>T,Ak:()=>I,lT:()=>L,Fh:()=>X,MX:()=>z,em:()=>U,tL:()=>_,RH:()=>W});var r=n(90484),o=n(7145),a=n.n(o),i=n(10994),c=(n(90955),"function"==typeof Symbol&&"symbol"===(0,r.Z)(Symbol.iterator)?function(e){return(0,r.Z)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":(0,r.Z)(e)}),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t&&n&&A(t,w(n))!==n&&(t=n);var o=p(e,t=t||n);return o?o.children&&r?t+"."+o.children.length:f(t):""+e.length},p=function e(t,n){if(!t||!n||0===n.length)return null;if("string"==typeof n&&(n=n.split(".")),1===n.length)return t[n[0]];var r=t[n[0]];return r&&e(r.children,n.slice(1))||null},d=function(e,t){var n=p(e,t);return n&&n.id},f=function(e){var t=e.split(".");return t.slice(0,t.length-1).concat([+t[t.length-1]+1]).join(".")},h=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return(r=r.slice().reverse()).forEach((function(n){e=a()(e,y(t,n,!0))})),e},m=function(e,t,n){return a()(e,y(t,n))},v=function(e,t){return m(e,t)},y=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=r?0:1;if(t||(t=[]),"string"==typeof t&&(t=t.split(".")),0===t.length)return{};if(1===t.length){var a=[t[0],o];return n&&a.push(n),{$splice:[a]}}return s({},t[0],{children:e(t.slice(1),n,r)})},g=function(e,t){var n=b(t);if(null===n)return e;var r=p(e,n);return r&&r.children||[]},b=function(e){var t=e.split("."),n=t.slice(0,t.length-1).join(".");return""===n?null:n},Z=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(t=t.filter((function(e){return e}))).join(".")},E=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";n=l({},n);var o=b(r),a=g(t,r);return a.forEach((function(r,a){var i=Z(o,""+a);if(n[r.id]=i,r.children){var c=Z(i,"0"),s=e(t,{},c);n=l({},n,s)}})),n},A=function(e,t){return(e||"").split(".").slice(0,t).join(".")},w=function(e){return e?e.split(".").length:0},O=function(e){if(0===e.length)return null;var t=e[0];return e.forEach((function(e){for(var n=w(t);n>=0;n-=1)if(A(e,n)===A(t,n)){t=A(t,n);break}})),(e=(0,i.P)(e))[0].split(".").slice(0,t.length+1).join(".")},C=function(e){var t=e=e.map((function(e){return A(e,1)}));return(0,i.P)(Array.from(new Set(t)))},x=function(e){var t={};return e.forEach((function(e){t[e]=!0})),e.forEach((function(e){for(var n=0;n<=w(e)-1;n+=1)if(t[A(e,n)]){delete t[e];break}})),e.filter((function(e){return t[e]}))},P=function(e,t){var n=w(e),r=e.split("."),o={};t.forEach((function(e){var t=w(e);o[t]||(o[t]=[]),o[t].push(e)}));for(var a=function(t){var n=t+1,a=o[n]||[],c=A(e,n);a.forEach((function(e){(function(e,t){var n=w(e);return n===w(t)&&A(e,n-1)===A(t,n-1)})(c,e)&&-1===(0,i.W)(e,c)&&(r[t]-=1)}))},c=0;c<n;c+=1)a(c);return r.join(".")},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=w(e),r=A(e,n-1),o=e.split("."),a=o[o.length-1];return Z(r,a=""+(+a+ +t))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=w(e),r=A(e,n-1),o=e.split("."),a=o[o.length-1];return a=""+Math.max(0,+a-+t),Z(r,a)},R=function(e,t){return!(w(t)<=w(e))&&A(t,w(e))===e},j=function(e,t){if(!t)return[];var n=t.x,r=t.y,o=t.width,a=t.height,i=[];return e.forEach((function(e){(function(e,t,n){for(var r=0;r<t.length;r+=1)if("number"!=typeof e[t[r]])return!0;return!1})(e,["x","y","width","height"])||e.x+e.width<n||n+o<e.x||e.y+e.height<r||r+a<e.y||i.push(e.id)})),i},M=function(e,t,n){if(!e||!t||"object"!==(void 0===e?"undefined":c(e))||"object"!==(void 0===t?"undefined":c(t)))return e===t;n||(n=Object.keys(l({},e,t)));for(var r=0;r<n.length;r+=1)if(e[n[r]]!==t[n[r]])return!1;return!0},B=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=p(t,r);if(!a)return t;if(o&&!o(a))return t;var i=1/0,c=1/0,s=-1/0,u=-1/0;a.children.forEach((function(e){e.x<i&&(i=e.x),e.x+e.width>s&&(s=e.x+e.width),e.y<c&&(c=e.y),e.y+e.height>u&&(u=e.y+e.height)}));var d=D(i,0),f=D(c,0),h=D(s-i,0),v=D(u-c,0),y=l({},a,{x:d,y:f,width:h,height:v});if(!M(a,y,["x","y","width","height"])){t=m(t,r,y);var g=A(r,w(r)-1);t=e(t,n,g,o)}return t},D=function(e,t){return isFinite(e)?e:t},N=function(e,t,n,r,o){if(!(r=r||t[n]))return e;var a=A(r,w(r)-1);return B(e,t,a,o)},T=function(e,t){var n={};return Object.keys(e).forEach((function(r){"function"==typeof e[r]?n[r]=e[r](t):n[r]=e[r]})),n},I=function e(t,n){if(!t.children||!t.children.length)return t;var r=t.x-n.x,o=t.y-n.y;if(!r&&!o)return t;var a=l({},t);return a.children=a.children.map((function(t){return e(l({},t,{x:t.x+r,y:t.y+o}),t)})),a},L=function e(t,n,r,o){for(var a=0;a<t.length;a+=1){var i=t[a];if(n(i,o,t[a-1],t[a+1]),i&&i.children&&(!r||r(i))){if(!Array.isArray(i.children))throw new Error("obj.children is not an Array: "+JSON.stringify(i));e(i.children,n,r,i)}}},X=function e(t,n,r){var o=[],a=!0,i=!1,c=void 0;try{for(var s,u=t[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var p=s.value,d=p,f=p?p.children:void 0;d&&d.children&&(!r||r(d))&&(d=l({},d,{children:e(d.children,n)})),d=n(d,f),o.push(d)}}catch(e){i=!0,c=e}finally{try{!a&&u.return&&u.return()}finally{if(i)throw c}}return o},z=function(e,t){var n=[];return L(e,(function(e){t(e)&&n.push(e)})),n},U=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={},o=0;o<e.length;o+=1){var a=e[o],i=t(a);n?(r[i]||(r[i]=[]),r[i].push(a)):r[i]=a}return r},_=function(e,t){for(var n=null,r=-1/0,o=0;o<e.length;o+=1){var a=e[o],i=t(a);i>r&&(n=a,r=i)}return n},W=function e(t,n){if(void 0!==t&&void 0===n)return t;if(void 0!==n&&void 0===!t)return n;if(!t||"object"!==(void 0===t?"undefined":c(t))||Array.isArray(t)||!n||"object"!==(void 0===n?"undefined":c(n))||Array.isArray(n))return n;var r={},o=new Set(Object.keys(n));for(var a in l({},t,n))n[a]||!o.has(a)?r[a]=e(t[a],n[a]):(r[a]=n[a],void 0===r[a]&&delete r[a]);return r}},10994:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,P:()=>o});var r=function(e,t){for(var n=e.split("."),r=t.split("."),o=Math.max(n.length,r.length),a=0;a<o;a+=1){if(+n[a]>+r[a]||void 0===r[a])return 1;if(+r[a]>+n[a]||void 0===n[a])return-1}return 0},o=function(e){return(e=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))).sort((function(e,t){return r(e,t)})),e}},49286:(e,t,n)=>{"use strict";n.d(t,{fQ:()=>j});var r=n(6610),o=n(5991),a=n(63349),i=n(10379),c=n(46070),l=n(77608),s=n(96156),u=n(67294),p=n(37703),d=n(26353),f=n(3227),h=n(59028),m=n(19057),v=n(29546),y=n(6455),g=n(13705),b=n(77820);var Z=u.createElement(y.Z,{component:b.Z,name:"name",label:"Название",placeholder:"Пусто",type:"text"}),E=u.createElement(y.Z,{component:b.Z,name:"description",label:"Описание",type:"text",maxLength:"80"}),A=function(e){(0,i.Z)(s,e);var t,n,a=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function s(){return(0,r.Z)(this,s),a.apply(this,arguments)}return(0,o.Z)(s,[{key:"render",value:function(){var e=this.props,t=(e.appId,e.handleSubmit),n=e.dirty,r=e.submitting;return u.createElement("form",{onSubmit:t,autoComplete:"off"},Z,E,u.createElement(b.J,{enabled:n&&!r,buttonText:"Обновить"}))}}]),s}(u.Component),w=(0,p.$j)((function(e,t){return t.appId,{}}))(A);const O=(0,g.Z)({form:"AppSettings",validate:function(e){return{}},enableReinitialize:!0})(w);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}n(55769);var x=function(e){(0,i.Z)(n,e);var t=C(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,a.Z)(e),"handleDelete",(function(){var t=e.props,n=t.match,r=t.history,o=t.app,a=t.deleteApp,i=n.params.appId;o&&window.confirm("Are you sure you want to delete ".concat(o.name))&&(a(i),r.push("/"))})),(0,s.Z)((0,a.Z)(e),"handleSubmit",(function(t){var n=e.props,r=n.match;(0,n.updateApp)(r.params.appId,t)})),(0,s.Z)((0,a.Z)(e),"getInitialData",(function(){var t=e.props.app,n=t.name,r=t.icon,o=t.mixpanelToken,a=t.OrganizationId,i=t.description,c=t.showBranding;return void 0===c&&(c=!0),{name:n,icon:r,mixpanelToken:o,OrganizationId:a,description:i,showBranding:c}})),e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.props.match.params.appId}},{key:"render",value:function(){var e=this.props,t=e.app,n=e.match,r=(e.location,e.history,n.params.appId);if(!t)return null;var o="settings";return u.createElement("div",{className:"app-settings"},u.createElement(v.Z,{title:"Настройки",group:o,fluid:!0,defaultExpanded:!0},u.createElement(O,{appId:r,onSubmit:this.handleSubmit,initialValues:this.getInitialData()})),u.createElement(v.Z,{title:"Отображение",group:o,fluid:!0}))}}]),n}(u.Component),P=(0,d.EN)((0,p.$j)((function(e,t){var n=t.match;return{app:(0,f.Mq)(e,n.params.appId)}}),{updateApp:f.KT,deleteApp:f.P2})(x)),k=u.createElement(h.Z,{form:!0,title:"Settings"},u.createElement("h1",null,"Настройки"),u.createElement(P,null)),S=function(e){(0,i.Z)(n,e);var t=C(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.requestApp)(e.match.params.appId)}},{key:"render",value:function(){return k}}]),n}(u.Component);(0,p.$j)(null,{requestApp:f.bO})(S);var R=u.createElement("div",{className:"app-settings-panel"},u.createElement("h2",{className:"left-panel-title"},u.createElement(m.Z,{type:"settings"})," Настройки"),u.createElement(P,null)),j=function(e){(0,i.Z)(n,e);var t=C(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){return R}}]),n}(u.Component)},92864:(e,t,n)=>{"use strict";n(6610),n(5991),n(63349),n(10379),n(46070),n(77608),n(96156);var r=n(67294);n(45697),n(98605),n(94184);r.Component},67342:(e,t,n)=>{"use strict";n.d(t,{L:()=>N,Z:()=>B});var r=n(6610),o=n(5991),a=n(10379),i=n(46070),c=n(77608),l=n(67294),s=n(63349),u=n(96156),p=n(26353),d=n(37703),f=n(94184),h=n.n(f),m=n(98605),v=n.n(m),y=n(8808),g=n(19057);var b=l.createElement(g.Z,{big:!0,type:"account-circle"}),Z=l.createElement(g.Z,{type:"expand-vertical"}),E=l.createElement("span",{className:"link",rel:"noopener noreferrer"},"Настройки"),A=l.createElement("hr",null),w=l.createElement("span",{className:"link",rel:"noopener noreferrer"},"История заказов"),O=l.createElement("span",{className:"link",rel:"noopener noreferrer"},"Сохраненные проекты"),C=l.createElement("hr",null),x=l.createElement("span",{className:"link"},"Выйти"),P=function(e){(0,a.Z)(d,e);var t,n,p=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function d(){var e;(0,r.Z)(this,d);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=p.call.apply(p,[this].concat(n)),(0,u.Z)((0,s.Z)(e),"state",{expanded:!1}),(0,u.Z)((0,s.Z)(e),"handleLogout",(function(){window.localStorage.removeItem("protonSession"),window.location="/"})),(0,u.Z)((0,s.Z)(e),"handleToggle",(function(){e.setState((function(e){return{expanded:!e.expanded}}))})),(0,u.Z)((0,s.Z)(e),"getBaseURL",(function(){var t=e.props.location.pathname.match(/^\/apps\/([\w\-]+)/);if(t){var n=t[1];return"/apps/".concat(n,"/screens")}return""})),(0,u.Z)((0,s.Z)(e),"getSettingsLink",(function(){var t=e.getBaseURL();return"".concat(t,"/settings/account")})),(0,u.Z)((0,s.Z)(e),"getDevelopersLink",(function(){var t=e.getBaseURL();return"".concat(t,"/developers/libraries")})),e}return(0,o.Z)(d,[{key:"render",value:function(){this.props.user;var e=this.state.expanded;return l.createElement("div",{className:"navbar-user-info"},e?l.createElement(v(),{onClick:this.handleToggle}):null,l.createElement("a",{className:"navbar-user-avatar",onClick:this.handleToggle},b,Z),e?l.createElement("div",{onClick:this.handleToggle,className:h()("navbar-user-menu",{expanded:e})},E,A,w,O,C,x):null)}}]),d}(l.Component);const k=(0,p.EN)((0,d.$j)((function(e){return{user:(0,y.ts)(e)}}))(P));var S=n(41122);n(37908);var R=l.createElement(S.Z,{className:"app-navbar-stripe"}),j=l.createElement("div",{className:"app-navbar-brand"},"TotalShapes"),M=l.createElement(k,null),B=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props.children;return l.createElement("div",{className:"app-navbar"},R,j,e,M)}}]),u}(l.Component),D=l.createElement("div",{className:"navbar-spacer"}),N=function(){return D}},49448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>dr});var r=n(6610),o=n(5991),a=n(10379),i=n(46070),c=n(77608),l=n(67294),s=n(5513),u=n(26353),p=n(49611),d=n.n(p),f=n(18748),h=n(2500),m=n(93692),v=n(63349),y=n(96156),g=n(37703),b=n(80129),Z=n.n(b),E=n(3227),A=n(98214),w=n(23668),O=n(59028);n(89084);var C=l.createElement(u.l_,{to:"apps/eb5e611c-7ac8-416f-899f-221a194318d0/screens"}),x=(u.l_,A.Z,w.Z,function(e){(0,a.Z)(s,e);var t,n,l=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function s(){var e;(0,r.Z)(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=l.call.apply(l,[this].concat(n)),(0,y.Z)((0,v.Z)(e),"getParams",(function(){var t=e.props.location.search;return Z().parse(t||"",{ignoreQueryPrefix:!0})})),e}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){(0,this.props.requestApps)()}},{key:"render",value:function(){var e=this.props;return e.lastApp,e.children,e.modalProps,e.appsLoaded,this.getParams(),C}}]),s}(l.Component));const P=(0,g.$j)((function(e){return{lastApp:(0,E.sZ)(e),appsLoaded:(0,E.xu)(e)}}),{requestApps:E.ZZ})(x);var k=n(66153),S=n(5321),R=n(26828);var j=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,y.Z)((0,v.Z)(e),"getDetailsURL",(function(){var t=e.props,n=t.match,r=t.item,o=n.params.appId;return"/apps/".concat(o,"/addons/").concat(r.id)})),(0,y.Z)((0,v.Z)(e),"getInstallURL",(function(){var t=e.props,n=t.match,r=t.item,o=n.params.appId;return"/apps/".concat(o,"/addons/install/").concat(r.id)})),e}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props.item,t=e.name,n=e.tagline;return l.createElement("div",{className:"addons-list-item"},l.createElement("h3",null,t),l.createElement("p",{className:"addons-list-item-tagline"},n),l.createElement("div",{className:"addons-list-item-actions"},l.createElement(R.Z,{secondary:!0,to:this.getDetailsURL()},"Details"),l.createElement(R.Z,{to:this.getInstallURL()},"Install")))}}]),u}(l.Component);const M=(0,u.EN)(j);var B=l.createElement(A.Z,{greedy:!0},l.createElement(w.Z,{large:!0})),D=l.createElement(A.Z,null,"No Addons Available"),N=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"renderContent",value:function(){var e=this.props.list;return e?0===e.length?D:e.map((function(e){return l.createElement(M,{key:e.id,item:e})})):B}},{key:"render",value:function(){var e=this.props.title;return l.createElement("div",{className:"addons-list-wrapper"},l.createElement("h2",null,e),l.createElement("div",{className:"addons-list"},this.renderContent()))}}]),u}(l.Component);var T=l.createElement(A.Z,{greedy:!0},l.createElement(w.Z,{large:!0})),I=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,y.Z)((0,v.Z)(e),"getInstallURL",(function(){var t=e.props.match.params,n=t.appId,r=t.serviceId;return"/apps/".concat(n,"/addons/install/").concat(r)})),e}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props.service;return e?l.createElement("div",{className:"addons-modal-content"},l.createElement("div",{className:"addons-modal-header"},l.createElement("div",{className:"addons-modal-header-actions"},l.createElement(R.Z,{to:this.getInstallURL()},"Install Now")),l.createElement("h3",null,e.name),l.createElement("p",null,e.tagline)),l.createElement("div",{className:"addons-modal-details"},l.createElement("p",{className:"addons-modal-description"},e.description))):T}}]),u}(l.Component);const L=(0,u.EN)((0,g.$j)((function(e,t){var n=t.serviceId;return{service:(0,S.ko)(e,n)}}))(I));n(35586);var X=l.createElement("h1",null,"Addons"),z=l.createElement("div",{className:"addons-page-sidebar"},l.createElement("h2",null,"What Are Addons?"),l.createElement("p",null,"Addons give your app superpowers—things like accepting payments,\n                sending emails, and much more. Addons add additional Actions,\n                Data Connections, and Components. To find out more, click on\n                an Addon to the left! ",l.createElement("span",{role:"img","aria-label":"Pointing Left"},"👈"))),U=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,y.Z)((0,v.Z)(e),"getBaseURL",(function(){var t=e.props.match.params.appId;return"/apps/".concat(t,"/addons")})),e}return(0,o.Z)(u,[{key:"componentDidMount",value:function(){var e=this.props,t=e.requestApp,n=e.requestPopularServices;t(e.match.params.appId),n()}},{key:"render",value:function(){var e=this.props,t=e.app,n=e.services,r=e.match.params.serviceId;return l.createElement(O.Z,{className:"addons-page",title:(0,k.u)(t,"Addons"),modalContent:r&&l.createElement(L,{serviceId:r}),modalProps:{className:"addons-modal"},baseURL:this.getBaseURL()},X,l.createElement("div",{className:"addons-page-main"},l.createElement("div",{className:"addons-page-content"},l.createElement(N,{list:n,title:"Popular Addons"})),z))}}]),u}(l.Component);(0,g.$j)((function(e,t){var n=t.match;return{app:(0,E.Mq)(e,n.params.appId),services:(0,S.ok)(e)}}),{requestApp:E.bO,requestPopularServices:S.YR})(U);var _=l.createElement(A.Z,{greedy:!0},l.createElement(w.Z,{large:!0})),W=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.requestApp,r=e.requestService,o=t.params,a=o.appId,i=o.serviceId;n(a),r(i)}},{key:"render",value:function(){var e=this.props.service;return e?l.createElement(O.Z,{form:!0,title:"Install ".concat(e.name)},l.createElement("div",{className:"install-addon-page"},l.createElement("h1",null,"Install",e.name))):_}}]),u}(l.Component);(0,g.$j)((function(e,t){var n=t.match;return{service:(0,S.ko)(e,n.params.serviceId),app:(0,E.Mq)(e,n.params.appId)}}),{requestApp:E.bO,requestService:S.MJ})(W);var F=n(67342);var Y=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props.children;return l.createElement("div",{className:"app-body"},e)}}]),u}(l.Component),G=n(94188);n(79258);var q=l.createElement("p",null,"This cannot be undone"),V=l.createElement(s.rU,{to:"/",className:"deemphasize"},"Cancel"),H=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,y.Z)((0,v.Z)(e),"handleDelete",(function(){var t=e.props,n=t.history,r=t.match;(0,t.deleteApp)(r.params.appId),n.push("/")})),e}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props.app;if(!e)return null;var t=e.name;return l.createElement("div",null,l.createElement("h1",null,"Are you sure you want to delete ",l.createElement("strong",null,t),"?"),q,l.createElement("div",{className:"delete-app-actions"},V,l.createElement(R.Z,{large:!0,danger:!0,onClick:this.handleDelete},"Delete Permanently")))}}]),u}(l.Component);const $=(0,u.EN)((0,g.$j)((function(e,t){var n=t.match;return{app:(0,E.XB)(e,n.params.appId)}}),{deleteApp:E.P2})(H));var K=n(87757),Q=n.n(K),J=n(92137),ee=n(75607),te=n(30224),ne=n(8808),re=n(6455),oe=n(13705),ae=n(33941),ie=n(16093);var ce=l.createElement(ie.Z,null),le=l.createElement("h1",null,"Sign In"),se=l.createElement(re.Z,{autoFocus:!0,name:"email",placeholder:"me@example.com",type:"email",label:"Email Address",autoComplete:"email",component:ae.Z}),ue=l.createElement(re.Z,{name:"password",placeholder:"••••••••",type:"password",label:"Password",autoComplete:"current-password",component:ae.Z}),pe=l.createElement("div",{className:"auth-form-link"},l.createElement(s.rU,{to:"/forgot-password",className:"link-button"},"Forgot Password?")),de=function(e){(0,a.Z)(p,e);var t,n,u=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function p(){return(0,r.Z)(this,p),u.apply(this,arguments)}return(0,o.Z)(p,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.error,r=e.submitting,o=e.redirect,a=Z().stringify({redirect:o},{addQueryPrefix:!0});return l.createElement("form",{onSubmit:t,className:"auth-form"},ce,le,se,ue,l.createElement("div",{className:"auth-form-submission-row"},l.createElement(R.Z,{large:!0,yellow:!0,loading:r},"Sign In")),n&&l.createElement("div",{className:"auth-form-error"},n),pe,l.createElement("div",{className:"auth-form-link"},"No account? ",l.createElement(s.rU,{to:"/signup".concat(a),className:"link-button"},"Signup")))}}]),p}(l.Component);const fe=(0,oe.Z)({form:"loginForm"})(de);var he=n(94184),me=n.n(he),ve=n(44302);function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var ge=l.createElement(ve.Z,{className:"auth-screen"}),be=function(e){(0,a.Z)(n,e);var t=ye(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.error;return l.createElement("div",{className:me()("auth-page",t,{"auth-page-has-error":r})},ge,r?l.createElement(Ze,{error:r}):null,l.createElement("div",{className:"auth-page-body"},n))}}]),n}(l.Component),Ze=function(e){(0,a.Z)(n,e);var t=ye(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props.error;return l.createElement("div",{className:"auth-page-error"},e)}}]),n}(l.Component);n(17548);var Ee=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,y.Z)((0,v.Z)(e),"getRedirect",(function(){var t=e.props.location;return Z().parse(t.search,{ignoreQueryPrefix:!0}).redirect})),(0,y.Z)((0,v.Z)(e),"handleLogin",function(){var t=(0,J.Z)(Q().mark((function t(n){var r,o,a,i,c;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,o=r.history,a=r.setCurrentUserToken,i=e.getRedirect(),t.prev=2,t.next=5,(0,te.YR)(n);case 5:c=t.sent,window.localStorage.setItem("protonSession",c),a(c),o.push(i||"/"),t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(2),new ee.t({_error:"Invalid email or password"});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.getRedirect();return l.createElement(be,{className:"login-page"},l.createElement(fe,{onSubmit:this.handleLogin,redirect:e}))}}]),u}(l.Component);const Ae=(0,g.$j)(null,{setCurrentUserToken:ne.se})(Ee);var we=l.createElement(ie.Z,null),Oe=l.createElement("h1",null,"Forgot Password"),Ce=l.createElement("p",null,"Please enter your email and a password reset link will be sent"),xe=l.createElement(re.Z,{autoFocus:!0,name:"email",placeholder:"me@example.com",type:"email",label:"Email Address",component:ae.Z}),Pe=l.createElement("div",{className:"auth-form-error"},"A password recovery link has been sent to your email."),ke=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.error,r=e.submitSucceeded;return l.createElement("form",{onSubmit:t,className:"auth-form"},we,Oe,Ce,xe,l.createElement("div",{className:"auth-form-submission-row"},l.createElement(R.Z,{large:!0,yellow:!0,disabled:r},"Send")),n&&l.createElement("div",{className:"auth-form-error"},n),r&&Pe)}}]),u}(l.Component);const Se=(0,oe.Z)({form:"forgotPasswordForm",validate:function(e){var t={};return e.email?e.email.match(/^.+@([\w\-]+\.)+\w{2,}$/)||(t.email="Please enter a valid email address"):t.email="Email is required",t}})(ke);var Re=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,y.Z)((0,v.Z)(e),"handleRecovery",(function(e){return new Promise((function(t,n){(0,te.BI)(e,(function(e){var r=e.success,o=e.errors;if(console.log(r),!r)return n(new ee.t(o));t()}))}))})),e}return(0,o.Z)(u,[{key:"render",value:function(){return l.createElement(be,{className:"login-page"},l.createElement(Se,{onSubmit:this.handleRecovery}))}}]),u}(l.Component);const je=(0,g.$j)(null)(Re);var Me=n(58796);var Be=l.createElement(ie.Z,null),De=l.createElement("h1",null,"Update Password"),Ne=l.createElement("p",null,"Please enter your new password"),Te=l.createElement(re.Z,{autoFocus:!0,name:"password",placeholder:"New Password",type:"password",label:"New Password",component:ae.Z}),Ie=l.createElement("div",{className:"auth-form-submission-row"},l.createElement(R.Z,{large:!0,yellow:!0},"Update")),Le=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.error;return l.createElement("form",{onSubmit:t,className:"auth-form"},Be,De,Ne,Te,Ie,n&&l.createElement("div",{className:"auth-form-error"},n))}}]),u}(l.Component);const Xe=(0,oe.Z)({form:"recoverPasswordForm",validate:function(e){var t={};return(!e.password||e.password.length<8)&&(t.password="Password must be at least 8 characters"),t}})(Le);function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(e){var t;(0,r.Z)(this,u),t=s.call(this,e),(0,y.Z)((0,v.Z)(t),"handleUpdate",(function(e){return new Promise((function(n,r){var o=t.state.recoveryToken,a=t.props,i=a.history,c=a.setCurrentUserToken;e=Ue(Ue({},e),{},{recoveryToken:o}),(0,te.gQ)(e,(function(e){var t=e.success,o=e.errors,a=e.sessionToken;if(!t)return console.log(o),r(new ee.t(o));window.localStorage.setItem("protonSession",a),c(a),i.push("/"),n()}))}))}));var n=e.location,o=Z().parse(n.search.slice(1)).token,a=null;return o&&((0,Me.JW)(o)||(a="Your password recovery link has expired. Invitations expire after 7 days.")),t.state={error:a,recoveryToken:o},t}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.state.error;return l.createElement(be,{className:"login-page",error:e},l.createElement(Xe,{onSubmit:this.handleUpdate}))}}]),u}(l.Component);const We=(0,g.$j)(null,{setCurrentUserToken:ne.se})(_e);var Fe=n(99809),Ye=n(87180),Ge=n(15645);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(e){var t;(0,r.Z)(this,u),t=s.call(this,e),(0,y.Z)((0,v.Z)(t),"handleSubmit",(function(e){return new Promise((function(n,r){var o=t.props,a=o.history,i=o.setCurrentUserToken,c=t.state,l=c.inviteToken,s=c.redirect,u=(0,Ye.I)(),p=window.location.href,d=document.title,f=Object.fromEntries(document.cookie.split("; ").map((function(e){var t=e.split("="),n=(0,Fe.Z)(t);return[n[0],n.slice(1).join("=")]}))),h=null==f?void 0:f.hubspotutk;e=Ve(Ve({},e),{},{inviteToken:l,rewardfulToken:u,hubspotutk:h,pageUri:p,pageName:d}),(0,te.IU)(e,(function(e){var t=e.success,o=e.errors,c=e.sessionToken,l=e.newOrg;if(!t)return r(new ee.t(o));window.localStorage.setItem("protonSession",c),i(c),s?(String(s).startsWith("/")||(s="/".concat(s)),a.push(s)):l?a.push("/first-app-setup"):a.push("/"),n()}))}))}));var n=e.location,o=Z().parse(n.search,{ignoreQueryPrefix:!0}),a=o.token,i=o.redirect,c={},l=null;if(a){var p=(0,Me.JW)(a);p?c={email:p.email}:l="Your invitation has expired. Invitations expire after 7 days."}return t.state={initialValues:c,error:l,inviteToken:a,redirect:i},t}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.location,r=this.state.redirect,o="/accept-invite"===n.pathname,a=this.state,i=a.initialValues,c=a.error;return l.createElement(be,{name:"signup-page",error:c},l.createElement(Ge.Z,{isInvite:o,initialValues:i,onSubmit:this.handleSubmit,redirect:r}),t)}}]),u}(l.Component);const $e=(0,g.$j)(null,{setCurrentUserToken:ne.se})(He);var Ke=n(39368),Qe=n(75419),Je=n(64395);var et=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,y.Z)((0,v.Z)(e),"handleSubmit",function(){var t=(0,J.Z)(Q().mark((function t(n){var r,o,a,i,c,l,s,u,p,d,f,h,m;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,o=r.stripe,a=r.saveSubscription,i=r.organizationId,c=n.plan,l=n.coupon,s=n.name,t.next=4,o.createToken({name:s});case 4:if(u=t.sent,p=u.token,d=u.error,!p||!i){t.next=23;break}return t.prev=8,t.next=11,a(i,{coupon:l,planType:c,stripeToken:null==p?void 0:p.id});case 11:"individual"===c&&window.ga&&window.ga("send",{hitType:"event",eventCategory:"button",eventAction:"click",eventLabel:"Payment Made",eventValue:50}),"launch"===c&&window.ga&&window.ga("send",{hitType:"event",eventCategory:"button",eventAction:"click",eventLabel:"Payment Made",eventValue:200}),e.handleSuccess(),t.next=21;break;case 16:throw t.prev=16,t.t0=t.catch(8),h=t.t0.response,m=(null==h||null===(f=h.data)||void 0===f?void 0:f.error)||"An unknown error occurred",new ee.t({_error:m});case 21:t.next=25;break;case 23:throw console.log("ERROR:",d),new ee.t({_error:d.message});case 25:case"end":return t.stop()}}),t,null,[[8,16]])})));return function(e){return t.apply(this,arguments)}}()),(0,y.Z)((0,v.Z)(e),"handleSuccess",(function(){return e.props.history.push("/first-app-setup")})),e}return(0,o.Z)(u,[{key:"componentDidMount",value:function(){(0,this.props.fetchOrganizations)()}},{key:"render",value:function(){return l.createElement(be,null,l.createElement(Je.Z,{className:"modal-wrapper-text-aligned-left",size:"lg",scrolling:!0,hideDimmer:!0},l.createElement(SignupForm,{hideFreeTier:!0,hideStorage:!0,title:"Choose your plan to get started",submitText:"Start!",onSubmit:this.handleSubmit,initialValues:{plan:"individual"}})))}}]),u}(l.Component),tt=(0,g.$j)((function(e){var t,n;return{organizationId:null===(t=(0,Qe.jX)(e))||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id}}),{fetchOrganizations:Qe.ZC,saveSubscription:Ke.Oz})((0,u.EN)(et)),nt=l.createElement(tt,null);var rt=n(60819);var ot=[{id:"blank",name:"Blank"}],at=l.createElement(ve.Z,{className:"auth-screen"}),it=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props.organizations;return l.createElement(O.Z,{modalProps:{className:"new-app-modal",grayOut:!1},modalContent:l.createElement(rt.Z,{onSubmit:this.handleSubmit,templates:ot,organizations:e})},at)}}]),u}(l.Component);(0,g.$j)((function(e){return{organizations:(0,Qe.jX)(e)}}),{updateOrganization:Qe.FV,fetchOrganizations:Qe.ZC})(it);var ct=n(46274),lt=n(9669),st=n.n(lt),ut=n(50965);n(14490);var pt=l.createElement("div",{className:"terms-modal-header"},l.createElement("h1",null,"Terms of Use")),dt=l.createElement(w.Z,{large:!0,expanded:!0}),ft=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,y.Z)((0,v.Z)(e),"state",{terms:null}),(0,y.Z)((0,v.Z)(e),"getBackLocation",(function(){var e=window.location,t=e.pathname,n=e.search;return t=t.replace("/terms",""),"".concat(t).concat(n)})),e}return(0,o.Z)(u,[{key:"componentDidMount",value:function(){var e=this;st().get("/terms.html").then((function(t){e.setState({terms:t.data})}))}},{key:"render",value:function(){var e=this.state.terms;return l.createElement(Je.Z,{constrained:!0,className:"terms-modal"},pt,e?l.createElement(ut.Z,{className:"terms-modal-content"},l.createElement("div",{dangerouslySetInnerHTML:{__html:e}})):dt,l.createElement("div",{className:"terms-modal-footer"},l.createElement(R.Z,{to:this.getBackLocation()},"Done")))}}]),u}(l.Component),ht=n(81253),mt=["login_type"];var vt=function(e){(0,a.Z)(p,e);var t,n,s=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function p(){return(0,r.Z)(this,p),s.apply(this,arguments)}return(0,o.Z)(p,[{key:"render",value:function(){var e=this.props.authVisible,t=window.location.pathname.match(/^\/(login)|(signup)|(accept-invite)|(forgot-password)|(recover-password)/);if(e&&!t){var n=Z().parse(window.location.search,{ignoreQueryPrefix:!0}),r=n.login_type,o=(0,ht.Z)(n,mt),a=Z().stringify(o,{addQueryPrefix:!0}),i="".concat(window.location.pathname).concat(a);["login","signup"].includes(r)||(r="login");var c="/".concat(r,"?").concat(Z().stringify({redirect:i}));return l.createElement(u.l_,{to:c})}return null}}]),p}(l.Component);(0,u.EN)((0,g.$j)((function(e){return{authVisible:(0,ne.Qp)(e)}}))(vt));var yt=function(e){(0,a.Z)(s,e);var t,n,l=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function s(){var e;(0,r.Z)(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=l.call.apply(l,[this].concat(n)),(0,y.Z)((0,v.Z)(e),"handleWheel",(function(e){0!==e.deltaX&&e.preventDefault()})),e}return(0,o.Z)(s,[{key:"componentDidMount",value:function(){document.body.addEventListener("wheel",this.handleWheel,{passive:!1,capture:!0})}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("wheel",this.handleWheel)}},{key:"render",value:function(){return null}}]),s}(l.Component),gt=n(94537),bt=n(71315),Zt=n(37359),Et=n(405);function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}n(48030);var wt=function(e){(0,a.Z)(n,e);var t=At(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,y.Z)((0,v.Z)(e),"handleHide",(function(){var t=e.props,n=t.notification;(0,t.hideNotification)(n.id)})),e}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props.notification;return l.createElement("div",{className:"notification-item"},l.createElement(Et.Z,{onDismiss:this.handleHide},e.message))}}]),n}(l.Component),Ot=function(e){(0,a.Z)(n,e);var t=At(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.hideNotification;return l.createElement(gt.Z,{className:"notifications"},t.map((function(e){return l.createElement(bt.Z,{key:e.id,timeout:400,classNames:"notification-item"},l.createElement(wt,{notification:e,hideNotification:n}))})))}}]),n}(l.Component);const Ct=(0,g.$j)((function(e){return{notifications:(0,Zt.TH)(e)}}),{hideNotification:Zt.yK})(Ot);var xt=n(65479);n(21269);var Pt=l.createElement(ve.Z,{className:"offline-banner-visible"}),kt=l.createElement("div",{className:"offline-banner"},"Нет подключения к серверу."),St=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props.connected;return l.createElement(l.Fragment,null,e?null:Pt,kt)}}]),u}(l.Component);(0,g.$j)((function(e){return{connected:(0,xt.Nd)(e)}}))(St);var Rt=n(96486),jt=n(87872),Mt=n(34943),Bt=n(93379),Dt=n.n(Bt),Nt=n(60854);function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}Dt()(Nt.Z,{insert:"head",singleton:!1}),Nt.Z.locals;var It=function(e){(0,a.Z)(n,e);var t=Tt(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props.app;return l.createElement(s.rU,{className:"admin-user-item",to:"/apps/".concat(e.id)},l.createElement(Mt.Z,{app:e}),l.createElement("h5",null,e.name),l.createElement("p",null,e.createdAt),l.createElement("p",null,e.updatedAt))}}]),n}(l.Component),Lt=function(e){(0,a.Z)(n,e);var t=Tt(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,y.Z)((0,v.Z)(e),"getStatus",(function(){return e.props.organization.active?"paying":"free"})),e}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props.organization,t=this.getStatus();return l.createElement("span",{className:"admin-user-organization"},l.createElement("span",{className:"admin-user-org-sub"},e.name,l.createElement("span",{className:me()("admin-org-status","admin-org-".concat(t))},t)))}}]),n}(l.Component),Xt=l.createElement(A.Z,{greedy:!0},l.createElement(w.Z,{large:!0})),zt=l.createElement(s.rU,{to:"/admin/users"},"Back to Users"),Ut=function(e){(0,a.Z)(n,e);var t=Tt(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.requestUser)(t.params.userId)}},{key:"render",value:function(){var e=this.props.user;if(!e)return Xt;var t=e.Apps;return l.createElement(O.Z,{className:"admin-users-page",title:"Users"},zt,l.createElement("h1",null,e.name),l.createElement("h2",null,e.email),l.createElement("h3",null,e.Organizations.map((function(e){return l.createElement(Lt,{key:e.id,organization:e})}))),l.createElement("div",null,t.map((function(e){return l.createElement(It,{key:e.id,app:e})}))))}}]),n}(l.Component);const _t=(0,g.$j)((function(e,t){var n=t.match;return{user:(0,jt.PR)(e,n.params.userId)}}),{requestUser:jt.HG})(Ut);function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var Ft=function(e){(0,a.Z)(n,e);var t=Wt(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props.user;return l.createElement(s.rU,{className:"admin-user-item",to:"/admin/users/".concat(e.id)},l.createElement("h5",null,e.name),l.createElement("p",null,e.email),l.createElement("p",null,e.createdAt),l.createElement("p",null,e.Organizations.map((function(e){return l.createElement(Lt,{key:e.id,organization:e})}))))}}]),n}(l.Component),Yt=l.createElement(s.rU,{to:"/admin/marketplace"},"Marketplace Libraries"),Gt=l.createElement(s.rU,{to:"/admin/builds"},"Builds"),qt=l.createElement("h1",null,"Users"),Vt=l.createElement("div",{className:"admin-users-header"},l.createElement("p",null,"Name"),l.createElement("p",null,"Email"),l.createElement("p",null,"Signup Date"),l.createElement("p",null,"Team(s)")),Ht=function(e){(0,a.Z)(n,e);var t=Wt(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,y.Z)((0,v.Z)(o),"handleChange",(function(e){e.preventDefault(),o.setState({value:e.target.value})})),(0,y.Z)((0,v.Z)(o),"handleQuery",(function(){var e=o.props.requestUsers,t=o.state.value;return t?e({query:t}):e()})),o.state={value:""},o.handleQuery=(0,Rt.debounce)(o.handleQuery,200),o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){(0,this.props.requestUsers)()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.value;t.value!==n&&this.handleQuery()}},{key:"render",value:function(){var e=this.props.users,t=this.state.value;return l.createElement(O.Z,{className:"admin-users-page",title:"Users"},Yt," • ",Gt,l.createElement("section",{className:"users-header"},qt,l.createElement("input",{type:"text",onChange:this.handleChange,value:t,placeholder:"Search by name or email",autoFocus:!0})),Vt,e.map((function(e){return l.createElement(Ft,{key:e.id,user:e})})))}}]),n}(l.Component);const $t=(0,g.$j)((function(e){return{users:(0,ne.Rf)(e)}}),{requestUsers:ne.D7})(Ht);var Kt=n(28481),Qt=n(30381),Jt=n.n(Qt),en=n(63620),tn=n(68535),nn=n(3401),rn=n(19057),on=n(7629),an=[{label:"pending",value:"pending"},{label:"testing",value:"testing"},{label:"approved",value:"approved"},{label:"rejected",value:"rejected"},{label:"active",value:"active"},{label:"private",value:"private"},{label:"unlisted",value:"unlisted"},{label:"deprecated",value:"deprecated"}],cn="http://localhost:8083/component-marketplace-prod?".concat(""),ln=l.createElement(s.rU,{to:"/admin/users"},"Users"),sn=l.createElement("span",null," • "),un=l.createElement(s.rU,{to:"/admin/builds"},"Builds"),pn=l.createElement("h1",null,"Marketplace Libraries"),dn=l.createElement("p",null,"Author"),fn=l.createElement("p",null,"Public"),hn=l.createElement("p",null,"Needs Review"),mn=l.createElement("div",{className:"admin-page-table-loading"},l.createElement(w.Z,null)),vn=l.createElement(rn.Z,{type:"check"}),yn=l.createElement(rn.Z,{type:"lock"}),gn=l.createElement(rn.Z,{type:"check"}),bn=l.createElement("h3",null,"No Libraries Found"),Zn=l.createElement(s.rU,{to:"/admin/marketplace"},"← Marketplace Libraries"),En=l.createElement("span",null," • "),An=l.createElement(s.rU,{to:"/admin/users"},"Users"),wn=l.createElement("span",null," • "),On=l.createElement(s.rU,{to:"/admin/builds"},"Builds"),Cn=l.createElement("div",{className:"admin-page-table-header"},l.createElement("p",null,"Author"),l.createElement("p",null,"Email"),l.createElement("p",null,"Public"),l.createElement("p",null,"Listed")),xn=l.createElement("div",{className:"admin-page-table-loading"},l.createElement(w.Z,null)),Pn=l.createElement("p",null,"Version"),kn=l.createElement("p",null,"Status"),Sn=l.createElement("p",null,"Active"),Rn=l.createElement("p",null,"Needs Review"),jn=l.createElement("p",null,"Submitted"),Mn=l.createElement("span",null),Bn=l.createElement("div",{className:"admin-page-table-loading"},l.createElement(w.Z,null));function Dn(e){var t=e.match.params,n=t.libraryName,r=t.libraryAuthor;r&&(n="".concat(r,"/").concat(n));var o=(0,g.I0)(),a=(0,g.v9)(on.Qx),i=a.data.find((function(e){return e.name===n}));function c(e){var t=i.id,n=e.target.name;o((0,on.tl)(t,(0,y.Z)({},n,!i[n])))}return(0,l.useEffect)((function(){i||o((0,on.ob)(n))}),[]),l.createElement(O.Z,{className:"admin-page",title:n},Zn,En,An,wn,On,l.createElement("section",{className:"admin-page-header"},null!=i&&i.logo?l.createElement("img",{height:"32",src:null==i?void 0:i.logo,alt:"library logo",style:{marginRight:16}}):null,l.createElement("h1",null,n),null!=i&&i.public&&null!=i&&i.listed?l.createElement(nn.Z,{style:{marginLeft:16}},l.createElement(nn.Z.Content,null,(0,tn.p)((null==i?void 0:i.installs)||0)," installs")):null),l.createElement("section",{className:"admin-page-table"},Cn,"ready"===a.status&&i?l.createElement("div",{className:"admin-page-table-item"},l.createElement("span",null,i.User.name),l.createElement("span",null,i.User.email),l.createElement("span",null,l.createElement("input",{type:"checkbox",name:"public",checked:i.public,onChange:c})),l.createElement("span",null,l.createElement("input",{type:"checkbox",name:"listed",checked:i.listed,onChange:c}))):xn),l.createElement("section",{className:"admin-page-table"},l.createElement("div",{className:"admin-page-table-header"},Pn,null!=i&&i.public?l.createElement(l.Fragment,null,kn,Sn,Rn):null,jn,Mn),"ready"===a.status&&i?i.Versions.map((function(e){var t=i.id,r=e.id;function a(n){var a=n.target.name;o((0,on.J9)(t,r,(0,y.Z)({},a,!e[a])))}var c="".concat(cn,"/").concat(n,"/").concat(e.version,".tar");return l.createElement("div",{key:e.id,className:"admin-page-table-item"},l.createElement("span",null,l.createElement("strong",null,e.version)),null!=i&&i.public?l.createElement(l.Fragment,null,l.createElement("span",null,l.createElement(en.UB,{menu:an,onSelect:function(e){o((0,on.J9)(t,r,{status:e}))},rowHeight:32},l.createElement(nn.Z,{className:me()("status","status-".concat(e.status))},l.createElement(nn.Z.Content,null,e.status)))),l.createElement("span",null,l.createElement("input",{type:"checkbox",checked:e.active,name:"active",onChange:a})),l.createElement("span",null,l.createElement("input",{type:"checkbox",checked:e.submitted,name:"submitted",onChange:a}))):null,l.createElement("span",{title:Jt()(e.createdAt).format("LLL")},Jt()(e.createdAt).fromNow()),l.createElement("span",null,l.createElement(rn.h,{type:"download",href:c})))})):Bn))}var Nn=n(69664),Tn=n(89254);function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var Ln=l.createElement(w.Z,{small:!0}),Xn=function(e){(0,a.Z)(n,e);var t=In(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,y.Z)((0,v.Z)(e),"state",{restarting:!1}),(0,y.Z)((0,v.Z)(e),"handleRestart",(0,J.Z)(Q().mark((function t(){var n,r,o;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.build,o=n.onRestart,e.setState({restarting:!0}),t.prev=2,t.next=5,o(r.id);case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:e.setState({restarting:!1});case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))),e}return(0,o.Z)(n,[{key:"render",value:function(){var e,t=this.props.build,n=this.state.restarting;return l.createElement("div",{className:"admin-user-item"},l.createElement("h5",null,l.createElement(s.rU,{to:"/apps/".concat(t.AppId)},null===(e=t.App)||void 0===e?void 0:e.name)),l.createElement("p",null,t.target),l.createElement("p",null,t.version," (",t.versionCode,")"),l.createElement("p",null,(0,Nn.K8)(t.updatedAt)),l.createElement("p",{className:"admin-build-status-wrapper"},l.createElement("span",{className:me()("admin-build-status","admin-build-".concat(t.status))},t.status),"failed"===t.status&&l.createElement("a",{className:"deemphasize",onClick:this.handleRestart},"Restart"),n&&Ln))}}]),n}(l.Component),zn=l.createElement(A.Z,{greedy:!0},l.createElement(w.Z,{large:!0})),Un=l.createElement("p",null,l.createElement(s.rU,{to:"/admin/users"},"← Back to Users")),_n=l.createElement("h1",null,"Builds"),Wn=function(e){(0,a.Z)(n,e);var t=In(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){(0,this.props.requestBuilds)()}},{key:"render",value:function(){var e=this.props,t=e.builds,n=e.restartBuild;return 0===t.length?zn:l.createElement(O.Z,{className:"admin-users-page",title:"Builds"},Un,_n,l.createElement("div",null,t.map((function(e){return l.createElement(Xn,{key:e.id,build:e,onRestart:n})}))))}}]),n}(l.Component);const Fn=(0,g.$j)((function(e){return{builds:(0,Tn.BY)(e)}}),{requestBuilds:Tn.kQ,restartBuild:Tn.fJ})(Wn);n(7561);var Yn=l.createElement(Ct,null),Gn=l.createElement(yt,null),qn=l.createElement(u.AW,{exact:!0,path:"/login",component:Ae}),Vn=l.createElement(u.AW,{exact:!0,path:"/signup/payment",component:function(){return nt}}),Hn=l.createElement(u.rs,null,l.createElement(u.AW,{exact:!0,path:"/signup/terms",component:ft}),l.createElement(u.AW,{path:"/apps/:appId/:tabName",component:m.Z}),l.createElement(u.AW,null,l.createElement(l.Fragment,null,l.createElement(F.L,null)))),$n=l.createElement(u.AW,{exact:!0,path:"/forgot-password",component:je}),Kn=l.createElement(u.rs,null,l.createElement(u.AW,{path:"/accept-invite/terms",component:ft})),Qn=l.createElement(u.AW,{exact:!0,path:"/recover-password",component:We}),Jn=l.createElement(F.Z,null,l.createElement(u.rs,null,l.createElement(u.AW,{path:"/apps/:appId/:tabName",component:m.Z}),l.createElement(u.AW,null,l.createElement(l.Fragment,null,l.createElement(F.L,null))))),er=l.createElement(u.AW,{exact:!0,path:"/",component:P}),tr=l.createElement(ct.Z,null,l.createElement(u.rs,null,l.createElement(u.AW,{exact:!0,path:"/settings/account",component:ct.m}))),nr=l.createElement(G.Z,null),rr=l.createElement(P,null,l.createElement($,null)),or=l.createElement(u.AW,{exact:!0,path:"/apps/:appId/settings",component:ct.Z}),ar=l.createElement(u.AW,{exact:!0,path:"/admin/users",component:$t}),ir=l.createElement(u.AW,{exact:!0,path:"/admin/users/:userId",component:_t}),cr=l.createElement(u.AW,{exact:!0,path:"/admin/marketplace",component:function(){var e,t=(0,g.I0)(),n=(0,g.v9)(on.Qx),r=(0,l.useState)(""),o=(0,Kt.Z)(r,2),a=o[0],i=o[1];(0,l.useEffect)((function(){t((0,on.tU)())}),[]);var c=(0,l.useCallback)((0,Rt.debounce)((function(e){return t((0,on.tU)(e))}),200),[]);return l.createElement(O.Z,{className:"admin-page",title:"Marketplace Libraries"},ln,sn,un,l.createElement("section",{className:"admin-page-header"},pn,l.createElement("div",{style:{marginLeft:"auto"}},l.createElement("input",{type:"text",onChange:function(e){i(e.target.value),c(e.target.value)},value:a,placeholder:"Search by name or author...",autoFocus:!0}))),l.createElement("div",{className:"admin-page-table"},l.createElement("div",{className:"admin-page-table-header"},l.createElement("p",{style:{flex:2}},"Display Name"),dn,l.createElement("p",{style:{flex:2}},"Latest Version"),fn,hn,l.createElement("p",{style:{flex:2}},"Updated")),"ready"!==n.status?mn:(null===(e=n.data)||void 0===e?void 0:e.length)>0?n.data.map((function(e){var t,n,r,o,a,i=e.id,c=e.name,u="/admin/marketplace/".concat(c),p=null==e||null===(t=e.Versions)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.version,d=null==e||null===(r=e.Versions)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.status,f=null==e||null===(a=e.Versions)||void 0===a?void 0:a.some((function(e){return e.submitted}));return l.createElement(s.rU,{key:i,className:"admin-page-table-item",to:u},l.createElement("span",{style:{flex:2}},e.displayName),l.createElement("span",null,e.author),l.createElement("span",{style:{flex:2}},l.createElement(nn.Z,{className:me()("status",(0,y.Z)({},"status-".concat(d),null==e?void 0:e.public))},l.createElement(nn.Z.Content,null,null!=e&&e.public?"".concat(d,"@").concat(p):p))),l.createElement("span",null,e.public?vn:yn),l.createElement("span",null,f?gn:null),l.createElement("span",{style:{flex:2}},Jt()(e.updatedAt).fromNow()))})):l.createElement("div",{className:"admin-page-table-error"},bn,l.createElement("p",null,'for "',a,'"'))))}}),lr=l.createElement(u.AW,{exact:!0,path:"/admin/marketplace/:libraryName",component:Dn}),sr=l.createElement(u.AW,{exact:!0,path:"/admin/marketplace/:libraryAuthor/:libraryName",component:Dn}),ur=l.createElement(u.AW,{exact:!0,path:"/admin/builds",component:Fn}),pr=l.createElement(u.AW,{path:"/apps/:appId",component:h.Z}),dr=function(e){(0,a.Z)(h,e);var t,n,p=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function h(){return(0,r.Z)(this,h),p.apply(this,arguments)}return(0,o.Z)(h,[{key:"render",value:function(){return this.renderChildren()}},{key:"renderChildren",value:function(){return l.createElement(d(),{title:"Бокс 1"},l.createElement(s.VK,{history:f.Z},Yn,Gn,l.createElement(u.rs,null,qn,Vn,l.createElement(u.AW,{path:"/signup",render:function(e){return l.createElement($e,e,Hn)}}),$n,l.createElement(u.AW,{path:"/accept-invite",render:function(e){return l.createElement($e,e,Kn)}}),Qn,l.createElement(u.AW,{render:function(){return l.createElement("div",{className:"app"},Jn,l.createElement(Y,null,l.createElement(u.rs,null,er,l.createElement(u.AW,{path:"/settings",render:function(){return tr}}),l.createElement(u.AW,{exact:!0,path:"/new",render:function(){return l.createElement(P,{modalProps:{className:"new-app-modal"}},nr)}}),l.createElement(u.AW,{exact:!0,path:"/delete/:appId",render:function(){return rr}}),l.createElement(u.AW,{exact:!0,path:"/apps/:appId",render:function(e){var t=e.match;return l.createElement(u.l_,{to:"/apps/".concat(t.params.appId,"/screens"),replace:!0})}}),or,ar,ir,cr,lr,sr,ur,pr)))}}))))}}]),h}(l.Component)},16093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(6610),o=n(5991),a=n(10379),i=n(46070),c=n(77608),l=n(67294);var s=l.createElement("div",{className:"auth-page-logo"}),u=function(e){(0,a.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),l.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){return s}}]),u}(l.Component)},15645:(e,t,n)=>{"use strict";n.d(t,{G:()=>Z,Z:()=>C});var r=n(6610),o=n(5991),a=n(63349),i=n(10379),c=n(46070),l=n(77608),s=n(96156),u=n(67294),p=n(5513),d=n(6455),f=n(13705),h=n(80129),m=n.n(h),v=n(26828),y=n(33941),g=n(27650),b=n(16093);var Z=function(e){var t={};return e.email?e.email.match(/^.+@([\w\-]+\.)+\w{2,}$/)||(t.email="Please enter a valid email address"):t.email="Email is required",e.name||(t.name="Name is required"),(!e.password||e.password.length<8)&&(t.password="Password must be at least 8 characters"),e.terms||(t.terms="You must accept the Terms of Use"),t},E=u.createElement(b.Z,null),A=u.createElement("h1",null,"Sign Up For Free!"),w=u.createElement(d.Z,{name:"name",placeholder:"Elon Musk",type:"text",component:y.Z,label:"Full Name",autoComplete:"name"}),O=function(e){(0,i.Z)(h,e);var t,n,f=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function h(){var e;(0,r.Z)(this,h);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=f.call.apply(f,[this].concat(n)),(0,s.Z)((0,a.Z)(e),"getTermsURL",(function(){var e=window.location,t=e.pathname,n=e.search,r=(t=t.replace(/\/$/,"")).includes("/terms")?"":"/terms";return"".concat(t).concat(r).concat(n)})),e}return(0,o.Z)(h,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitFailed,r=e.error,o=e.isInvite,a=e.submitting,i=e.redirect,c=m().stringify({redirect:i},{addQueryPrefix:!0});return u.createElement("form",{onSubmit:t,className:"auth-form"},E,A,u.createElement(d.Z,{autoFocus:!o,disabled:o,name:"email",placeholder:"elon@spacex.com",type:"email",label:"Email Address",component:y.Z,autoComplete:"email"}),u.createElement(d.Z,{autoFocus:o,name:"password",placeholder:"••••••••",type:"password",label:"Password",component:y.Z,autoComplete:"new-password"}),w,u.createElement(d.Z,{yellow:!0,name:"terms",component:g.Z,label:u.createElement("span",null,"I have read & agree to ",u.createElement(p.rU,{to:this.getTermsURL()},"Terms of Use")),autoComplete:"off"}),u.createElement("div",{className:"auth-form-submission-row"},u.createElement(v.Z,{large:!0,yellow:!0,loading:a},"Let’s Do This!")),r&&n&&u.createElement("div",{className:"auth-form-error"},r),u.createElement("div",{className:"auth-form-link"},"Already have an account? ",u.createElement(p.rU,{to:"/login".concat(c),className:"link-button"},"Login")))}}]),h}(u.Component);const C=(0,f.Z)({form:"signupForm",validate:Z})(O)},50930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>de});var r=n(6610),o=n(5991),a=n(10379),i=n(46070),c=n(77608),l=n(67294),s=n(26353),u=n(94184),p=n.n(u),d=n(37703),f=n(82092);n(32467),(0,d.$j)((function(e){return{activeTab:(0,f.Pk)(e)}}),{setActiveAddTab:f.VL})((function(e){var t=e.activeTab,n=e.extraProps,r=e.tabs;(0,l.useEffect)((function(){var n=e.setActiveAddTab;return!t&&r.length&&n(r[0].id),function(){return n("component")}}),[]);var o=r.find((function(e){return e.id===t}));return l.createElement(l.Fragment,null,l.createElement("div",{className:"editor-add-panel-tabs"},r.map((function(n){var r=n.id,o=n.title;return l.createElement("div",{key:r,className:p()("editor-add-panel-tab",{"editor-add-panel-tab-active":t===r}),onClick:function(){return function(t){return(0,e.setActiveAddTab)(t)}(r)}},o)}))),o?l.createElement(o.component,n):null)}));var h=n(85061),m=n(87757),v=n.n(m),y=n(90484),g=n(92137),b=n(81253),Z=n(63349),E=n(96156),A=n(90955),w=n(96486),O=n(24812),C=n(82700),x=n(69425),P=n(97814),k=n(3227),S=n(8808),R=n(42271),j=(n(85047),n(84975)),M=n(52054),B=n(28481),D=(n(45697),n(57317)),N=n(22122),T=n(93379),I=n.n(T),L=n(98931);I()(L.Z,{insert:"head",singleton:!1}),L.Z.locals;const X=function(e){var t=e.items,n=e.emptyMessage,r=e.className,o=e.renderItem,a=e.isSearching;return 0===t.length?l.createElement("div",{className:"editor-add-no-results"},n):t.map((function(e){var n=e.title,i=e.options,c=e.callout;return n?l.createElement("div",{key:n,className:"editor-add-section"},l.createElement("div",{className:"section-header-content"},l.createElement("h2",null,n),c&&function(e){var n=e.callout;return a&&t.length>0?null:l.createElement(M.Z,n)}(e)),(null==i?void 0:i.length)>0?i.map((function(e){var t=e.children,n=e.label,a={title:n,options:t,renderItem:o,emptyCallout:null==e?void 0:e.emptyCallout};return l.createElement(j.ZP,(0,N.Z)({key:n,className:p()("editor-add-panel-accordion",r)},a))})):null):l.createElement(j.ZP,{key:e.label,className:p()("editor-add-panel-accordion",r),title:e.label,options:e.children,renderItem:o})}))};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){return t=t.toLowerCase(),e.map((function(e){var n=e.children,r=e.options;return U(U({},e),{},r?{options:_(r,t)}:{children:null==n?void 0:n.filter((function(e){return e.label.toLowerCase().includes(t)}))})})).filter((function(e){var t,n,r=e.options;return r?(null==r||null===(n=r.filter((function(e){var t;return(null==e||null===(t=e.children)||void 0===t?void 0:t.length)>0})))||void 0===n?void 0:n.length)>0:(null==e||null===(t=e.children)||void 0===t?void 0:t.length)>0}))}var W=l.createElement("i",{className:"material-icons"},"search"),F=function(e){var t=e.defaultOpen,n=e.options,r=e.searchPlaceholder,o=e.emptyMessage,a=e.renderItem,i=(e.className,e.sections),c=(0,l.useState)(""),s=(0,B.Z)(c,2),u=s[0],p=s[1],d=[].concat((0,h.Z)(n),(0,h.Z)(i)),f=u?_(d,u):d;return l.createElement(D.Z.Group,{defaultOpen:t,openAll:!!u},l.createElement("div",{className:"editor-add-panel-search"},W,l.createElement("input",{placeholder:r,value:u,onChange:function(e){return p(e.target.value)},autoFocus:!0})),l.createElement(X,{items:f,emptyMessage:o,renderItem:a,isSearching:!!u}))};F.defaultProps={searchPlaceholder:"Search...",sections:[]};const Y=l.memo(F);n.p;var G=n(57412),q=(n(14718),["id","label","value","icon"]);function V(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={rectangle:{icon:"section",label:"Прямоугольник",value:{type:A.Ou,options:C.ce[A.Ou]}},ellipse:{icon:"ellipse",label:"Круг",value:{type:A.E2,options:C.ce[A.E2]}},image:{icon:"image",label:"Трассировка изображения",value:{type:A.k4,options:C.ce[A.k4]}},imageUpload:{icon:"image-upload",label:"Image Picker",value:{type:A.Pk,options:C.ce[A.Pk]}},vector:{icon:"pen",label:"Вектор",value:A.X3}},J=(A.Ou,C.ce[A.Ou],A.E2,C.ce[A.E2],A.k4,C.ce[A.k4],A.Pk,C.ce[A.Pk],A.X3,function(e,t){return{$ref:{library:e,component:t}}});function ee(e){if(null!=e&&e.options){var t=e.options,n=t.libraryName,r=t.libraryVersion,o=t.componentName;if(!n)return null;var a=(0,O.NC)(n,r,o);return{backgroundImage:"url(".concat(a,")")}}}var te=function(e,t){var n=(0,O.u)(e);return t.map((function(e){return null!=e&&e.$ref?function(e,t){var n,r=t.find((function(t){return t.library===e.library||t.label===e.library}));if(!r)return null;var o=r.children.find((function(t){return t.name===e.component||t.label===e.component}));if(null!=o&&null!==(n=o.value)&&void 0!==n&&n.options){var a=o.value.options,i=a.libraryName,c=a.libraryVersion,l=a.componentName;return K(K({},o),{},{id:"".concat(i).concat(c).concat(l)})}return o}(e.$ref,n):e})).filter(Boolean)},ne=[{title:"Популярные",components:[Q.ellipse,Q.rectangle,Q.image,Q.vector]}],re=G.reduce((function(e,t){e[t.category]||(e[t.category]={label:t.category,children:[]});var n={name:t._id,label:t.label,icon:"component",value:{type:A.fY,options:{orientations:t.orientations}},iconUrl:t.iconUrl};return e[t.category].children.push(n),e}),{}),oe=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,E.Z)((0,Z.Z)(e),"renderItem",(function(t){var n=t.id,r=t.label,o=t.value,a=t.icon,i=(0,b.Z)(t,q);return l.createElement(j.Q1,{key:n||r,name:r,iconClassName:a&&"editor-add-component-icon-".concat(a),iconStyles:i.iconUrl?{backgroundImage:"url(".concat(i.iconUrl,")"),backgroundSize:"contain"}:ee(o),onMouseDown:function(t){e.handleSelect(o,[t.clientX,t.clientY])}})})),(0,E.Z)((0,Z.Z)(e),"handleSelect",function(){var t=(0,g.Z)(v().mark((function t(n,r){var o,a;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:o=e.props.setTool,"object"===(0,y.Z)(n)?(a=n.options,n=n.type):a={},o(n,a,r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),(0,E.Z)((0,Z.Z)(e),"getMarketplaceLibraries",(function(e){var t,n=null===(t=window)||void 0===t?void 0:t.protonLibraries,r=[];if(n){var o,a=V(e);try{for(a.s();!(o=a.n()).done;){var i,c,l=o.value;if(l){var s=l.name,u=l.version,p=null==n||null===(i=n[s])||void 0===i||null===(c=i[u])||void 0===c?void 0:c.config;if(p){var d,f=p.name,h=V(p.components);try{for(h.s();!(d=h.n()).done;){var m=d.value;if(m){var v=m.displayName,y=J(f,v);r.push(y)}}}catch(e){h.e(e)}finally{h.f()}}}}}catch(e){a.e(e)}finally{a.f()}}return r})),(0,E.Z)((0,Z.Z)(e),"getDevelopmentLibraries",(function(){var e,t=(0,x.tZ)(),n=null===(e=window)||void 0===e?void 0:e.protonLibraries,r=[];return t.length>0&&t.forEach((function(e){var t,o=null==n?void 0:n[e];if(null!=o&&null!==(t=o.dev)&&void 0!==t&&t.config){var a=o.dev.config,i=a.name;a.components.map((function(e){var t=e.displayName,n=J(i,t);return r.push(n)}))}})),r})),(0,E.Z)((0,Z.Z)(e),"getMarketplaceOptions",(function(){var t=e.props,n=t.app,r=t.installedLibraries,o=t.privateLibraries,a=t.adminLibraries,i=e.getDevelopmentLibraries(),c=[];if(!(Array.isArray(r)&&r.length||Array.isArray(o)&&o.length||Array.isArray(a)&&a.length||Array.isArray(i)&&i.length))return c;var s=e.getMarketplaceLibraries(r),u="Installed";if(c.find((function(e){return e.label===u}))||c.push({label:u,children:[]}),s.length>0){var p=(0,w.findIndex)(c,{label:u});(null==c?void 0:c[p]).children=te(n,s)}var d=e.getMarketplaceLibraries(o);if(!c.find((function(e){return"Private"===e.label}))){var f={title:"No Private Components",body:"Develop your own private component or \nadd one to the marketplace!",color:"grey",borderStyle:"dashed",button:{icon:"code",children:"Create Component",to:"https://developers.adalo.com",target:"_blank",rel:"noreferrer noopener",outlined:!0}},h=l.createElement(M.Z,f);c.push({label:"Private",children:[],emptyCallout:h})}if(d.length>0){var m=(0,w.findIndex)(c,{label:"Private"});(null==c?void 0:c[m]).children=te(n,d)}var v="Under Review",y=e.getMarketplaceLibraries(a);if(y.length>0){c.find((function(e){return e.label===v}))||c.push({label:v,children:[]});var g=(0,w.findIndex)(c,{label:v});(null==c?void 0:c[g]).children=te(n,y)}var b="Development";if((null==i?void 0:i.length)>0){c.find((function(e){return e.label===b}))||c.push({label:b,children:[]});var Z=(0,w.findIndex)(c,{label:b});(null==c?void 0:c[Z]).children=te(n,i)}return c})),e}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.appId,n=e.options;return this.getMarketplaceOptions().length,"/apps/".concat(t,"/marketplace"),l.createElement(Y,{defaultOpen:["Популярные"],searchPlaceholder:"Поиск объектов...",emptyMessage:l.createElement(l.Fragment,null,"Пусто"),renderItem:this.renderItem,options:n,sections:[]})}}]),u}(l.Component);const ae=(0,d.$j)((function(e,t){var n=t.appId,r=(0,k.Mq)(e,n),o=(0,S.ts)(e),a=(0,R.fL)(e),i=(0,R.M2)(e),c=(0,R.JQ)(e);return{app:r,options:[].concat((0,h.Z)(ne.map((function(e){return{label:e.title,children:te(r,e.components)}}))),(0,h.Z)(Object.keys(re).map((function(e){return{label:re[e].label,children:te(r,re[e].children)}})))),user:o,installedLibraries:a,privateLibraries:i,adminLibraries:c}}),{setTool:P.Cc})(oe);var ie=n(75645),ce=n(39661),le=n(85948);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ue=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,E.Z)((0,Z.Z)(e),"handleSelect",function(){var t=(0,g.Z)(v().mark((function t(n){var r,o,a;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,o=r.showModal,a=r.setActiveAddTab,t.prev=1,t.next=4,o(ce.fk,{zoom:!0,template:n});case 4:a("component"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()),(0,E.Z)((0,Z.Z)(e),"renderItem",(function(t){var n=t.id,r=t.name,o=t.thumbnail,a=t.iconClassName,i=e.props.platform,c={};return o&&(c.backgroundImage='url("'.concat((0,ie.L)(o),'")')),l.createElement(j.Q1,{key:n,name:r,isMobileScreen:"mobile"===i,iconClassName:a,iconStyles:c,onClick:function(){return e.handleSelect(n)}})})),e}return(0,o.Z)(u,[{key:"getOptions",value:function(){return this.props.categorizedTemplates.map((function(e){return{label:e.title,children:e.options.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({label:e.name},e)}))}}))}},{key:"componentDidMount",value:function(){var e=this.props;(0,e.ensureScreenTemplatesAreLoaded)(e.platform)}},{key:"render",value:function(){var e=this.props.platform;return l.createElement(Y,{key:"screen",isMobileScreen:"mobile"===e,className:p()("editor-add-screens-tab",{"editor-add-mobile-screens-tab":"mobile"===e,"editor-add-web-screens-tab":"web"===e}),defaultOpen:["Simple"],searchPlaceholder:"Search Screens...",emptyMessage:"No screens found",onSelect:this.handleSelect,options:this.getOptions(),renderItem:this.renderItem})}}]),u}(l.Component);(0,d.$j)((function(e,t){var n=t.appId,r=(0,k.L5)(e,n);return{platform:r,categorizedTemplates:(0,le.lv)(e,r)}}),{showModal:ce.K4,ensureScreenTemplatesAreLoaded:le.A$,setActiveAddTab:f.VL})(ue),n(8976);var pe=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"shouldComponentUpdate",value:function(e){return this.props.match.params.appId!==e.match.params.appId}},{key:"render",value:function(){var e=this.props.match.params.appId;return l.createElement(ae,{appId:{appId:e}})}}]),u}(l.Component);const de=(0,s.EN)(pe)},56399:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var r=n(6610),o=n(5991),a=n(10379),i=n(46070),c=n(77608),l=n(67294),s=n(26353),u=n(87757),p=n.n(u),d=n(92137),f=n(81253),h=n(63349),m=n(96156),v=n(37703),y=n(24812),g=n(61145),b=n(97814),Z=n(8808),E=n(42271),A=(n(86179),n(84975)),w=n(85061),O=n(28481),C=(n(45697),n(57317)),x=n(22122),P=n(94184),k=n.n(P),S=n(52054),R=n(93379),j=n.n(R),M=n(67537);j()(M.Z,{insert:"head",singleton:!1}),M.Z.locals;const B=function(e){var t=e.items,n=e.emptyMessage,r=e.className,o=e.renderItem,a=e.isSearching;return 0===t.length?l.createElement("div",{className:"editor-add-no-results"},n):t.map((function(e){var n=e.title,i=e.options,c=e.callout;return n?l.createElement("div",{key:n,className:"editor-add-section"},l.createElement("div",{className:"section-header-content"},l.createElement("h2",null,n),c&&function(e){var n=e.callout;return a&&t.length>0?null:l.createElement(S.Z,n)}(e)),(null==i?void 0:i.length)>0?i.map((function(e){var t=e.children,n=e.label,a={title:n,options:t,renderItem:o,emptyCallout:null==e?void 0:e.emptyCallout};return l.createElement(A.ZP,(0,x.Z)({key:n,className:k()("editor-add-panel-accordion",r)},a))})):null):l.createElement(A.ZP,{key:e.label,className:k()("editor-add-panel-accordion",r),title:e.label,options:e.children,renderItem:o})}))};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){return t=t.toLowerCase(),e.map((function(e){var n=e.children,r=e.options;return N(N({},e),{},r?{options:T(r,t)}:{children:null==n?void 0:n.filter((function(e){return e.label.toLowerCase().includes(t)}))})})).filter((function(e){var t,n,r=e.options;return r?(null==r||null===(n=r.filter((function(e){var t;return(null==e||null===(t=e.children)||void 0===t?void 0:t.length)>0})))||void 0===n?void 0:n.length)>0:(null==e||null===(t=e.children)||void 0===t?void 0:t.length)>0}))}var I=l.createElement("i",{className:"material-icons"},"search"),L=function(e){var t=e.defaultOpen,n=e.options,r=e.searchPlaceholder,o=e.emptyMessage,a=e.renderItem,i=(e.className,e.sections),c=(0,l.useState)(""),s=(0,O.Z)(c,2),u=s[0],p=s[1],d=[].concat((0,w.Z)(n),(0,w.Z)(i)),f=u?T(d,u):d;return l.createElement(C.Z.Group,{defaultOpen:t,openAll:!!u},l.createElement("div",{className:"editor-add-panel-search"},I,l.createElement("input",{placeholder:r,value:u,onChange:function(e){return p(e.target.value)},autoFocus:!0})),l.createElement(B,{items:f,emptyMessage:o,renderItem:a,isSearching:!!u}))};L.defaultProps={searchPlaceholder:"Search...",sections:[]};const X=l.memo(L);var z=n(14718),U=n(12893),_=n(3227),W=n(90955),F=["id","label","value","icon"];function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e,t){var n=(0,y.u)(e);return t.map((function(e){return null!=e&&e.$ref?function(e,t){var n,r=t.find((function(t){return t.library===e.library||t.label===e.library}));if(!r)return null;var o=r.children.find((function(t){return t.name===e.component||t.label===e.component}));if(null!=o&&null!==(n=o.value)&&void 0!==n&&n.options){var a=o.value.options,i=a.libraryName,c=a.libraryVersion,l=a.componentName;return G(G({},o),{},{id:"".concat(i).concat(c).concat(l)})}return o}(e.$ref,n):e})).filter(Boolean)},V=z.reduce((function(e,t){return e[t.categoryString]||(e[t.categoryString]=[]),e[t.categoryString].push(t),e}),{}),H=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=s.call.apply(s,[this].concat(n)),(0,m.Z)((0,h.Z)(e),"renderItem",(function(t){var n=t.id,r=t.label,o=(t.value,t.icon),a=(0,f.Z)(t,F);return l.createElement(A.Q1,{key:n||r,name:"".concat(r),subname:"".concat((0,U.q7)(a.width),"x").concat((0,U.q7)(a.height),"x").concat((0,U.q7)(a.totalDepth)),iconClassName:o&&"editor-add-component-icon-".concat(o),iconStyles:{backgroundImage:"url(".concat(a.iconUrl,")"),backgroundSize:"contain"},onMouseDown:function(t){e.handleSelect({name:r,width:96*a.width,height:96*a.height,inCaseShapes:a.inCaseShapes,lowerWidth:96*a.lowerWidth,lowerLength:96*a.lowerLength,borderRadius:96*a.borderRadius,outerRule:a.outerRule,depth:96*a.totalDepth})}})})),(0,m.Z)((0,h.Z)(e),"handleSelect",function(){var t=(0,d.Z)(p().mark((function t(n){var r,o,a,i,c,l,s,u,d;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.props,o=r.root,r.updateObject,a=r.updateApp,i=r.resetZoom,c=r.app,l=r.resetObjects,s=r.loadComponent,G(G({},o),n),u={width:n.width,height:n.height,depth:n.depth,borderRadius:n.borderRadius,backgroundColor:"@background"},c&&Object.values(c.components).forEach((function(e){s(c.id,e.id)})),d=l(G(G({},u),{},{name:n.name,type:W.NV,x:void 0,y:void 0}),null,!0),a(c.id,{width:n.width,height:n.height,inCaseShapes:n.inCaseShapes,lowerWidth:n.lowerWidth,lowerLength:n.lowerLength,outerRule:n.outerRule,borderRadius:n.borderRadius,depth:n.depth,name:n.name,description:"".concat((0,U.Qh)(n.width),"x").concat((0,U.Qh)(n.height),"x").concat((0,U.Qh)(n.depth)),launchComponentId:d.id}),i();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props,t=(e.appId,e.options);return l.createElement(X,{defaultOpen:["Популярные"],searchPlaceholder:"Поиск объектов...",emptyMessage:l.createElement(l.Fragment,null,"Пусто"),renderItem:this.renderItem,options:t,sections:[]})}}]),u}(l.Component);const $=(0,v.$j)((function(e,t){var n=t.appId,r=(0,_.Mq)(e,n),o=(0,Z.ts)(e),a=(0,E.fL)(e),i=(0,E.M2)(e),c=(0,E.JQ)(e);return{app:(0,_.Mq)(e,(0,g.i3)(e)),root:(0,g.PP)(e),options:Object.keys(V).map((function(e){return{label:e,children:q(r,V[e])}})),user:o,installedLibraries:a,privateLibraries:i,adminLibraries:c}}),{setTool:b.Cc,updateObject:g.v4,updateApp:_.KT,resetZoom:g.uN,resetObjects:g.iI,loadComponent:_.yC})(H);n(8976);var K=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"shouldComponentUpdate",value:function(e){return this.props.match.params.appId!==e.match.params.appId}},{key:"render",value:function(){var e=this.props.match.params.appId;return l.createElement($,{appId:{appId:e}})}}]),u}(l.Component);const Q=(0,s.EN)(K)},85047:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(28481),o=n(6610),a=n(5991),i=n(63349),c=n(10379),l=n(46070),s=n(77608),u=n(96156),p=n(67294),d=n(26353),f=n(37703),h=n(5535),m=n(81129),v=n(43020),y=n(82700),g=n(61145),b=n(96766),Z=n(98151),E=n(3227),A=n(97814),w=(n(69501),n(90955)),O=n(59274),C=n(6789),x=n(9688);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=Symbol("AddDraggableComponent$OPTIONS"),R=Math.pow(20,2);function j(e,t,n){return[e-=Math.floor(n.width/2),t-=Math.floor(n.height/2)]}function M(e,t,n){return n.options&&n.options[S]&&(n.options[S].xOffset&&(e+=n.options[S].xOffset),n.options[S].yOffset&&(t+=n.options[S].yOffset)),[e,t]}var B=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;(0,o.Z)(this,f),t=d.call(this,e),(0,u.Z)((0,i.Z)(t),"handleMouseUp",(function(e){var n=t.props.startPosition,o=(0,r.Z)(n,2),a=o[0],i=o[1];Math.pow(e.clientX-a,2)+Math.pow(e.clientY-i,2)<R||t.handleMouseDown(e)})),(0,u.Z)((0,i.Z)(t),"handleMouseDown",(function(e){var n=t.state,o=n.xSnapped,a=n.ySnapped,i=n.x,c=n.y,l=t.props,s=l.createObject,u=l.resetTool,p=l.resetSnaps,d=l.options,f=d.type,h=k(k(k({},d),y.ce[f]),{},{x:o,y:a}),m=4*(Math.sqrt(2)-1)/3,v=[],g=[],b=[];switch(h.type){case w.E2:var Z=[new O.XX([-1,0],[0,m],[0,-m]),new O.XX([0,-1],[-m,0],[m,0]),new O.XX([1,0],[0,-m],[0,m]),new O.XX([0,1],[m,0],[-m,0])],E=new O.E9(h.x,h.y),A=new O.E9(h.width/2,h.height/2);b=new Array(4);for(var x=0;x<4;x++){var P=Z[x];b[x]=new O.XX(P._point.multiply(A).add(E),P._handleIn.multiply(A),P._handleOut.multiply(A))}var S=O.XV.create(b.map((function(e){var t=e.point,n=e.handleIn,r=e.handleOut;return new O.XX(t,n,r)})));S.setClosed(!0),S.setPosition(new O.E9(h.x+h.width/2,h.y+h.height/2)),S instanceof C.Op?v=S.children.map((function(e){return e.points})):g=S.points,h=k(k({},h),{},{compound:v,points:g,isClosed:!0});break;case w.Ou:var R=new C.Ae(h.x,h.y,h.width,h.height),B=new O.E9(h.borderRadius?[h.borderRadius,h.borderRadius]:[0,0]),D=R.getBottomLeft(!0),N=R.getTopLeft(!0),T=R.getTopRight(!0),I=R.getBottomRight(!0);if(!B||B.isZero())b=[new O.XX(D),new O.XX(N),new O.XX(T),new O.XX(I)];else{var L=(B=O.$u.min(new O.$u(h.borderRadius,h.borderRadius),R.getSize(!0).divide(2))).width,X=B.height,z=L*m,U=X*m;b=[new O.XX(D.add(L,0),null,[-z,0]),new O.XX(D.subtract(0,X),[0,U]),new O.XX(N.add(0,X),null,[0,-U]),new O.XX(N.add(L,0),[-z,0],null),new O.XX(T.subtract(L,0),null,[z,0]),new O.XX(T.add(0,X),[0,-U],null),new O.XX(I.subtract(0,X),null,[0,U]),new O.XX(I.subtract(L,0),[z,0])]}var _=O.XV.create(b.map((function(e){var t=e.point,n=e.handleIn,r=e.handleOut;return new O.XX(t,n,r)})));_.setClosed(!0),_.adjust(h.x,h.y),_ instanceof C.Op?v=_.children.map((function(e){return e.points})):g=_.points,h=k(k({},h),{},{compound:v,points:g,isClosed:!0})}var W=j(i,c,h),F=(0,r.Z)(W,2),Y=M(F[0],F[1],t.props),G=(0,r.Z)(Y,2),q=G[0],V=G[1],H=t.getBestParent(q,V);s(h=k(k({},h),{},{parentId:H&&H.id})),u(),p()})),(0,u.Z)((0,i.Z)(t),"handleMouseMove",(function(e){var n=t.props,o=n.zoom,a=n.options,i=(0,m.ty)([e.clientX,e.clientY],o),c=(0,r.Z)(i,2),l=j(c[0],c[1],k(k({},a),y.ce[a.type])),s=(0,r.Z)(l,2),u=M(s[0],s[1],t.props),p=(0,r.Z)(u,2),d=p[0],f=p[1],h=t.getBestParent(d,f),v=t.calculateSnappedPosition(d,f,h),g=(0,r.Z)(v,2),b=g[0],Z=g[1];t.setState({xSnapped:b,ySnapped:Z,mouseOver:!0,x:d,y:f})})),(0,u.Z)((0,i.Z)(t),"handleMouseLeave",(function(){t.setState({mouseOver:!1})})),(0,u.Z)((0,i.Z)(t),"getBestParent",(function(e,n){var r=t.state,o=r.x,a=r.y;o=e||o,a=n||a;var i=t.props,c=i.options,l=i.screens,s=i.app,u=k(k(k({},c),y.ce[c.type]),{},{x:o,y:a});l=l.filter((function(e){return e.id===s.launchComponentId}));var p=(0,h.A5)(u,l);return l.filter((function(e){return e.id===p}))[0]})),(0,u.Z)((0,i.Z)(t),"calculateGridSnapPosition",(function(e,n){var r=t.props,o=r.options,a=r.xGrid,i=r.yGrid,c=r.setXSnap,l=r.setYSnap,s=r.zoom,u=y.ce[o.type],p=u.width,d=u.height;if(!a||!i)return[e,n,p,d];var f=0,h=0,m={left:e,center:e+p/2,right:e+p},g={top:n,center:n+d/2,bottom:n+d},b=(0,v.qz)(a,m,s),Z=(0,v.qz)(i,g,s);if(b){var E=Object.keys(b)[0];f=b[E]-m[E],c(b[E])}else c(null);if(Z){var A=Object.keys(Z)[0];h=Z[A]-g[A],l(Z[A])}else l(null);return[Math.round(e+f),Math.round(n+h),p,d]})),(0,u.Z)((0,i.Z)(t),"calculateSnappedPosition",(function(e,n,r){return t.calculateGridSnapPosition(e,n)})),(0,u.Z)((0,i.Z)(t),"renderComponent",(function(){var e=t.props,n=e.zoom,o=e.options,a=e.branding,i=o.type,c=t.state,l=c.xSnapped,s=c.ySnapped,u=(0,m.bA)([l,s],n),d=(0,r.Z)(u,2),f=d[0],h=d[1],v=y.ce[i],g=v.width,Z=v.height,E=g,A=Z;g=(0,m.pF)(E,n),Z=(0,m.pF)(A,n);var w=k(k({},o),{},{width:E,height:A,x:0,y:0}),O=k(k({},n),{},{offset:[0,0]});return p.createElement("g",{transform:"translate(".concat(f,", ").concat(h,")"),opacity:.5},p.createElement(b.Z,{branding:a,object:w,zoom:O}),p.createElement("rect",{x:0,y:0,width:g,height:Z,stroke:"none",fill:"none"}))}));var n=e.startPosition?e.startPosition:[0,0],a=(0,m.ty)(n,e.zoom),c=(0,r.Z)(a,2),l=c[0],s=c[1],g=e.options.type,Z=j(l,s,y.ce[g]),E=(0,r.Z)(Z,2),A=M(E[0],E[1],e),x=(0,r.Z)(A,2),P=x[0],S=x[1];return t.state={x:P,y:S,mouseOver:!!e.startPosition,xSnapped:P,ySnapped:S},t}return(0,a.Z)(f,[{key:"render",value:function(){var e=this.state.mouseOver,t=window.innerWidth,n=window.innerHeight;return p.createElement("g",{className:"add-component-instance"},e?this.renderComponent():null,p.createElement("rect",{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseMove,x:0,y:0,width:t,height:n,className:"add-component-backdrop"}))}}]),f}(p.Component);const D=(0,d.EN)((0,f.$j)((function(e,t){return t.match,t.options,{app:(0,E.Mq)(e,(0,g.i3)(e)),branding:(0,E.WS)(e,(0,g.i3)(e)),screens:(0,g.sr)(e),activeStack:(0,x.c4)(e),xGrid:(0,Z.L)(e),yGrid:(0,Z.WP)(e),startPosition:(0,A.nr)(e)}}),{createObject:g.nW,resetTool:A.bS,setXSnap:Z.xd,setYSnap:Z.mE,resetSnaps:Z.gL})(B))},72982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(6610),o=n(5991),a=n(63349),i=n(10379),c=n(46070),l=n(77608),s=n(96156),u=n(67294),p=n(45697),d=n.n(p),f=n(71707);var h=function(e){(0,i.Z)(p,e);var t,n,u=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function p(){var e;(0,r.Z)(this,p);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=u.call.apply(u,[this].concat(n)),(0,s.Z)((0,a.Z)(e),"cancelEvent",(function(e){e.stopPropagation()})),(0,s.Z)((0,a.Z)(e),"handleSelect",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props.onSelect;n(t.shiftKey,t.metaKey)})),(0,s.Z)((0,a.Z)(e),"isSelected",(function(){var t=e.props.id;return-1!==(0,e.context.getSelection)().indexOf(t)})),(0,s.Z)((0,a.Z)(e),"handleMouseDown",(function(t){var n=e.props.onPosition;e.handleSelect(t),n([t.clientX,t.clientY])})),(0,s.Z)((0,a.Z)(e),"handleDoubleClick",(function(t){e.context.editable&&(t.stopPropagation(),e.doubleClickHandler())})),e}return(0,o.Z)(p,[{key:"doubleClickHandler",value:function(){(0,this.props.onExpand)()}},{key:"getColor",value:function(e){var t=this.props.branding;return(0,f.ut)(e,t)}}]),p}(u.Component);(0,s.Z)(h,"contextTypes",{editable:d().bool,getSelection:d().func})},42281:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(96156),o=n(81253),a=n(6610),i=n(5991),c=n(10379),l=n(46070),s=n(77608),u=n(90955),p=n(72982),d=n(81129),f=["borderColor","borderPosition"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){(0,c.Z)(p,e);var t,n,r=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function p(){return(0,a.Z)(this,p),r.apply(this,arguments)}return(0,i.Z)(p,[{key:"getBorderWidth",value:function(){var e=this.props,t=(e.borderWidth,e.zoom);return(0,d.pF)(1,t)}},{key:"getBorderProps",value:function(){var e=this.props,t=e.borderColor,n=(e.borderPosition,(0,o.Z)(e,f));return n.borderStyle&&n.borderStyle!==u.$u.NONE?{strokeWidth:this.getBorderWidth(),stroke:this.getColor(t)}:{strokeWidth:1,stroke:"transparent"}}},{key:"getBackgroundColor",value:function(){return this.props.backgroundStyle===u.Nu.COLOR?this.getColor(this.props.backgroundColor):"#ddd"}},{key:"getShadowProps",value:function(){var e=this.props,t=e.xScaled,n=e.yScaled,r=e.widthScaled,o=e.heightScaled,a=e.shadow,i=e.zoom,c=this.getBorderProps();return{shadow:a=m(m({},a),{},{color:this.getColor(a.color)}),zoom:i,border:c,x:t,y:n,width:r,height:o}}}]),p}(p.Z)},96766:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});var r=n(81253),o=n(28481),a=n(6610),i=n(5991),c=n(63349),l=n(10379),s=n(46070),u=n(77608),p=n(96156),d=n(67294),f=n(45697),h=n.n(f),m=n(37703),v=n(90955),y=n(81129),g=n(61145),b=n(35592),Z=n(89926),E=n(62088),A=n(62012),w=n(15746),O=n(1054),C=n(43530),x=n(66400),P=n(44263),k=n(22122),S=n(75645);n(91758);var R=n(59274);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(55744);var M={source:"data:image/svg+xml;base64,bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArICJzdGF0aWMvbWVkaWEvZHluYW1pYy1pbWFnZS5mZmQ4NTRhNS5zdmciOw=="},B={source:"data:image/svg+xml;base64,bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArICJzdGF0aWMvbWVkaWEvdXBsb2FkZWQtaW1hZ2UuMjgzZjM1OTQuc3ZnIjs="},D=function(e){(0,l.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function o(e){var t;return(0,a.Z)(this,o),t=r.call(this,e),(0,p.Z)((0,c.Z)(t),"getURL",(function(){var e=t.props,n=e.imageType,r=e.imageId,o=e.imageBinding,a=e.imageURL,i=e.filename1x,c=null,l=null,s=null;if(o&&void 0!==o.options&&!i){var u=o.options;void 0!==u.placeholderImageEnabled&&(l=u.placeholderImageEnabled),void 0!==u.placeholderImage&&(s=u.placeholderImage)}if(r)c="".concat(r,"@2x.png");else if(l)c=s;else if(!o&&i){var p,d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(["2x","1x","3x"]);try{for(d.s();!(p=d.n()).done;){var f=p.value,h="filename".concat(f);if(t.props[h]){c=t.props[h];break}}}catch(e){d.e(e)}finally{d.f()}}return"url"===n&&a?Array.isArray(a)?null:a:c?(0,S.L)(c):null})),t.svgRef=d.createRef(),t}return(0,i.Z)(o,[{key:"getMaskId",value:function(){var e=this.props.id;return"image-mask-".concat(e)}},{key:"renderPlaceholder",value:function(){var e=this.props,t=e.id,n=e.zoom,r=e.width,o=e.height,a=e.widthScaled,i=e.heightScaled,c=e.xScaled,l=e.yScaled,s=e.imageType,u="dynamic"===s||"url"===s?M:B,p=Math.min(r,o),f=Math.max(16,Math.min(80,.7*p)),h=(0,y.pF)(f,n),m=(0,y.pF)(f,n),g=this.getURL(),b=this.getMaskId(),Z=this.props.imageResize===v.bB.CONTAIN?"meet":"slice";return g?d.createElement("g",{mask:"url(#".concat(b,")")},d.createElement("image",{href:g,x:c,y:l,width:a,height:i,preserveAspectRatio:"xMidYMid ".concat(Z)})):d.createElement("g",{transform:"translate(".concat(c,", ").concat(l,")"),className:"image-upload-object"},d.createElement("image",{href:u.source,width:h,height:m,x:a/2-h/2,y:i/2-m/2,clipPath:"url(#clip-".concat(t,")")}))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.width,r=e.height,o=e.xScaled,a=e.yScaled,i=e.widthScaled,c=e.heightScaled,l=e.borderRadius,s=e.opacity,u=e.zoom,p=e.imageType;l=Math.min(l,r/2),l=Math.min(l,n/2),l=(0,y.pF)(l||0,u);var f=this.getBorderProps(),h=this.getBackgroundColor(),m=this.props.imageResize===v.bB.CONTAIN?"meet":"slice",g=this.getURL(),b=this.getMaskId(),Z="dynamic"===p||!g,E="dynamic"===p&&g;return d.createElement("g",{className:"image",onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick,opacity:s},d.createElement("defs",null,d.createElement("clipPath",{id:"clip-".concat(t)},d.createElement("rect",{x:0,y:0,width:i,height:c,rx:l,ry:l}))),d.createElement("mask",{id:b},d.createElement("rect",{x:o,y:a,width:i,height:c,fill:"#fff",stroke:"none",rx:l,ry:l})),d.createElement("rect",{x:o,y:a,width:i,height:c,stroke:"none",fill:h,rx:l,ry:l}),d.createElement("rect",(0,k.Z)({},f,{x:o,y:a,width:i,height:c,fill:!Z||E?"none":"#eaeaea",rx:l,ry:l})),Z?this.renderPlaceholder():d.createElement("g",null,d.createElement("g",{mask:"url(#".concat(b,")")},d.createElement("image",{href:g,x:o,y:a,width:i,height:c,preserveAspectRatio:"xMidYMid ".concat(m)}))))}}]),o}(O.Z),N=n(66213),T=n(42281),I=(n(6789),["xScaled","yScaled","points","zoom","hideShadows","shadow","x","y","width","height"]);var L=function(e){(0,l.Z)(c,e);var t,n,o=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function c(){return(0,a.Z)(this,c),o.apply(this,arguments)}return(0,i.Z)(c,[{key:"getPathData",value:function(){this.dimension=[];var e=4*(Math.sqrt(2)-1)/3,t=this.props,n=t.width,r=t.height,o=t.points,a=t.compound,i=t.isClosed,c=t.zoom,l=t.x,s=t.y,u=t.borderRadius;if(this.path=R.XV.create(),a&&a.length>0)this.path=R.XV.create(a);else if(o&&o.length>0)this.path=R.XV.create(o);else{var p=new R.Ae(l,s,n,r),d=new R.E9(u?[u,u]:[0,0]),f=p.getBottomLeft(!0),h=p.getTopLeft(!0),m=p.getTopRight(!0),v=p.getBottomRight(!0),y=[];if(!d||d.isZero())y=[new R.XX(f),new R.XX(h),new R.XX(m),new R.XX(v)];else{var g=(d=R.$u.min(new R.$u(u,u),p.getSize(!0).divide(2))).width,b=d.height,Z=g*e,E=b*e;y=[new R.XX(f.add(g,0),null,[-Z,0]),new R.XX(f.subtract(0,b),[0,E]),new R.XX(h.add(0,b),null,[0,-E]),new R.XX(h.add(g,0),[-Z,0],null),new R.XX(m.subtract(g,0),null,[Z,0]),new R.XX(m.add(0,b),[0,-E],null),new R.XX(v.subtract(0,b),null,[0,E]),new R.XX(v.subtract(g,0),[Z,0])]}this.path=R.XV.create(y.map((function(e){var t=e.point,n=e.handleIn,r=e.handleOut;return new R.XX(t,n,r)})))}return this.path.setClosed(i),this.path.scale(c.scale),this.path.adjust(l,s),this.path.getPathData()}},{key:"doubleClickHandler",value:function(){return this.isSelected()?this.props.onEdit():(0,N.Z)((0,u.Z)(c.prototype),"doubleClickHandler",this).call(this)}},{key:"renderDimesion",value:function(){}},{key:"renderPath",value:function(){return d.createElement("path",(0,k.Z)({},this.getBorderProps(),{fill:this.getBackgroundColor(),d:this.getPathData()}))}},{key:"render",value:function(){var e=this.props,t=(e.xScaled,e.yScaled,e.points,e.zoom,e.hideShadows,e.shadow,e.x,e.y,e.width,e.height,(0,r.Z)(e,I));return d.createElement("g",{className:"shape"},d.createElement("g",{className:"shape",onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick,style:t},this.renderPath()),this.dimension&&d.createElement("g",{className:"shape-editor-size"},this.dimension.map((function(e,t){return d.createElement("g",null,d.createElement("line",{className:"shape-editor-line-angle",x1:e[0],y1:e[1],x2:e[2],y2:e[3]}))}))))}}]),c}(T.Z),X=n(32939),z=n(41665),U=n(72036),_=["children"];function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){(0,l.Z)(h,e);var t,n,f=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function h(){var e;(0,a.Z)(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=f.call.apply(f,[this].concat(n)),(0,p.Z)((0,c.Z)(e),"state",{error:null}),(0,p.Z)((0,c.Z)(e),"handleMouseEnter",(function(t){var n=e.props,r=n.object,o=n.setCanvasHover;e.context.editable&&o(r.id)})),(0,p.Z)((0,c.Z)(e),"handleSelect",(function(t,n){var r=e.props,o=r.object,a=r.setSelection;e.context.editable&&a(o.id,t,!n)})),(0,p.Z)((0,c.Z)(e),"handleExpand",(function(){var t=e.context.editable,n=e.props,r=n.object,o=n.setExpandSelection;t&&o(r.id)})),(0,p.Z)((0,c.Z)(e),"handleEdit",(function(){var t=e.props,n=t.object,r=t.setEditingText,o=t.setEditingShape;e.context.editable&&(n.type===v.GP&&r(n.id),n.type===v.X3&&o(n.id),n.type===v.E2&&o(n.id))})),e}return(0,i.Z)(h,[{key:"shouldComponentUpdate",value:function(e){for(var t=this.props.zoom,n=0,r=["object","textEditing","shapeEditing","hideShadows","branding"];n<r.length;n++){var o=r[n];if(e[o]!==this.props[o])return!0}return t.scale!==e.zoom.scale}},{key:"componentDidCatch",value:function(e,t){var n=this.props.object;window.setTimeout((function(){var t=new Error("Component Error [".concat(n&&n.type,"]: ").concat(e.message));if(t.stack=[t.stack.split("\n").slice(0,2),e.stack].join("\n"),!window.adaloDeveloper)throw t;console.error(t)}),0),this.setState({error:e})}},{key:"render",value:function(){var e=this.props,t=e.object,n=e.zoom,a=e.transformZoom,i=e.hideShadows,c=e.beginDrag,l=e.branding;if(this.state.error)return null;var s=(0,y.bA)([t.x,t.y],n),u=(0,o.Z)(s,2),p=u[0],f=u[1],h=(0,y.pF)(t.width,n),m=(0,y.pF)(t.height,n),g=(t.children,(0,r.Z)(t,_)),b=F(F({},g),{},{xScaled:p,yScaled:f,widthScaled:h,heightScaled:m,zoom:n,transformZoom:a,hideShadows:i,branding:l,onPosition:c,onExpand:this.handleExpand,onSelect:this.handleSelect,onEdit:this.handleEdit,object:g});if(t.hidden)return null;switch(t.type){case v.GP:return d.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.createElement(w.Z,b));case v.bQ:return d.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.createElement(O.Z,b));case v.Ou:return d.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.createElement(L,b));case v.fq:return d.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.createElement(C.Z,b));case v.E2:return d.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.createElement(x.Z,b));case v.X3:return d.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.createElement(P.Z,b));case v.k4:return d.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.createElement(D,b));case v.oG:return d.createElement(X.Z,{object:t},t.children.map((function(e){return d.createElement(G,{key:e.id,object:e,zoom:n,transformZoom:a,hideShadows:i,branding:l})})));case v.Pk:return d.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.createElement(ImageUpload,b));case v.No:return d.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.createElement(z.Z,b));case v.pR:return d.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d.createElement(U.Z,b))}return null}}]),h}(d.Component);(0,p.Z)(Y,"contextTypes",{editable:h().bool,getSelection:h().func});var G=(0,m.$j)(null,{setExpandSelection:A.c4,setSelection:A.Z5,positionObjects:g.aN,setCanvasHover:A.TL,setEditingShape:E.S6,setEditingText:Z._n,beginDrag:b.fM})(Y);const q=G},41665:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(28481),o=n(6610),a=n(5991),i=n(63349),c=n(10379),l=n(46070),s=n(77608),u=n(96156),p=n(67294),d=n(45697),f=n.n(d),h=n(26353),m=n(37703),v=n(44127),y=n(1331),g=n(3227),b=n(61145),Z=n(72982),E=n(81253),A=n(90955),w=n(81129),O=n(15746),C=n(1054),x=n(43530),P=n(66400),k=n(44263),S=n(32939);var R=function(e){(0,c.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(){return(0,o.Z)(this,i),r.apply(this,arguments)}return(0,a.Z)(i,[{key:"render",value:function(){var e=this.props,t=e.xScaled,n=e.yScaled,r=e.children,o="translate(".concat(t," ").concat(n,")");return p.createElement("g",{transform:o},r)}}]),i}(p.Component),j=["children"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){},N=function(e){(0,c.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e;(0,o.Z)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"getClassMapping",(function(){var e;return e={},(0,u.Z)(e,A.GP,O.Z),(0,u.Z)(e,A.bQ,C.Z),(0,u.Z)(e,A.fq,x.Z),(0,u.Z)(e,A.E2,P.Z),(0,u.Z)(e,A.X3,k.Z),(0,u.Z)(e,A.oG,S.Z),(0,u.Z)(e,A.No,I),e})),e}return(0,a.Z)(d,[{key:"renderChildren",value:function(){var e=this.props,t=e.object,n=e.layout,r=e.hideShadows;return t.children?(0,v.DY)(t.children,(function(e){return e.layout.zIndex})).map((function(e){return p.createElement(d,{key:e.id,object:e,layout:n,hideShadows:r})})):null}},{key:"render",value:function(){var e=this.props,t=e.object,n=e.layout,r=e.hideShadows,o=n[t.id],a=this.getClassMapping()[t.type]||R;if(!o||!a)return null;delete(t=B(B(B({},t),t.attributes),{},{x:o.left,y:o.top,width:o.width,height:o.height})).layoutText;var i=t,c=(i.children,B(B({},(0,E.Z)(i,j)),{},{xScaled:t.x,yScaled:t.y,widthScaled:t.width,heightScaled:t.height,zoom:w.m6,hideShadows:r,onPosition:D,onExpand:D,onSelect:D,onEdit:D}));return p.createElement(a,c,this.renderChildren())}}]),d}(p.Component);var T=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(){var e;(0,o.Z)(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=d.call.apply(d,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"getChildContext",(function(){return{isNestedComponentInstance:!0}})),e}return(0,a.Z)(f,[{key:"shouldComponentUpdate",value:function(e){for(var t=0,n=["component","hideShadows","xScaled","yScaled","width","height","otherComponents"];t<n.length;t++){var r=n[t];if(!(0,v.wU)(e[r],this.props[r]))return!0}return!1}},{key:"renderObjects",value:function(){var e=this.props,t=e.id,n=e.component,o=e.width,a=e.height,i=e.hideShadows,c=e.otherComponents,l=e.updateObject;if(!n)return null;var s=(0,y._)(n,o,a,c);if(!s)return null;var u=(0,r.Z)(s,2),d=u[0],f=u[1];this.context.isNestedComponentInstance||f!==a&&window.setTimeout((function(){l(t,{height:f})}),0);var h=(n.layout.body||[])[0],m=h&&h.children||[];return p.createElement("g",{className:"component-instance-objects"},m.map((function(e){return p.createElement(N,{key:e.id,object:e,hideShadows:i,layout:d})})))}},{key:"render",value:function(){var e=this.props,t=e.xScaled,n=e.yScaled,r=e.width,o=e.height,a=e.zoom,i="translate(".concat(t,", ").concat(n,") scale(").concat(a.scale,")");return p.createElement("g",{className:"component-instance",transform:i},this.renderObjects(),p.createElement("rect",{x:0,y:0,width:r,height:o,fill:"transparent",onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick}))}}]),f}(Z.Z);(0,u.Z)(T,"contextTypes",{editable:f().bool,getSelection:f().func,isNestedComponentInstance:f().bool}),(0,u.Z)(T,"childContextTypes",{isNestedComponentInstance:f().bool});const I=(0,h.EN)((0,m.$j)((function(e,t){var n=t.match,r=t.componentId,o=n.params.appId,a=(0,g.Xr)(e,o,r);return{component:a,otherComponents:(0,g.IB)(e,o,a)}}),{updateObject:b.v4})(T))},66400:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(81253),o=n(22122),a=n(6610),i=n(5991),c=n(66213),l=n(10379),s=n(46070),u=n(77608),p=n(67294),d=n(42281),f=n(59274),h=(n(6789),["xScaled","yScaled","points","zoom","hideShadows","shadow","x","y","width","height"]);var m=function(e){(0,l.Z)(m,e);var t,n,d=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function m(){return(0,a.Z)(this,m),d.apply(this,arguments)}return(0,i.Z)(m,[{key:"getPathData",value:function(){this.dimension=[];var e=this.props,t=e.width,n=e.height,r=e.points,o=e.compound,a=e.isClosed,i=e.zoom,c=e.x,l=e.y;if(this.path=f.XV.create(),o&&o.length>0)this.path=f.XV.create(o);else if(r&&r.length>0)this.path=f.XV.create(r);else{for(var s=4*(Math.sqrt(2)-1)/3,u=[new f.XX([-1,0],[0,s],[0,-s]),new f.XX([0,-1],[-s,0],[s,0]),new f.XX([1,0],[0,-s],[0,s]),new f.XX([0,1],[s,0],[-s,0])],p=new f.E9(c,l),d=new f.E9(t/2,n/2),h=new Array(4),m=0;m<4;m++){var v=u[m];h[m]=new f.XX(v._point.multiply(d).add(p),v._handleIn.multiply(d),v._handleOut.multiply(d))}this.path=f.XV.create(h)}return this.path.setClosed(a),this.path.scale(i.scale),this.path.adjust(c,l),this.path.getPathData()}},{key:"doubleClickHandler",value:function(){return this.isSelected()?this.props.onEdit():(0,c.Z)((0,u.Z)(m.prototype),"doubleClickHandler",this).call(this)}},{key:"renderDimesion",value:function(){}},{key:"renderPath",value:function(){return p.createElement("path",(0,o.Z)({},this.getBorderProps(),{fill:this.getBackgroundColor(),d:this.getPathData()}))}},{key:"render",value:function(){var e=this.props,t=(e.xScaled,e.yScaled,e.points,e.zoom,e.hideShadows,e.shadow,e.x,e.y,e.width,e.height,(0,r.Z)(e,h));return p.createElement("g",{className:"shape"},p.createElement("g",{className:"shape",onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick,style:t},this.renderPath()),this.dimension&&p.createElement("g",{className:"shape-editor-size"},this.dimension.map((function(e,t){return p.createElement("g",null,p.createElement("line",{className:"shape-editor-line-angle",x1:e[0],y1:e[1],x2:e[2],y2:e[3]}))}))))}}]),m}(d.Z)},32939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(6610),o=n(5991),a=n(10379),i=n(46070),c=n(77608),l=n(67294);var s=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.children,n={opacity:e.object.opacity};return l.createElement("g",{className:"group",style:n},t)}}]),u}(l.Component)},15746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(22122),o=n(81253),a=n(6610),i=n(5991),c=n(63349),l=n(66213),s=n(10379),u=n(46070),p=n(77608),d=n(96156),f=n(67294),h=n(94184),m=n.n(h),v=n(90955),y=n(10702),g=n(39240),b=n(81129),Z=n(7065),E=n(72982),A=(n(75629),["branding","text","layoutText","x","y","width","height","xScaled","yScaled","widthScaled","heightScaled","selected","editing","fontSize","textAlignment","elementRef","onChange","onSelect","zoom"]);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){(0,s.Z)(E,e);var t,n,h=(t=E,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,p.Z)(t);if(n){var o=(0,p.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function E(){var e;(0,a.Z)(this,E);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=h.call.apply(h,[this].concat(n)),(0,d.Z)((0,c.Z)(e),"handleFontFamily",(function(){var t=e.props,n=t.branding,r=t.fontFamily;return(0,Z.BN)(r,n)})),e}return(0,i.Z)(E,[{key:"doubleClickHandler",value:function(){return this.isSelected()?this.props.onEdit():(0,l.Z)((0,p.Z)(E.prototype),"doubleClickHandler",this).call(this)}},{key:"getBorderProps",value:function(){if(!this.props.id)return{strokeWidth:2,stroke:"#e0e0e0",rx:4,ry:4}}},{key:"render",value:function(){var e=this.props,t=(e.branding,e.text,e.layoutText),n=(e.x,e.y,e.width,e.height,e.xScaled),a=e.yScaled,i=e.widthScaled,c=e.heightScaled,l=(e.selected,e.editing),s=e.fontSize,u=e.textAlignment,p=(e.elementRef,e.onChange,e.onSelect,e.zoom),d=(0,o.Z)(e,A);s=(0,b.pF)(s,p);var h="start",Z=n;t=(0,g.UM)(this.props).map((function(e){return e.trim()})),l&&(d.opacity=0),u===v.w3?(h="middle",Z+=i/2):u===v.gg&&(h="end",Z+=i),d.fontFamily=this.handleFontFamily();var E=this.getColor(d.color||"@text");return f.createElement("g",{className:m()("label",{"label-editing":l}),onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick,style:O(O({},d),{},{fontSize:"".concat(s,"px")})},f.createElement("rect",(0,r.Z)({x:n,y:a,width:i,height:c,fill:"transparent"},this.getBorderProps())),f.createElement("text",{className:"label-text",y:a,x:Z,fill:E,textAnchor:h,style:O({},d)},t.map((function(e,t){return f.createElement("tspan",{key:t,alignmentBaseline:"text-before-edge",x:Z,y:a+t*s*1.15+((0,y.v)()?s:0)||0},e)}))))}}]),E}(E.Z);C.defaultProps={yScaled:0,y:0}},77297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var r=n(22122),o=n(6610),a=n(5991),i=n(63349),c=n(10379),l=n(46070),s=n(77608),u=n(96156),p=n(67294),d=n(26353),f=n(37703),h=n(24812),m=n(74370),v=n(81129),y=n(7065),g=n(31475),b=n(61145),Z=n(3227),E=(n(45697),function(e){var t=e.offsetX,n=e.offsetY,r=e.boundingWidth,o=e.boundingHeight,a=e.zoom,i=e.styleHeight,c=e.children,l=Math.floor(t),s=Math.floor(n),u=t%1,d=n%1;return p.createElement("foreignObject",{x:l,y:s,width:r,height:o,pointerEvents:"none",transform:"translate(".concat(u,",").concat(d,")")},p.createElement("div",{className:"library-component-inner-wrapper",style:{transform:"scale(".concat(a.scale,")"),transformOrigin:"left top",width:"".concat(1/a.scale*100,"%"),zIndex:-1}},p.createElement("div",{style:{padding:20,height:i}},c)))});const A=p.memo(E);var w=p.createElement("br",null),O=p.createElement("br",null),C=function(e){var t,n,r=e.object;return p.createElement("div",{className:"library-component-error"},"Missing Component: ",null==r?void 0:r.libraryName,".",null==r?void 0:r.componentName,null!=r&&null!==(t=r.libraryName)&&void 0!==t&&t.toLowerCase().includes("ad")||null!=r&&null!==(n=r.componentName)&&void 0!==n&&n.toLowerCase().includes("ad")?p.createElement(p.Fragment,null,w,O,p.createElement("span",null,"Make sure your ad blocker is disabled to use the"," ",r.componentName," component.")):null)};const x=p.memo(C);var P=n(93379),k=n.n(P),S=n(62112);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}k()(S.Z,{insert:"head",singleton:!1}),S.Z.locals;var M=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(){var e;(0,o.Z)(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=d.call.apply(d,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"shouldComponentUpdate",(function(t){for(var n=0,r=["object","zoom","libraryVersion","branding","libraryGlobals"];n<r.length;n++){var o=r[n];if(t[o]!==e.props[o])return!0}return!1})),e}return(0,a.Z)(f,[{key:"renderLoading",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.object,n=e.zoom,o=e.libraryVersion,a=e.getLabel,i=e.match,c=e.x,l=e.y,s=e.branding,u=e.libraryGlobals,d=i.params.appId,f=t.width,m=t.height,g=t.libraryName,b=t.componentName,Z=(0,h.UZ)(g,o,b),E=(0,h.Mo)(g,o,b),w=(0,v.pF)(f+40,n),O=(0,v.pF)(m+40,n),C=c-(0,v.pF)(20,n),P=l-(0,v.pF)(20,n),k=(0,v.pF)(f,n),S=(0,v.pF)(m,n),R={boundingHeight:O,boundingWidth:w,offsetX:C,offsetY:P,zoom:n,styleHeight:null!=E&&E.resizeY?m+40:void 0};if(!Z||!E)return p.createElement(A,R,p.createElement(x,{object:t}));var M=j(j({},(0,h.bd)(E,t.attributes,a,{branding:s,libraryGlobals:u})),{},{appId:d,_fonts:{body:(0,y.kG)("@body",s),heading:(0,y.kG)("@heading",s)},_width:f,_height:m,_getUserValue:function(){return Promise.resolve(null)},_setUserValue:function(e,t){return Promise.resolve(t)}});return p.createElement("g",null,p.createElement(A,R,p.createElement(Z,(0,r.Z)({},M,{editor:!0}))),p.createElement("rect",{x:c,y:l,width:k,height:S,fill:"none",stroke:"none"}))}}]),f}(p.Component);const B=(0,d.EN)((0,f.$j)((function(e,t){var n=t.match,r=t.object,o=t.libraryVersion;return{status:(0,g.In)(e,r.libraryName,o),getLabel:function(t){return(0,m.xK)(e,t,n.params.appId,n.params.componentId)},branding:(0,Z.WS)(e,n.params.appId),libraryGlobals:(0,b.wR)(e,r.libraryName,r.componentName)}}))(M))},72036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(87757),o=n.n(r),a=n(92137),i=n(6610),c=n(5991),l=n(63349),s=n(10379),u=n(46070),p=n(77608),d=n(96156),f=n(67294),h=n(37703),m=n(3227),v=n(61145),y=n(31475),g=n(8808),b=n(69425),Z=n(58796),E=n(81129),A=n(23668),w=n(72982),O=n(77297);var C=f.createElement(A.Z,{small:!0,expanded:!0}),x=function(e){(0,s.Z)(h,e);var t,n,r=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,p.Z)(t);if(n){var o=(0,p.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function h(){var e;(0,i.Z)(this,h);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return e=r.call.apply(r,[this].concat(n)),(0,d.Z)((0,l.Z)(e),"state",{isLoading:!1}),(0,d.Z)((0,l.Z)(e),"handleLibraryUpdate",function(){var t=(0,a.Z)(o().mark((function t(n){var r,a,i,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,a=r.libraryName,i=r.libraryVersion,c=r.requestLibrary,a===n){t.next=3;break}return t.abrupt("return",null);case 3:return e.setState({isLoading:!0}),t.next=6,c(a,i);case 6:e.setState({isLoading:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,d.Z)((0,l.Z)(e),"librarySocket",(function(){var e=(0,Z.bW)();return e&&(0,b.Hn)(e)})),(0,d.Z)((0,l.Z)(e),"renderLoading",(function(){var t=e.props,n=t.xScaled,r=t.yScaled,o=t.zoom,a=t.object,i=a.height,c=a.width,l=(0,E.pF)(c+40,o),s=(0,E.pF)(i+40,o),u=n-(0,E.pF)(20,o),p=r-(0,E.pF)(20,o);return f.createElement("foreignObject",{x:u,y:p,width:l,height:s,pointerEvents:"none"},C)})),e}return(0,c.Z)(h,[{key:"componentDidMount",value:function(){var e=this.props.currentUser;if(null!=e&&e.developer){var t=this.librarySocket();t&&t.on("libraryUpdates",this.handleLibraryUpdate)}}},{key:"componentWillUnmount",value:function(){var e=this.props.currentUser;if(null!=e&&e.developer){var t=this.librarySocket();t&&t.off("libraryUpdates",this.handleLibraryUpdate)}}},{key:"render",value:function(){var e=this.props,t=e.xScaled,n=e.yScaled,r=e.zoom,o=e.libraryVersion,a=e.object,i=this.state.isLoading,c=a;return f.createElement("g",{onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick},i?this.renderLoading():f.createElement(O.Z,{object:c,libraryVersion:o,zoom:r,x:t,y:n,isLoading:i}))}}]),h}(w.Z);const P=(0,h.$j)((function(e,t){t.id;var n=t.libraryName,r=(0,v.i3)(e);return{currentUser:(0,g.ts)(e),libraryVersion:(0,m.HF)(e,r,n)}}),{loadComponent:m.yC,requestLibrary:y.Rt})(x)},43530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(22122),o=n(81253),a=n(6610),i=n(5991),c=n(10379),l=n(46070),s=n(77608),u=n(67294),p=n(94184),d=n.n(p),f=n(90955),h=n(42281),m=["xScaled","yScaled","widthScaled","heightScaled","selected","borderRadius","zoom","width","height","hideShadows","children"];var v=function(e){(0,c.Z)(h,e);var t,n,p=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function h(){return(0,a.Z)(this,h),p.apply(this,arguments)}return(0,i.Z)(h,[{key:"getRenderOffset",value:function(){if(this.props.borderStyle!==f.$u.NONE)switch(this.props.borderPosition){case f.iX.INSIDE:return.5*this.getBorderWidth();case f.iX.OUTSIDE:return-.5*this.getBorderWidth()}return 0}},{key:"render",value:function(){var e=this.props,t=e.xScaled,n=e.yScaled,a=e.widthScaled,i=(e.heightScaled,e.selected),c=(e.borderRadius,e.zoom,e.width,e.height,e.hideShadows,e.children),l=(0,o.Z)(e,m),s=this.getBorderProps(),p=this.getRenderOffset();return t+=p,n+=p,a-=2*p,u.createElement("g",{className:d()("section",{"section-selected":i}),onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick,transform:"translate(".concat(t,", ").concat(n,")"),style:l},u.createElement("line",(0,r.Z)({},s,{x:0,y:0,x2:a,y2:0})),u.createElement("line",(0,r.Z)({},s,{strokeDasharray:"none",stroke:"transparent",x:0,y:0,x2:a,y2:0})),c)}}]),h}(h.Z)},1054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(22122),o=n(81253),a=n(6610),i=n(5991),c=n(10379),l=n(46070),s=n(77608),u=n(67294),p=n(94184),d=n.n(p),f=n(90955),h=n(42281),m=n(53124),v=["xScaled","yScaled","widthScaled","heightScaled","selected","borderRadius","shadow","zoom","width","height","hideShadows","children"];var y=function(e){(0,c.Z)(h,e);var t,n,p=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function h(){return(0,a.Z)(this,h),p.apply(this,arguments)}return(0,i.Z)(h,[{key:"getRenderOffset",value:function(){if(this.props.borderStyle!==f.$u.NONE)switch(this.props.borderPosition){case f.iX.INSIDE:return.5*this.getBorderWidth();case f.iX.OUTSIDE:return-.5*this.getBorderWidth()}return 0}},{key:"getBorderRadiusProps",value:function(){var e=this.props,t=e.width,n=e.height,r=e.borderRadius,o=e.zoom;r=Math.min(r,n/2);var a=((r=Math.min(r,t/2))||0)*o.scale;return{rx:a,ry:a}}},{key:"render",value:function(){var e=this.props,t=e.xScaled,n=e.yScaled,a=e.widthScaled,i=e.heightScaled,c=e.selected,l=(e.borderRadius,e.shadow),s=(e.zoom,e.width,e.height,e.hideShadows),p=e.children,f=(0,o.Z)(e,v),h=this.getBorderProps(),y=this.getBorderRadiusProps(),g=this.getBackgroundColor(),b=this.getRenderOffset();return t+=b,n+=b,a-=2*b,i-=2*b,u.createElement("g",{className:d()("section",{"section-selected":c}),onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick,transform:"translate(".concat(t,", ").concat(n,")"),style:f},l&&l.enabled&&!s?u.createElement(m.Z,this.getShadowProps(),u.createElement("rect",(0,r.Z)({},h,y,{x:0,y:0,width:a,height:i,fill:g}))):null,u.createElement("rect",(0,r.Z)({},h,y,{x:0,y:0,width:a,height:i,fill:g})),p)}}]),h}(h.Z)},53124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(28481),o=n(6610),a=n(5991),i=n(10379),c=n(46070),l=n(77608),s=n(67294),u=n(6767),p=n.n(u),d=n(81129);var f=function(e){(0,i.Z)(f,e);var t,n,u=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function f(){var e;return(0,o.Z)(this,f),(e=u.call(this))._id=Math.round(1e4*Math.random()).toFixed(0),e._filterId="filter-".concat(e._id),e._maskId="mask-".concat(e._id),e}return(0,a.Z)(f,[{key:"getBlurRadius",value:function(){var e=this.props,t=e.shadow,n=e.zoom,r=(t=t||{}).size||0;return(0,d.pF)(r/2,n)}},{key:"getBorderWidth",value:function(){var e=this.props,t=e.border,n=e.zoom;return(0,d.pF)((t.strokeWidth||0)/2,n)}},{key:"getShadowPosition",value:function(){var e=this.props,t=e.shadow,n=e.zoom,r=(t=t||{}).x||0,o=t.y||0;return[(0,d.pF)(r,n),(0,d.pF)(o,n)]}},{key:"getColor",value:function(){var e=this.props.shadow;e=e||{};var t=p()(e.color);return{r:t.red()/255,g:t.green()/255,b:t.blue()/255,a:t.alpha()}}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,o=e.children,a=s.cloneElement(o,{fill:"#000",stroke:"#000"}),i=this.getBorderWidth(),c=s.cloneElement(a,{filter:"url(#".concat(this._filterId,")"),mask:"url(#".concat(this._maskId,")")}),l=this.getBlurRadius(),u=this.getColor(),p=this.getShadowPosition(),d=(0,r.Z)(p,2),f=d[0],h=d[1],m=-3*l+f-i,v=-3*l+h-i,y=t+6*l+2*i,g=n+6*l+2*i;return s.createElement("g",null,s.createElement("filter",{id:this._filterId,width:2*t,height:2*n,x:-t/2,y:-n/2},s.createElement("feOffset",{result:"offsetOut",in:"SourceAlpha",dx:f,dy:h}),s.createElement("feComponentTransfer",{result:"alphaOut",in:"offsetOut"},s.createElement("feFuncR",{type:"linear",slope:"0",intercept:u.r}),s.createElement("feFuncG",{type:"linear",slope:"0",intercept:u.g}),s.createElement("feFuncB",{type:"linear",slope:"0",intercept:u.b}),s.createElement("feFuncA",{type:"linear",slope:u.a,intercept:"0"})),s.createElement("feGaussianBlur",{in:"alphaOut",stdDeviation:l})),s.createElement("mask",{id:this._maskId,maskUnits:"userSpaceOnUse",x:m,y:v,width:y,height:g},s.createElement("rect",{x:m,y:v,width:y,height:g,fill:"#fff"}),a),c)}}]),f}(s.Component)},44263:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(81253),o=n(22122),a=n(6610),i=n(5991),c=n(66213),l=n(10379),s=n(46070),u=n(77608),p=n(67294),d=(n(44127),n(81129),n(42281)),f=(n(53124),n(59274)),h=["xScaled","yScaled","points","zoom","hideShadows","shadow","x","y","width","height"];var m=function(e){(0,l.Z)(m,e);var t,n,d=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function m(){return(0,a.Z)(this,m),d.apply(this,arguments)}return(0,i.Z)(m,[{key:"getPathData",value:function(){var e=this.props,t=(e.width,e.height,e.points),n=e.compound,r=e.isClosed,o=e.zoom,a=e.x,i=e.y;return this.path=f.XV.create(),n&&n.length>0?this.path=f.XV.create(n):t&&t.length>0&&(this.path=f.XV.create(t)),this.path.setClosed(r),this.path.scale(o.scale),this.path.adjust(a,i),this.path.getPathData()}},{key:"doubleClickHandler",value:function(){return this.isSelected()?this.props.onEdit():(0,c.Z)((0,u.Z)(m.prototype),"doubleClickHandler",this).call(this)}},{key:"renderPath",value:function(){return p.createElement("path",(0,o.Z)({},this.getBorderProps(),{fill:this.getBackgroundColor(),d:this.getPathData()}))}},{key:"render",value:function(){var e=this.props,t=(e.xScaled,e.yScaled,e.points,e.zoom,e.hideShadows,e.shadow,e.x,e.y,e.width,e.height,(0,r.Z)(e,h));return p.createElement("g",{className:"shape",onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick,style:t},this.renderPath())}}]),m}(d.Z)},98114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Qn});var r=n(28481),o=n(6610),a=n(5991),i=n(63349),c=n(10379),l=n(46070),s=n(77608),u=n(96156),p=n(67294),d=n(45697),f=n.n(d),h=n(37703),m=n(94184),v=n.n(m),y=n(64946),g=n(81129),b=n(39118),Z=n(3227),E=n(61145),A=n(97814),w=n(35592),O=n(62088),C=n(66113),x=n(85061),P=n(98605),k=n.n(P),S=n(21090),R=n(45145),j=n(83686),M=n(61312),B=n(62012),D=n(89926);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}for(var I={},L=0,X=Object.keys(j.j);L<X.length;L++){var z=X[L],U=j.j[z].toUpperCase().charCodeAt(0);I[U]=z}var _=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(){var e;(0,o.Z)(this,f);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=d.call.apply(d,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"handleKeyDown",(function(t){var n=t.which,o=e.props,a=o.editing,i=o.setZoom,c=o.resetZoom;if((0,M.J)(t)){var l=e.props,s=l.undo,u=l.redo;if(n===R.Z&&t.shiftKey?(t.preventDefault(),u()):n===R.Z&&(t.preventDefault(),s()),n===R.G){t.preventDefault();var p=e.props,d=p.groupObjects,f=p.ungroupObjects,h=p.selection;t.shiftKey?f(h):d(h)}if(n===R.LH){t.preventDefault();var m=e.props,v=m.reorderObjectsMoveFirst,y=m.reorderObjectsMoveUp,g=m.selection;t.shiftKey?v(g):y(g)}if(n===R.JH){t.preventDefault();var b=e.props,Z=b.reorderObjectsMoveLast,E=b.reorderObjectsMoveDown,A=b.selection;t.shiftKey?Z(A):E(A)}R.ho.includes(n)&&(t.preventDefault(),i(null,null,Math.sqrt(2))),R.tD.includes(n)&&(t.preventDefault(),i(null,null,1/Math.sqrt(2))),n===R.xE?(t.preventDefault(),i(1)):n===R.ry&&(t.preventDefault(),c())}else if(t.target===document.body){var w=e.props,O=w.deleteObject,C=w.positionObjects,P=w.selection,k=w.setTool,S=w.selectedPoint,j=w.toggleConnections,B=w.editingObject,D=(w.editingComponent,t.shiftKey?10:1);if(a){if(n===R.yY){if(B&&null!==S){var N=[].concat((0,x.Z)(B.points.slice(0,S)),(0,x.Z)(B.points.slice(S+1)));N.slice(S,1),e.updateObject({points:N},"removePoint-".concat(+new Date))}t.preventDefault()}}else{if(R.Zl.includes(n)){var T=(0,r.Z)(R.Xc[n],2),L=T[0],X=T[1];P.length>0?C(P,{x:D*L,y:D*X},!1,!1):i(null,null,null,[-100*L,-100*X])}n!==R.yY&&n!==R.ZH||(O(P),t.preventDefault())}n===R.Bs&&(t.preventDefault(),(0,e.props.setPan)(!0)),t.shiftKey&&n===R.L&&j();var z=I[n];z&&k(z,{})}})),(0,u.Z)((0,i.Z)(e),"updateObject",(function(t,n){var r=e.props,o=r.editingObject,a=r.updateObject,i=T(T({},o),t);n&&(e._lastUndoKey=n),a(o.id,i,e._lastUndoKey||"vector")})),(0,u.Z)((0,i.Z)(e),"handleKeyUp",(function(t){var n=t.which;if(t.target===document.body&&(n===R.Bs&&(t.preventDefault(),(0,e.props.setPan)(!1)),R.Zl.includes(n))){var r=e.props,o=r.positionObjects,a=r.selection;a.length>0&&o(a,{x:0,y:0})}})),e}return(0,a.Z)(f,[{key:"render",value:function(){return p.createElement(k(),{onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp})}}]),f}(p.Component);const W=(0,h.$j)((function(e){return{selection:(0,B.Mf)(e),selectedPoint:(0,O.ee)(e),editingShape:(0,O.ni)(e),editingObject:(0,E.j6)(e,(0,O.ni)(e)),editingComponent:(0,E.j6)(e,(0,E.TY)(e,(0,O.ni)(e))),editing:!(!(0,O.ni)(e)&&!(0,D._R)(e))}}),{deleteObject:E.oq,groupObjects:E.Jo,ungroupObjects:E.wr,positionObjects:E.aN,setTool:A.Cc,setZoom:E.cq,setPan:E.eM,resetZoom:E.uN,updateObject:E.v4,undo:S.zF.undo,redo:S.zF.redo,toggleConnections:C.Kk,reorderObjectsMoveFirst:E.EM,reorderObjectsMoveLast:E.a9,reorderObjectsMoveUp:E.RK,reorderObjectsMoveDown:E.kj})(_);var F=n(96486),Y=n(44127),G=n(5535),q=n(82092),V=n(80503);var H=function(e){(0,c.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(){return(0,o.Z)(this,i),r.apply(this,arguments)}return(0,a.Z)(i,[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a={left:"".concat(t,"px"),top:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(o,"px")};return p.createElement("div",{className:"marquee",style:a})}}]),i}(p.Component);var $=function(e){(0,c.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(e){var t;return(0,o.Z)(this,d),t=r.call(this,e),(0,u.Z)((0,i.Z)(t),"handleMouseDown",(function(e){var n=t.props,r=n.startDrag,o=n.setActiveTab,a=n.setSelection;e.ctrlKey||(r([e.clientX,e.clientY]),e.shiftKey||o(null),a([],e.shiftKey))})),(0,u.Z)((0,i.Z)(t),"handleMouseMove",(function(e){var n=t.props,r=n.marquee,o=n.drag;r&&(t.setMarqueeSelection(e.shiftKey),o([e.clientX,e.clientY]))})),(0,u.Z)((0,i.Z)(t),"handleMouseUp",(function(e){var n=t.props,r=n.marquee,o=n.endDrag;r&&o()})),(0,u.Z)((0,i.Z)(t),"setMarqueeSelection",(function(e){var n=t.props,r=n.marqueeSelection,o=n.marquee,a=n.selection,i=n.setSelection;o&&((0,Y.GB)(r,a)||(0===r.length?i(null,e):i(r,e)))})),t.setMarqueeSelection=(0,F.throttle)(t.setMarqueeSelection,50,{leading:!1}),t}return(0,a.Z)(d,[{key:"render",value:function(){var e=this.props.marquee;return p.createElement("div",{className:"canvas-backdrop",onMouseDown:this.handleMouseDown},e&&p.createElement(H,e),e&&p.createElement(k(),{onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp}))}}]),d}(p.Component);const K=(0,h.$j)((function(e){return{marquee:(0,V.LJ)(e),selection:(0,B.Mf)(e),marqueeSelection:(0,G.pu)((0,E.vo)(e),(0,g.S2)((0,V.LJ)(e),(0,E.aB)(e)))}}),{setSelection:B.Z5,startDrag:V.f$,drag:V.oh,endDrag:V.Xs,setActiveTab:q.r7})($);var Q=n(81253),J=n(73935),ee=n(43236),te=n(7065),ne=["fontSize","width","height"];function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e){(0,c.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e;(0,o.Z)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"handleKeyDown",(function(t){t.stopPropagation(),(t.which===R.Yl&&t.metaKey||t.which===R._Q)&&e.handleBlur()})),(0,u.Z)((0,i.Z)(e),"handleChange",(function(t){var n=e.props,r=n.object;(0,n.updateObject)(r.id,t)})),(0,u.Z)((0,i.Z)(e),"handleBlur",(function(){(0,e.props.setEditingText)(!1)})),(0,u.Z)((0,i.Z)(e),"inputRef",(function(t){e.input=(0,J.findDOMNode)(t),e.input&&window.setTimeout((function(){e.input.focus(),e.input.select()}),20)})),(0,u.Z)((0,i.Z)(e),"concatLayoutText",(function(e){return Array.isArray(e)?e.join("\n"):""})),e}return(0,a.Z)(d,[{key:"render",value:function(){var e=this.props,t=e.branding,n=e.object,r=e.position,o=e.zoom;if(!n)return null;var a=n.fontSize,i=n.width,c=n.height,l=(0,Q.Z)(n,ne),s=r.x,u=r.y,d=(0,te.BN)(n,t),f=(0,g.Ck)(o);l=oe(oe({},l),{},{fontFamily:d,fontSize:a,transform:f});var h=0;"center"===n.textAlignment?h-=a/2:"right"===n.textAlignment&&(h-=a);var m={width:i,textAlign:n.textAlignment,marginLeft:h};n.autoWidth&&(m.width+=a);var v={left:s,top:u,width:i,height:c};return p.createElement("div",{className:"text-editor-wrapper"},p.createElement("div",{className:"text-editor-backdrop",onClick:this.handleBlur}),p.createElement("div",{className:"text-editor",style:l},p.createElement("div",{className:"text-editor-sub",style:v},p.createElement("div",{className:"text-editor-input-backdrop",style:{width:i,height:c}}),p.createElement(ee.ZP,{name:"text",displayName:"Text",role:"textbox",reference:"text",onChange:this.handleChange,objectId:n.id,value:n.text,hideBinding:!0,hideDisplayName:!0,disableIcon:!0,disableChip:!0}))))}}]),d}(p.Component);const ie=(0,h.$j)((function(e){var t=(0,E.j6)(e,(0,D._R)(e));return{object:t,position:t&&(0,E.vi)(e,t.id),zoom:(0,E.aB)(e)}}),{updateObject:E.v4,setEditingText:D._n})(ae);var ce=n(26353),le=n(90955),se=n(43020),ue=n(98151),pe=n(13716),de=n(24812);var fe=function(e){(0,c.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(){return(0,o.Z)(this,i),r.apply(this,arguments)}return(0,a.Z)(i,[{key:"render",value:function(){var e=this.props,t=e.invisible,n=e.cursor,r=e.x,o=e.y,a=e.onMouseDown,i=e.height,c=e.width,l=e.position;return p.createElement("g",{transform:"translate(".concat("top"===l||"bottom"===l?0:r-4,", ").concat("left"===l||"right"===l?0:o-4,")"),onMouseDown:a},t?null:p.createElement("rect",{className:"resize-handle",width:8,height:8,x:c/2-4,y:i/2-4}),p.createElement("rect",{className:"resize-click-target",width:c,height:i,style:{cursor:"".concat(n,"-resize")}}))}}]),i}(p.Component);(0,u.Z)(fe,"defaultProps",{x:0,y:0,height:8,width:8});var he=n(12893);var me=p.createElement("line",{className:"depth-line",x1:-30,y1:0,x2:-30,y2:10}),ve=function(e){(0,c.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(){return(0,o.Z)(this,i),r.apply(this,arguments)}return(0,a.Z)(i,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.depth,o=e.widthScaled,a=e.heightScaled;return e.position,p.createElement("g",{className:"rule-sizes"},me,p.createElement("text",{x:-22,y:5,textAnchor:"left"},(0,he.Qh)(r),"mm"),p.createElement("text",{x:o/2,y:a+12,dominantBaseline:"middle",textAnchor:"middle"},(0,he.Qh)(n),"mm x ",(0,he.Qh)(t),"mm"))}}]),i}(p.Component);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,u.Z)(ve,"defaultProps",{x:0,y:0,height:0,width:0});var be="LEFT",Ze="RIGHT",Ee="TOP",Ae="BOTTOM",we=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(){var e;(0,o.Z)(this,f);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=d.call.apply(d,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"state",{activeResize:null,resizeStartPoint:null,prevState:null}),(0,u.Z)((0,i.Z)(e),"resize",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){t.stopPropagation();var r=e.props.object,o={},a={x:r.x,y:r.y,width:r.width,height:r.height},i=[t.clientX,t.clientY];n.forEach((function(e){return o[e]=!0})),e.setState({activeResize:o,prevState:a,resizeStartPoint:i})}})),(0,u.Z)((0,i.Z)(e),"handleMouseMove",(function(t){var n=e.state,o=n.prevState,a=n.resizeStartPoint,i=n.activeResize,c=e.props,l=c.onChange,s=c.zoom;if(i){var u=(0,r.Z)(a,2),p=u[0],d=u[1],f=t.clientX,h=t.clientY,m=1,v=1;i.LEFT&&(m=-1),i.TOP&&(v=-1);var y=i.LEFT||i.RIGHT?Math.round((f-p)/s.scale):0,g=i.TOP||i.BOTTOM?Math.round((h-d)/s.scale):0,b=Math.max(0,+o.width+y*m),Z=Math.max(0,+o.height+g*v),E=null;if(t.shiftKey&&e.verticalResizeable()){var A=[];E=o.height/o.width,(i.LEFT||i.RIGHT)&&A.push(b/o.width),(i.TOP||i.BOTTOM)&&A.push(Z/o.height);var w=Math.max(0,Math.min.apply(Math,A));b=o.width*w,Z=o.height*w}var O=.5,C=.5;t.altKey||(i.TOP&&(C=1),i.BOTTOM&&(C=0),i.LEFT&&(O=1),i.RIGHT&&(O=0));var x={x:o.x+O*(o.width-b),width:b,activeResize:i};e.verticalResizeable()&&(x.y=o.y+C*(o.height-Z),x.height=Z),(i.LEFT||i.RIGHT)&&(x=e.snapXChanges(x,O,E,C)),(e.verticalResizeable()&&i.TOP||i.BOTTOM)&&(x=e.snapYChanges(x,C,E,O)),l(x)}})),(0,u.Z)((0,i.Z)(e),"snapXChanges",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0,a=e.props,i=a.object,c=a.xGrid,l=a.setXSnap,s=a.zoom,u=a.component,p=0;i.type!==le.NV&&(p=u.x);var d={};if(0!==n&&(d.left=t.x+p),1!==n&&(d.right=t.x+t.width+p),.5!==n&&(d.center=t.x+t.width/2+p),0===Object.keys(d).length)return t;var f=(0,se.qz)(c,d,s,!0);if(!f)return l(null),t;var h=Object.keys(f)[0],m=f[h];l(m);var v=m-d[h],y=.5===n;if(t=ge({},t),"left"===h&&(t.x=m-p,t.width+=y?2*-v:-v),"right"===h&&(t.x+=y?-v:0,t.width+=y?2*v:v),"center"===h&&(0===n?t.width+=2*v:1===n&&(t.x+=2*v,t.width-=2*v)),null!==r){var g=t.width*r,b=-o*(g-t.height);t.height=g,t.y+=b}return t})),(0,u.Z)((0,i.Z)(e),"snapYChanges",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0,a=e.props,i=a.object,c=a.yGrid,l=a.setYSnap,s=a.zoom,u=a.component,p=0;i.type!==le.NV&&(p=u.y);var d={};if(0!==n&&(d.top=t.y+p),1!==n&&(d.bottom=t.y+t.height+p),.5!==n&&(d.center=t.y+t.height/2+p),0===Object.keys(d).length)return t;var f=(0,se.qz)(c,d,s,!0);if(!f)return l(null),t;var h=Object.keys(f)[0],m=f[h];l(m);var v=m-d[h],y=.5===n;if(t=ge({},t),"top"===h&&(t.y=m-p,t.height+=y?2*-v:-v),"bottom"===h&&(t.y+=y?-v:0,t.height+=y?2*v:v),"center"===h&&(0===n?t.height+=2*v:1===n&&(t.y+=2*v,t.height-=2*v)),null!==r){var g=1*t.height/r,b=-o*(g-t.width);t.width=g,t.x+=b}return t})),(0,u.Z)((0,i.Z)(e),"handleMouseUp",(function(){var t=e.state.activeResize,n=e.props,r=n.onResizeEnd,o=n.resetSnaps;t&&(o(),e.setState({activeResize:null}),r&&r())})),(0,u.Z)((0,i.Z)(e),"verticalResizeable",(function(){var t=e.props,n=t.app,r=t.object;if(r.type===le.pR||r.type===le.fq){var o=r.libraryName,a=r.componentName,i=(0,de.n6)(n,o,a);return!(!i||!i.resizeY)}return![le.GP,le.No,le.Yc,le.oG].includes(r.type)})),(0,u.Z)((0,i.Z)(e),"horizontalResizeable",(function(){var t=e.props,n=t.object,r=t.app;if(n.type===le.pR){var o=n.libraryName,a=n.componentName,i=(0,de.n6)(r,o,a)||{};if("resizeX"in i)return!!i.resizeX}return n.type!==le.oG})),(0,u.Z)((0,i.Z)(e),"renderLink",(function(){var t=e.props,n=t.object,r=t.link,o=t.linkTargets,a=t.zoom;if(!r||!o)return null;var i=n.width,c=n.height,l=ge(ge({},n.absolutePosition),{},{width:i,height:c}),s=o.filter((function(e){return e.id===r.target}))[0],u=(0,pe.ds)(l,s,a),d=(0,pe.fq)(l,s,a);return p.createElement("g",null,p.createElement("path",{className:"link-path",d:u}),p.createElement("path",{className:"link-arrow",d}))})),e}return(0,a.Z)(f,[{key:"render",value:function(){var e=this.props,t=e.object,n=e.zoom,o=e.resize,a=e.link,i=this.state.activeDrag,c=this.verticalResizeable(),l=t.absolutePosition,s=l.x,u=l.y,d=(0,g.bA)([s,u],n),f=(0,r.Z)(d,2),h=f[0],m=f[1],y=Math.round(h+(0,g.pF)(t.width,n)+.5)-.5,b=Math.round(m+(0,g.pF)(t.height,n)+.5)-.5,Z=y-(h=Math.round(h+.5)-.5)||0,E=b-(m=Math.round(m+.5)-.5)||0,A=!!o;return this.horizontalResizeable()||(A=!1),p.createElement(p.Fragment,null,this.renderLink(),p.createElement("g",{className:v()("bounding-box",{"has-link":a}),transform:"translate(".concat(h,", ").concat(m,")")},p.createElement(k(),{enabled:i,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp}),p.createElement("rect",{x:-0,y:-0,width:Z,height:E,className:"selection-box"}),p.createElement(ve,{position:"top",heightScaled:E,widthScaled:Z,height:t.height,width:t.width,depth:t.depth}),A&&p.createElement("g",{className:"resize-handles"},Z>20&&c?p.createElement(p.Fragment,null,p.createElement(fe,{invisible:!0,onMouseDown:this.resize(Ee),cursor:"ns",width:Z,position:"top"}),p.createElement(fe,{invisible:!0,onMouseDown:this.resize(Ae),cursor:"ns",width:Z,y:E,position:"bottom"})):null,E>20||!c?p.createElement(p.Fragment,null,p.createElement(fe,{invisible:c,onMouseDown:this.resize(be),cursor:"ew",height:E,position:"left"}),p.createElement(fe,{invisible:c,onMouseDown:this.resize(Ze),cursor:"ew",height:E,x:Z,position:"right"})):null,c?p.createElement(p.Fragment,null,p.createElement(fe,{onMouseDown:this.resize(be,Ee),cursor:"nwse"}),p.createElement(fe,{onMouseDown:this.resize(Ze,Ee),cursor:"nesw",x:Z}),p.createElement(fe,{onMouseDown:this.resize(be,Ae),cursor:"nesw",y:E}),p.createElement(fe,{onMouseDown:this.resize(Ze,Ae),cursor:"nwse",x:Z,y:E})):null)))}}]),f}(p.Component);(0,u.Z)(we,"defaultProps",{resize:!0});const Oe=(0,h.$j)((function(e,t){var n=t.object;return{app:(0,Z.Mq)(e,(0,E.i3)(e)),component:(0,E.Xr)(e,n.id)}}))(we);n(3006);var Ce=n(59274);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(e){(0,c.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e;(0,o.Z)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"handleResizeEnd",(function(){var t=e.props,n=t.objects,r=t.resizeObject,o=t.recalculateSnapGrid;if(1===n.length){var a=(0,se.HT)(n[0]);o(),r(a.id,a)}})),(0,u.Z)((0,i.Z)(e),"handleChange",(function(t){var n=e.props,r=n.objects,o=n.resizeObject;if(1===r.length)return o(r[0].id,t,!0)})),e}return(0,a.Z)(d,[{key:"render",value:function(){var e=this.props,t=e.editing,n=e.objects,r=e.zoom,o=e.links,a=e.linkTargets,i=e.xGrid,c=e.yGrid,l=e.setXSnap,s=e.setYSnap,u=e.resetSnaps,d=e.yOffset,f=(0,Y.A5)(n.map((function(e){return Pe(Pe({},e),e.absolutePosition)})));return f&&(f.absolutePosition=f),t||!f?null:(n=n.map((function(e){return e.type===le.NV&&0!==d?Pe(Pe({},e),{},{height:e.height-d,absolutePosition:Pe(Pe({},e.absolutePosition),{},{y:e.absolutePosition.y+d})}):e})),p.createElement("g",{className:"bounding-boxes"},n.map((function(e){return p.createElement(Oe,{resize:!1,key:e.id,object:e,zoom:r,link:o[e.id],linkTargets:a})})),p.createElement(Oe,{link:1===n.length?o[n[0].id]:null,resize:1===n.length,onChange:this.handleChange,onResizeEnd:this.handleResizeEnd,object:1===n.length?n[0]:f,xGrid:i,yGrid:c,setXSnap:l,setYSnap:s,resetSnaps:u,zoom:r})))}}]),d}(p.Component);const Se=(0,ce.EN)((0,h.$j)((function(e,t){t.match;var n={},r=(0,E.sr)(e,Object.keys(n).map((function(e){return n[e].target}))),o=(0,E.cm)(e);return{links:n,linkTargets:r,originalObjects:o,objects:o.map((function(t){return Pe(Pe({},t),{},{absolutePosition:(0,E.vi)(e,t.id)})})),editing:!(!(0,D._R)(e)&&!(0,O.ni)(e)),zoom:(0,E.aB)(e),xGrid:(0,ue.L)(e),yGrid:(0,ue.WP)(e),yOffset:(0,E.Gr)(e)}}),{resizeObject:E.c5,recalculateSnapGrid:B.eQ,setXSnap:ue.xd,setYSnap:ue.mE,resetSnaps:ue.gL})(ke));function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function(e){(0,c.Z)(u,e);var t,n,i=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function u(){return(0,o.Z)(this,u),i.apply(this,arguments)}return(0,a.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.object,n=e.zoom,o=e.yOffset,a=e.isHover;if(!t)return null;t.type===le.NV&&o&&(t=je(je({},t),{},{y:t.y+o,height:t.height-o}));var i=(0,g.bA)([t.x,t.y],n),c=(0,r.Z)(i,2),l=c[0],s=c[1],u=(0,g.pF)(t.width,n)||0,d=(0,g.pF)(t.height,n)||0,f=Math.round(l+.5)-.5,h=Math.round(s+.5)-.5,m=Math.round(l+u+.5)-.5,y=Math.round(s+d+.5)-.5;a&&t.type===le.NV&&(f-=3.5,h-=3.5,m+=3.5,y+=3.5);var b=m-f,Z=y-h,E=Number.isNaN;return E(f)||E(h)||E(b)||E(Z)?null:p.createElement("g",{className:"hover-selection",transform:"translate(".concat(f,", ").concat(h,")")},p.createElement("rect",{x:0,y:0,width:b,height:Z,className:v()("hover-selection-box",{thicc:a&&t.type===le.NV})}))}}]),u}(p.Component);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(80443);var Ne=function(e){(0,c.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(){return(0,o.Z)(this,i),r.apply(this,arguments)}return(0,a.Z)(i,[{key:"render",value:function(){var e=this.props,t=e.marquee,n=e.objects,r=e.zoom,o=e.yOffset;return t||0===n.length?null:p.createElement("g",null,n.map((function(e){return e&&p.createElement(Me,{isHover:!0,key:e.id,object:e,zoom:r,yOffset:o})})))}}]),i}(p.Component);const Te=(0,h.$j)((function(e){var t=(0,B.Pr)(e);return{objects:(t=t.filter((function(t){return-1===(0,B.Mf)(e).indexOf(t)}))).map((function(t){return De(De({},(0,E.j6)(e,t)),(0,E.vi)(e,t))})),zoom:(0,E.aB)(e),marquee:(0,V.LJ)(e),yOffset:(0,E.Gr)(e)}}))(Ne);var Ie=n(23668);var Le=p.createElement("div",{className:"canvas-loader"},p.createElement(Ie.Z,null)),Xe=function(e){(0,c.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(){return(0,o.Z)(this,i),r.apply(this,arguments)}return(0,a.Z)(i,[{key:"render",value:function(){return Le}}]),i}(p.Component),ze=n(71707),Ue=n(75645),_e=n(96766),We=n(19057);var Fe=function(e){(0,c.Z)(u,e);var t,n,i=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function u(){return(0,o.Z)(this,u),i.apply(this,arguments)}return(0,a.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.zoom,o=t.x,a=t.y,i=t.width,c=t.height,l=(0,g.bA)([o,a],n),s=(0,r.Z)(l,2),u=s[0],d=s[1],f=(0,g.pF)(i,n),h=(0,g.pF)(c,n),m=(0,r.Z)(n.offset,2),v=m[0],y=m[1],b=window,Z=b.innerWidth,E=b.innerHeight,A=u>0?Math.min(f,Z-u):Math.min(f+u,Z),w=d>0?Math.min(h,E-d):Math.min(h+d,E),O=(0,g.fr)(n,!0,o,a),C=v>0?0:Math.abs(v),x=y>0?0:Math.abs(y),P=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=1/.2645833333,i=2,c=a*((r=r||1)||1),l=[],s=1,u=10;if(c<30){s=(Math.floor(30/c/u)+1)*u;var p=Math.floor((c=a*r*s)/30);p>1&&(c=a*r*(s=(Math.round(30/c/(u=p>5?2:5))+1)*u))}var d,f,h,m,v=n-Math.ceil(n/c)*c,y=v,g=c/u;for(m=e;y<m;){var b=void 0,Z=void 0;for(d=.5+~~y,b=o?[t,d]:[d,t],Z=o?[0,d]:[d,0],l.push([b,Z,Math.round((y-n)/c*s)]),h=1;h<u;h++)f=~~y+g*h+.5,b=o?[t,f]:[f,t],Z=o?[0,f]:[f,0],l.push([b,Z,((y-n+g*h)/c*s).toFixed(i)]);y+=c}return l},k=P(A,w,v-Math.max(O.x,0),n.scale),S=P(w,A,y-Math.max(O.y,0),n.scale,!0);return n.scale<=.15?null:p.createElement("g",null,k.map((function(e){return p.createElement("line",{x1:(C+e[0][0])/n.scale,y1:(x+e[0][1])/n.scale,value:e[2],x2:(C+e[1][0])/n.scale,y2:(x+e[1][1])/n.scale,strokeWidth:1/(10*n.scale),stroke:"#000"})})),S.map((function(e){return p.createElement("line",{x1:(C+e[0][0])/n.scale,y1:(x+e[0][1])/n.scale,value:e[2],x2:(C+e[1][0])/n.scale,y2:(x+e[1][1])/n.scale,strokeWidth:1/(10*n.scale),stroke:"#000"})})))}}]),u}(p.Component);const Ye=(0,h.$j)((function(e){return{branding:(0,Z.WS)(e,(0,E.i3)(e))||ze.ST}}))(Fe);var Ge=p.createElement("span",{className:"page-title-icons"},p.createElement(We.Z,{type:"component-small"})),qe=p.createElement(We.Z,{type:"home-small"}),Ve=p.createElement(We.Z,{type:"user-login"}),He=function(e){(0,c.Z)(u,e);var t,n,i=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function u(){return(0,o.Z)(this,u),i.apply(this,arguments)}return(0,a.Z)(u,[{key:"renderIcon",value:function(){var e=this.props,t=e.isLaunchComponent,n=e.isAuthComponent;return e.component.reusableComponent?Ge:p.createElement("span",{className:"page-title-icons"},t?qe:null,n?Ve:null)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.zoom,o=e.zoomActive,a=e.onEnterTitle,i=e.onLeaveTitle,c=e.onClickTitle,l=e.yOffset,s=e.transparent,u=t.x,d=t.y,f=t.width,h=t.height;d+=l,h-=l;var m=(0,g.bA)([u,d],n),y=(0,r.Z)(m,2),b=y[0],Z=y[1],E=(0,g.pF)(f,n),A={left:b,top:Z,width:E,height:(0,g.pF)(h,n)},w=(0,g.Ig)(4,n),O=(0,g.Ig)(8,n),C=(0,g.Ig)(.5,n),x=s?.1:1;return(0,g.Ck)(n,!1,u,d),"0 ".concat(w,"px ").concat(O,"px rgba(0, 0, 0, ").concat(.1*x,"),\n                  0 0 0 ").concat(C,"px rgba(0, 0, 0, ").concat(.1*x,")"),p.createElement(p.Fragment,null,p.createElement("div",{key:t.id,className:v()("page-title-wrapper",{"page-title-wrapper-transparent":s}),style:A},o||E<22?null:p.createElement("div",{className:v()("page-title",{"component-page-title":t.reusableComponent}),onMouseEnter:a,onMouseLeave:i,onMouseDown:c},p.createElement("span",{className:"page-title-text"},t.name))))}}]),u}(p.Component);const $e=(0,h.$j)((function(e){return{branding:(0,Z.WS)(e,(0,E.i3)(e))||ze.ST}}))(He);var Ke=n(9688),Qe=n(22122);const Je=function(e){var t=(0,p.useRef)(null),n=e.value,o=e.isVertical,a=e.zoom,i=(0,p.useState)({x:0,y:0}),c=(0,r.Z)(i,2),l=(c[0],c[1]),s=(0,g.dL)(a,!0,e.x,e.y),u=function(e,t,n,r,a,i,c,l){c=c||2;var s=a*(i=i||1),u=1,p=10,d=Math.round,f=Math.floor;if(s<30){u=(f(30/s/p)+1)*p;var h=f((s=a*i*u)/30);h>1&&(s=a*i*(u=(d(30/s/(p=h>5?2:5))+1)*p))}var m=e.canvas.getContext("2d");m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,e.canvas.width,e.canvas.height),m.lineWidth=1,m.strokeStyle="#afafaf",m.fillStyle="#000",m.font="10px Golos";var v,y,g,b,Z=r-Math.ceil(r/s)*s,E=Z,A=s/p;if(m.beginPath(),o)for(b=n*i-Math.abs(r),m.translate(24,0),m.rotate(.5*Math.PI);E<b;){for(v=.5+~~E,m.moveTo(v,0),m.lineTo(v,18),m.fillText(d((E-r)/s*u),v+4,18),g=1;g<p;g++)y=~~E+A*g+.5,m.moveTo(y,0),g%2?m.lineTo(y,4):m.lineTo(y,6),A>30&&m.fillText(((E-r+A*g)/s*u).toFixed(c),y+4,9);E+=s}else for(b=t*i-Math.abs(r);E<b;){for(v=.5+~~E,m.moveTo(v,24),m.lineTo(v,6),m.fillText(d((E-r)/s*u),v+4,12),g=1;g<p;g++)y=~~E+A*g+.5,m.moveTo(y,24),g%2?m.lineTo(y,20):m.lineTo(y,18),A>30&&m.fillText(((E-r+A*g)/s*u).toFixed(c),y+4,9);E+=s}return m.stroke(),{origin:Z,markersDistance:s,divisors:p}};return(0,p.useEffect)((function(){var e,r=t.current.getContext("2d");return function t(){u(r,n,n,o?a.offset[1]-Math.max(s[1],60):a.offset[0]-Math.max(s[0],362),1/.2645833333,a.scale),e=window.requestAnimationFrame(t)}(),function(){window.cancelAnimationFrame(e)}}),[u]),(0,p.useEffect)((function(){var e=function(e){l({x:e.clientX-Math.abs(s[0]),y:e.clientY-Math.abs(s[1])})};return window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[]),p.createElement("div",{className:"canvas-ruler ".concat(o?"vertical":"horizontal"),style:{transform:"translate(".concat(Math.max(o?s[0]-50:s[0],362),"px, ").concat(Math.max(o?s[1]:s[1]-50,60),"px)")}},p.createElement("canvas",(0,Qe.Z)({ref:t},e)))};var et=function(e){(0,c.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(e){var t;return(0,o.Z)(this,d),t=r.call(this,e),(0,u.Z)((0,i.Z)(t),"handleMouseLeave",(function(e){var n=t.context.editable,r=t.props.setCanvasHover;n&&r(null)})),(0,u.Z)((0,i.Z)(t),"handleEnterTitle",(function(){if(t.context.editable){var e=t.props,n=e.component;(0,e.setCanvasHover)(n.id)}})),(0,u.Z)((0,i.Z)(t),"handleClickTitle",(function(e){var n=t.props,r=n.component,o=n.setSelection,a=n.beginDrag;t.context.editable&&(o(r.id,e.shiftKey),a([e.clientX,e.clientY]))})),(0,u.Z)((0,i.Z)(t),"getMask",(function(){var e=t.props,n=(e.component,e.app),r=(0,g.iI)();if(n&&n.outerRule&&Array.isArray(n.outerRule))return n.outerRule.map((function(e){if(0===e.points.length)return{mask:null,offset:null};var t=Ce.XV.create(e.points);t.setClosed(!0),t.scale(96*r.scale),t.adjust(0,0);var n=t.clone();return n.offset(-10,{insert:!1}),{mask:p.createElement("path",{fill:"#fff",d:t.getPathData()}),offset:p.createElement("path",{stroke:"#000",fill:"transparent",strokeWidth:2,d:n.getPathData()})}}));var o=4*(Math.sqrt(2)-1)/3,a=t.props.component,i=a.width,c=a.height,l=a.x,s=a.y,u=a.borderRadius,d=new Ce.Ae(l,s,i,c),f=new Ce.E9(u?[u,u]:[0,0]),h=d.getBottomLeft(!0),m=d.getTopLeft(!0),v=d.getTopRight(!0),y=d.getBottomRight(!0),b=[];if(!f||f.isZero())b=[new Ce.XX(h),new Ce.XX(m),new Ce.XX(v),new Ce.XX(y)];else{var Z=(f=Ce.$u.min(new Ce.$u(u,u),d.getSize(!0).divide(2))).width,E=f.height,A=Z*o,w=E*o;b=[new Ce.XX(h.add(Z,0),null,[-A,0]),new Ce.XX(h.subtract(0,E),[0,w]),new Ce.XX(m.add(0,E),null,[0,-w]),new Ce.XX(m.add(Z,0),[-A,0],null),new Ce.XX(v.subtract(Z,0),null,[A,0]),new Ce.XX(v.add(0,E),[0,-w],null),new Ce.XX(y.subtract(0,E),null,[0,w]),new Ce.XX(y.subtract(Z,0),[A,0])]}var O=Ce.XV.create(b.map((function(e){var t=e.point,n=e.handleIn,r=e.handleOut;return new Ce.XX(t,n,r)})));O.setClosed(!0),O.scale(r.scale),O.adjust(l,s);var C=O.clone();return C.offset(-10,{insert:!1}),[{mask:p.createElement("path",{fill:"#fff",d:O.getPathData()}),offset:p.createElement("path",{stroke:"#000",fill:"transparent",strokeWidth:2,d:C.getPathData()})}]})),(0,u.Z)((0,i.Z)(t),"getExtrudeBoxes",(function(){var e=t.props,n=(e.component,e.app),r=(0,g.iI)(),o=function(e,t,n,o,a,i,c){var l=4*(Math.sqrt(2)-1)/3,s=new Ce.Ae(o,a,e,n),u=new Ce.E9(i?[i,i]:[0,0]),d=s.getBottomLeft(!0),f=s.getTopLeft(!0),h=s.getTopRight(!0),m=s.getBottomRight(!0),v=[];if(!u||u.isZero())v=[new Ce.XX(d),new Ce.XX(f),new Ce.XX(h),new Ce.XX(m)];else{var y=(u=Ce.$u.min(new Ce.$u(i,i),s.getSize(!0).divide(2))).width,g=u.height,b=y*l,Z=g*l;v=[new Ce.XX(d.add(y,0),null,[-b,0]),new Ce.XX(d.subtract(0,g),[0,Z]),new Ce.XX(f.add(0,g),null,[0,-Z]),new Ce.XX(f.add(y,0),[-b,0],null),new Ce.XX(h.subtract(y,0),null,[b,0]),new Ce.XX(h.add(0,g),[0,-Z],null),new Ce.XX(m.subtract(0,g),null,[0,Z]),new Ce.XX(m.subtract(y,0),[b,0])]}var E=Ce.XV.create(v.map((function(e){var t=e.point,n=e.handleIn,r=e.handleOut;return new Ce.XX(t,n,r)})));return E.setClosed(!0),E.scale(96*r.scale),E.adjust(96*o,96*a),p.createElement("path",{fill:"rgb(255, 0, 0, 0.5)",d:E.getPathData()})};return n&&n.inCaseShapes?n.inCaseShapes.map((function(e){if(e.data)return e.data.map((function(e){var t=e.width,n=e.height,a=(e.length,e.x),i=e.y,c=e.borderRadius,l=(e.rounded,e.shape),s=e.points;return"RECT"===l?o(t,0,n,a,i,c):"POLYGON"===l?function(e,t,n,o,a){var i=Ce.XV.create(a);return i.setClosed(!0),i.scale(96*r.scale),i.adjust(96*n,96*o),p.createElement("path",{fill:"rgb(255, 0, 0, 0.5)",d:i.getPathData()})}(0,0,a,i,s):null}));var t=e.width,n=(e.height,e.length),a=e.xx,i=e.yy,c=e.borderRadius;return e.rounded,o(t,0,n,a,i,c)})):null})),(0,u.Z)((0,i.Z)(t),"getBackgroundPosition",(function(){var e=t.props.component,n="",r=null==e?void 0:e.backgroundSize,o=null==e?void 0:e.backgroundPositionX,a=null==e?void 0:e.backgroundPositionY;switch(o){case"left":n=n.concat("xMin");break;case"right":n=n.concat("xMax");break;case"center":default:n=n.concat("xMid")}switch(a){case"top":n=n.concat("YMin");break;case"bottom":n=n.concat("YMax");break;case"center":default:n=n.concat("YMid")}switch(r){case"contain":n=n.concat(" meet");break;case"cover":default:n=n.concat(" slice")}return n})),t}return(0,a.Z)(d,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.zoom,r=e.zoomActive,o=e.isLaunchComponent,a=e.isAuthComponent,i=e.branding,c=e.yOffset,l=(e.platform,e.selectedParent),s=e.selectedParentScreenId,u=(e.activeStack,t.children),d=n.scale>8,f=(0,g.Ck)(n,!0,t.x,t.y),h=(0,g.iI)(),m="screen-mask-".concat(t.id),v="screen-hightlight-mask-".concat(t.id),y={transform:f},b=(0,ze.ut)(t.backgroundColor||"@background",i),Z=null!=t&&t.backgroundImage?(0,Ue.L)(t.backgroundImage):null,E=this.getBackgroundPosition(),A=this.getMask(),w=this.getExtrudeBoxes();return p.createElement("div",null,p.createElement($e,{zoom:n,zoomActive:r,component:t,onEnterTitle:this.handleEnterTitle,onLeaveTitle:this.handleMouseLeave,onClickTitle:this.handleClickTitle,isLaunchComponent:o,isAuthComponent:a,yOffset:c,transparent:!!l}),p.createElement(Je,{isVertical:!0,width:24,value:Math.ceil(t.height),height:window.innerHeight,zoom:n}),p.createElement(Je,{width:window.innerWidth,value:Math.ceil(t.width),height:24,zoom:n}),p.createElement("svg",{className:"canvas-objects",width:Math.ceil(t.width*h.scale),height:Math.ceil(t.height*h.scale),style:y},p.createElement("defs",null,p.createElement("marker",{id:"depth-arrow",markerWidth:"12",markerHeight:"12",orient:"auto",refY:"6",fill:"transparent",refX:"12"},p.createElement("path",{fill:"transparent",stroke:"#8a8a8a",d:"M6,0 L12,6 6,12",style:{strokeWidth:.5}}))),p.createElement("mask",{id:m},A&&A.map((function(e){var t=e.mask;return e.offset,t}))),p.createElement("use",{href:"#".concat(m),overflow:"visible",stroke:"#000",strokeWidth:"10"}),l&&p.createElement("mask",{id:v},p.createElement("rect",{x:0,y:0,width:t.width*h.scale,height:t.height*h.scale,fill:"#fff"}),s===t.id&&p.createElement("rect",{x:l.x-6,y:l.y-6,width:l.width+12,height:l.height+12,fill:"#000"})),p.createElement("g",{onMouseLeave:this.handleMouseLeave,mask:"url(#".concat(m,")")},p.createElement("rect",{x:0,y:0,fill:b,width:t.width*h.scale,height:t.height*h.scale,pointerEvents:"none"}),p.createElement("g",{id:"offset"},A&&A.map((function(e){return e.mask,e.offset}))),w,p.createElement(Ye,{zoom:n,zoomActive:r,component:t,baseZoom:h}),Z&&p.createElement("image",{href:Z,x:0,y:0,width:t.width*h.scale,height:t.height*h.scale,preserveAspectRatio:E,pointerEvents:"none"}),u.map((function(e){return p.createElement(_e.Z,{key:e.id,object:e,zoom:h,transformZoom:n,hideShadows:d,branding:i})})),l&&p.createElement("rect",{mask:"url(#".concat(v,")"),pointerEvents:"none",x:0,y:0,width:t.width*h.scale,height:t.height*h.scale,fill:"#fff",fillOpacity:.9}))))}}]),d}(p.Component);(0,u.Z)(et,"contextTypes",{editable:f().bool});const tt=(0,h.$j)((function(e){var t,n=(0,E.er)(e);if(n){var r=(0,E.DW)(e,n.id),o=e.editor.objects.present.list,a=(0,Y.RK)(o,r.split(".")[0]);t=a&&a.id}return{app:(0,Z.Mq)(e,(0,E.i3)(e)),selectedParentScreenId:t,selectedParent:n,yOffset:(0,E.Gr)(e),activeStack:(0,Ke.c4)(e),platform:(0,E.Xf)(e)}}),{setCanvasHover:B.TL,setSelection:B.Z5,beginDrag:w.fM})(et);n(69501);var nt=["points"];Symbol("AddDraggableComponent$OPTIONS"),Math.pow(20,2);var rt=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;(0,o.Z)(this,f),t=d.call(this,e),(0,u.Z)((0,i.Z)(t),"handleMouseUp",(function(e){t.setState({mouseOver:!1})})),(0,u.Z)((0,i.Z)(t),"handleMouseDown",(function(e){t.setState({mouseOver:!0})})),(0,u.Z)((0,i.Z)(t),"handleMouseMove",(function(e){var n=t.props,o=n.zoom,a=n.object,i=n.offset,c=n.updateDivider,l=(0,g.ty)([e.clientX,e.clientY],o),s=(0,r.Z)(l,2),u=s[0],p=s[1],d=u-i.x,f=p-i.y;console.log(d,f),c(a.id,f),t.setState({mouseOver:!0,y:f})})),e.offset;var n=e.object,a=n.x,c=n.y;return n.width,n.height,t.state={x:a,y:c,mouseOver:!1},t}return(0,a.Z)(f,[{key:"render",value:function(){var e=this.state,t=e.mouseOver,n=e.x,r=e.y,o=this.props,a=o.object,i=(o.zoom,window.innerWidth,window.innerHeight,a.points),c=((0,Q.Z)(a,nt),Ce.XV.create(i));return c.adjust(n,r),p.createElement(p.Fragment,null,p.createElement(k(),{enabled:t,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp}),p.createElement("g",{className:"divider",onMouseDown:this.handleMouseDown},p.createElement("path",{stroke:"#000",fill:"#cfcfcf",strokeWidth:0,d:c.getPathData()})))}}]),f}(p.Component);(0,ce.EN)((0,h.$j)((function(e,t){return t.match,t.options,{branding:(0,Z.WS)(e,(0,E.i3)(e)),screens:(0,E.sr)(e),xGrid:(0,ue.L)(e),yGrid:(0,ue.WP)(e),startPosition:(0,A.nr)(e)}}),{createObject:E.nW,resetTool:A.bS,setXSnap:ue.xd,setYSnap:ue.mE,resetSnaps:ue.gL,updateDivider:Ke.ll})(rt)),n(15746),n(1054),n(43530),n(66400),n(44263),n(32939),n(41665),n(72036);var ot=["children"];var at=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(){var e;(0,o.Z)(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=d.call.apply(d,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"state",{error:null}),(0,u.Z)((0,i.Z)(e),"handleMouseEnter",(function(t){var n=e.props,r=n.object,o=n.setCanvasHover;e.context.editable&&o(r.id)})),(0,u.Z)((0,i.Z)(e),"handleSelect",(function(t,n){var r=e.props,o=r.object,a=r.setSelection;e.context.editable&&a(o.id,t,!n)})),(0,u.Z)((0,i.Z)(e),"handleExpand",(function(){var t=e.context.editable,n=e.props,r=n.object,o=n.setExpandSelection;t&&o(r.id)})),(0,u.Z)((0,i.Z)(e),"handleEdit",(function(){var t=e.props,n=t.object,r=t.setEditingText,o=t.setEditingShape;e.context.editable&&(n.type===le.GP&&r(n.id),n.type===le.X3&&o(n.id),n.type===le.E2&&o(n.id))})),e}return(0,a.Z)(f,[{key:"shouldComponentUpdate",value:function(e){for(var t=this.props.zoom,n=0,r=["object","textEditing","shapeEditing","hideShadows","branding"];n<r.length;n++){var o=r[n];if(e[o]!==this.props[o])return!0}return t.scale!==e.zoom.scale}},{key:"componentDidCatch",value:function(e,t){var n=this.props.object;window.setTimeout((function(){var t=new Error("Component Error [".concat(n&&n.type,"]: ").concat(e.message));if(t.stack=[t.stack.split("\n").slice(0,2),e.stack].join("\n"),!window.adaloDeveloper)throw t;console.error(t)}),0),this.setState({error:e})}},{key:"getColor",value:function(e){var t=this.props.branding;return(0,ze.ut)(e,t)}},{key:"getBackgroundColor",value:function(){return this.props.backgroundStyle===le.Nu.COLOR?this.getColor(this.props.backgroundColor):"#ddd"}},{key:"render",value:function(){var e=this.props,t=e.object,n=e.zoom,o=(e.transformZoom,e.hideShadows,e.beginDrag,e.branding,e.offsetY);if(this.state.error)return null;var a=(0,g.bA)([t.x,t.y],n),i=(0,r.Z)(a,2),c=i[0],l=(i[1],(0,g.pF)(t.width,n)),s=((0,g.pF)(t.height,n),(0,g.pF)(t.depth,n)),u=(t.children,(0,Q.Z)(t,ot),0);o&&(u+=o);var d=t.backgroundStyle===le.Nu.COLOR?this.getColor(t.backgroundColor):"#ddd";return t.hidden?null:p.createElement("g",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},p.createElement("rect",{x:c,y:u,width:l,height:s,fill:d}))}}]),f}(p.Component);(0,u.Z)(at,"contextTypes",{editable:f().bool,getSelection:f().func});const it=(0,h.$j)(null,{setExpandSelection:B.c4,setSelection:B.Z5,positionObjects:E.aN,setCanvasHover:B.TL,setEditingShape:O.S6,setEditingText:D._n,beginDrag:w.fM})(at);var ct=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(){var e;(0,o.Z)(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=d.call.apply(d,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"state",{error:null}),(0,u.Z)((0,i.Z)(e),"handleMouseDown",(function(t,n){var r=e.props,o=r.object,a=r.app,i=r.updateApp,c=r.setSelection;i(a.id,{launchComponentId:o.id}),c([])})),e}return(0,a.Z)(f,[{key:"shouldComponentUpdate",value:function(e){for(var t=this.props.zoom,n=0,r=["object"];n<r.length;n++){var o=r[n];if(e[o]!==this.props[o])return!0}return t.scale!==e.zoom.scale}},{key:"componentDidCatch",value:function(e,t){var n=this.props.object;window.setTimeout((function(){var t=new Error("Component Error [".concat(n&&n.type,"]: ").concat(e.message));if(t.stack=[t.stack.split("\n").slice(0,2),e.stack].join("\n"),!window.adaloDeveloper)throw t;console.error(t)}),0),this.setState({error:e})}},{key:"render",value:function(){var e=this.props,t=e.object,n=e.zoom,o=(e.offset,e.activeStack,e.app),a=e.component;if(this.state.error)return null;var i=(0,g.bA)([t.x,t.y],n),c=(0,r.Z)(i,2),l=(c[0],c[1],t.points),s=t.x,u=t.y,d=t.id,f=Ce.XV.create(l);f.setClosed(!0),f.adjust(s,u);var h=o.launchComponentId===d?"rgba(184,253,182,0.5)":"rgba(239,239,239,0.5)",m=(0,g.iI)();return p.createElement("g",null,p.createElement("path",{onMouseDown:this.handleMouseDown,stroke:"#000",fill:h,strokeWidth:2,d:f.getPathData()}),a&&a.children.map((function(e){return p.createElement(it,{key:e.id,object:e,zoom:m,offsetY:u,transformZoom:n,hideShadows:!0})})))}}]),f}(p.Component);(0,u.Z)(ct,"contextTypes",{editable:f().bool,setSelectionStack:f().func});const lt=(0,h.$j)((function(e){return{app:(0,Z.Mq)(e,(0,E.i3)(e)),activeStack:(0,Ke.c4)(e)}}),{setExpandSelection:B.c4,setSelection:B.Z5,positionObjects:E.aN,setDividerHover:B.jW,beginDrag:w.fM,setSelectionStack:Ke.tm,updateApp:Z.KT})(ct);var st=n(82700),ut=n(6789);function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;return(0,o.Z)(this,f),t=d.call(this,e),(0,u.Z)((0,i.Z)(t),"splitAt",(function(e,t){var n=[t],r=[e],o=e.clone({insert:!1});e.getIntersections(t).forEach((function(t){console.log(t);var o=e.splitAt(t);o!==e&&r.push(o),n.forEach((function(e){var r=e.getOffsetOf(t.point),o=e.getLocationAt(r);if(o){var a=e.splitAt(o);a&&n.push(a)}}))}));var a=n.find((function(e){return o.contains(e.bounds.getCenter())}));return n.filter((function(e){return e!==a})).forEach((function(e){return e.remove()})),r.forEach((function(e,t){console.log(e.getPathData()),e.setClosed(!0)})),r})),(0,u.Z)((0,i.Z)(t),"handleMouseUp",(function(e){var n=t.props.startPosition,o=(0,r.Z)(n,2),a=o[0],i=o[1];Math.pow(e.clientX-a,2)+Math.pow(e.clientY-i,2)<MIN_RADIUS_SQUARED||t.handleMouseDown(e)})),(0,u.Z)((0,i.Z)(t),"handleMouseDown",(function(e){var n=t.state,r=n.xSnapped,o=n.ySnapped,a=t.props,i=a.createObject,c=a.resetTool,l=a.resetSnaps,s=a.options,u=s.type,p=dt(dt(dt({},s),st.ce[u]),{},{x:r,y:o}),d=4*(Math.sqrt(2)-1)/3,f=[],h=[],m=[];switch(p.type){case le.E2:var v=[new Ce.XX([-1,0],[0,d],[0,-d]),new Ce.XX([0,-1],[-d,0],[d,0]),new Ce.XX([1,0],[0,-d],[0,d]),new Ce.XX([0,1],[d,0],[-d,0])],y=new Ce.E9(p.x,p.y),g=new Ce.E9(p.width/2,p.height/2);m=new Array(4);for(var b=0;b<4;b++){var Z=v[b];m[b]=new Ce.XX(Z._point.multiply(g).add(y),Z._handleIn.multiply(g),Z._handleOut.multiply(g))}var E=Ce.XV.create(m.map((function(e){var t=e.point,n=e.handleIn,r=e.handleOut;return new Ce.XX(t,n,r)})));E.setClosed(!0),E.setPosition(new Ce.E9(p.x+p.width/2,p.y+p.height/2)),E instanceof ut.Op?f=E.children.map((function(e){return e.points})):h=E.points,p=dt(dt({},p),{},{compound:f,points:h,isClosed:!0});break;case le.Ou:var A=new Ce.Ae(p.x,p.y,p.width,p.height),w=new Ce.E9(p.borderRadius?[p.borderRadius,p.borderRadius]:[0,0]),O=A.getBottomLeft(!0),C=A.getTopLeft(!0),x=A.getTopRight(!0),P=A.getBottomRight(!0);if(!w||w.isZero())m=[new Ce.XX(O),new Ce.XX(C),new Ce.XX(x),new Ce.XX(P)];else{var k=(w=Ce.$u.min(new Ce.$u(p.borderRadius,p.borderRadius),A.getSize(!0).divide(2))).width,S=w.height,R=k*d,j=S*d;m=[new Ce.XX(O.add(k,0),null,[-R,0]),new Ce.XX(O.subtract(0,S),[0,j]),new Ce.XX(C.add(0,S),null,[0,-j]),new Ce.XX(C.add(k,0),[-R,0],null),new Ce.XX(x.subtract(k,0),null,[R,0]),new Ce.XX(x.add(0,S),[0,-j],null),new Ce.XX(P.subtract(0,S),null,[0,j]),new Ce.XX(P.subtract(k,0),[R,0])]}var M=Ce.XV.create(m.map((function(e){var t=e.point,n=e.handleIn,r=e.handleOut;return new Ce.XX(t,n,r)})));M.setClosed(!0),M.adjust(p.x,p.y),M instanceof ut.Op?f=M.children.map((function(e){return e.points})):h=M.points,p=dt(dt({},p),{},{compound:f,points:h,isClosed:!0})}i(p),c(),l()})),(0,u.Z)((0,i.Z)(t),"handleMouseMove",(function(e){var n=t.props,o=n.zoom,a=n.options,i=(0,g.ty)([e.clientX,e.clientY],o),c=(0,r.Z)(i,2),l=c[0],s=c[1],u=dt(dt({},a),st.ce[a.type]),p=centerObject(l,s,u),d=(0,r.Z)(p,2),f=d[0],h=d[1],m=applyOffset(f,h,t.props),v=(0,r.Z)(m,2),y=v[0],b=v[1],Z=t.getBestParent(y,b),E=t.calculateSnappedPosition(y,b,Z),A=(0,r.Z)(E,2),w=A[0],O=A[1];t.setState({xSnapped:w,ySnapped:O,mouseOver:!0,x:y,y:b})})),(0,u.Z)((0,i.Z)(t),"handleMouseLeave",(function(){t.setState({mouseOver:!1})})),(0,u.Z)((0,i.Z)(t),"getBackgroundPosition",(function(){var e=t.props.component,n="",r=null==e?void 0:e.backgroundSize,o=null==e?void 0:e.backgroundPositionX,a=null==e?void 0:e.backgroundPositionY;switch(o){case"left":n=n.concat("xMin");break;case"right":n=n.concat("xMax");break;case"center":default:n=n.concat("xMid")}switch(a){case"top":n=n.concat("YMin");break;case"bottom":n=n.concat("YMax");break;case"center":default:n=n.concat("YMid")}switch(r){case"contain":n=n.concat(" meet");break;case"cover":default:n=n.concat(" slice")}return n})),(0,u.Z)((0,i.Z)(t),"getMask",(function(){var e=(0,g.iI)(),n=t.props,r=n.component,o=r.width,a=(r.height,r.x),i=r.y,c=r.borderRadius,l=r.lowerLength,s=n.zoom,u=n.component,d=n.components,f=(n.dividers,n.app.depth),h=new Ce.Ae(a,i,o,f),m=(new Ce.E9(c?[c,c]:[0,0]),h.getBottomLeft(!0)),v=h.getTopLeft(!0),y=h.getTopRight(!0),b=h.getBottomRight(!0),Z=[];if(l>0&&o>l){var E=(o-l)/2;b.x=b.x-E,m.x=m.x+E}Z=[new Ce.XX(m),new Ce.XX(v),new Ce.XX(y),new Ce.XX(b)];var A=Ce.XV.create(Z.map((function(e){var t=e.point,n=e.handleIn,r=e.handleOut;return new Ce.XX(t,n,r)})));A.setClosed(!0),A.scale(e.scale),A.adjust(a,i),t.path=A;var w=[],O=[],C=t.path.clone();if(d&&d.length>0){var x=v.clone(),P=y.clone(),k=v.clone(),S=y.clone();d.forEach((function(e){if(x.y+=e.depth,P.y+=e.depth,k.y+=x.y+10,S.y+=P.y+10,!(x.y>=f)){var t=Ce.XV.create([new Ce.XX(k),new Ce.XX(x),new Ce.XX(P),new Ce.XX(S)]);t.setClosed(!0);var n=t.bounds;O.push({id:e.id,points:t.points,width:n.width,height:n.height,x:n.x,y:n.y}),(C=C.subtract(t)).reverseChildren()}})),C.children&&C.length>0?C.children.forEach((function(e,t){e.name=d[t]&&d[t].id})):C.name=d[0]&&d[0].id}if(C.children&&C.children.length>0)C.adjust(a,i),C.children.forEach((function(e,t){var n=e.bounds,r={id:e.name,points:e.points,width:n._width,height:n._height,x:n.left,y:n.top};w.push(p.createElement(lt,{object:r,component:d[t],offset:{x:u.x,y:u.y+u.height+120},zoom:s}))}));else{var R=C.bounds,j={id:C.name,points:C.points,width:R._width,height:R._height,x:R.left,y:R.top};w.push(p.createElement(lt,{object:j,component:d[0],offset:{x:u.x,y:u.y+u.height+120},zoom:s}))}return[{mask:p.createElement("path",{fill:"#fff",d:t.path.getPathData()}),offsets:w}]})),(0,u.Z)((0,i.Z)(t),"getExtrudeBoxes",(function(){var e=t.props,n=(e.component,e.app),r=(0,g.iI)(),o=function(e,t,n,o,a,i,c){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=4*(Math.sqrt(2)-1)/3,u=new Ce.Ae(o,a,e,n),d=new Ce.E9(i?[i,i]:[0,0]),f=u.getBottomLeft(!0),h=u.getTopLeft(!0),m=u.getTopRight(!0),v=u.getBottomRight(!0),y=[];if(!d||d.isZero())y=[new Ce.XX(f),new Ce.XX(h),new Ce.XX(m),new Ce.XX(v)];else{var g=(d=Ce.$u.min(new Ce.$u(i,i),u.getSize(!0).divide(2))).width,b=d.height,Z=g*s,E=b*s;y=[new Ce.XX(f.add(g,0),null,[-Z,0]),new Ce.XX(f.subtract(0,b),[0,E]),new Ce.XX(h.add(0,b),null,[0,-E]),new Ce.XX(h.add(g,0),[-Z,0],null),new Ce.XX(m.subtract(g,0),null,[Z,0]),new Ce.XX(m.add(0,b),[0,-E],null),new Ce.XX(v.subtract(0,b),null,[0,E]),new Ce.XX(v.subtract(g,0),[Z,0])]}var A=Ce.XV.create(y.map((function(e){var t=e.point,n=e.handleIn,r=e.handleOut;return new Ce.XX(t,n,r)})));return A.setClosed(!0),A.scale(96*r.scale),A.adjust(96*o,Math.abs(l-96*t)),p.createElement("path",{fill:"rgb(255, 0, 0, 0.5)",d:A.getPathData()})};return n.inCaseShapes?n.inCaseShapes.map((function(e){if(e.data)return e.data.map((function(e){var t=e.width,a=(e.height,e.length,e.x),i=e.y,c=e.depth,l=e.borderRadius,s=e.rounded,u=e.shape,d=e.points;return"RECT"===u?o(t,c,c,a,i,l,s,n.depth):"POLYGON"===u?function(e,t,n,o,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=Ce.XV.create(a);return c.setClosed(!0),c.scale(96*r.scale),c.adjust(96*n,Math.abs(i-96*t)),p.createElement("path",{fill:"rgb(255, 0, 0, 0.5)",d:c.getPathData()})}(t,c,a,i,d,n.depth):null}));var t=e.width,a=e.height,i=(e.length,e.xx),c=e.yy,l=e.borderRadius,s=e.rounded;return o(t,a,a,i,c,l,s,n.depth)})):null})),t}return(0,a.Z)(f,[{key:"render",value:function(){var e=this.props,t=e.component,n=(e.components,e.zoom),r=(e.zoomActive,e.isLaunchComponent,e.isAuthComponent,e.branding),o=(e.yOffset,e.platform,e.selectedParent),a=(e.selectedParentScreenId,e.app);if(!t)return null;t.children,n.scale;var i=(0,g.oj)(n,!0,t.x,0),c=(0,g.iI)(),l="projection-mask-".concat(t.id),s="screen-hightlight-mask-".concat(t.id),u={transform:i},d=(0,ze.ut)(t.backgroundColor||"@background",r),f=(null!=t&&t.backgroundImage&&(0,Ue.L)(t.backgroundImage),this.getBackgroundPosition(),(0,g.dL)(n,!0,t.x,t.y),this.getExtrudeBoxes()),h=this.getMask(),m=a.depth;return p.createElement("div",{className:"projection-view",style:{height:Math.min(m*n.scale+20,240)}},p.createElement("svg",{className:"projection-canvas-objects",width:Math.ceil(t.width*c.scale),height:Math.ceil(m*c.scale),style:u},p.createElement("mask",{id:l},h.map((function(e){var t=e.mask;return e.offset,t}))),p.createElement("g",{onMouseLeave:this.handleMouseLeave,mask:"url(#".concat(l,")")},p.createElement("rect",{x:0,y:0,fill:d,width:t.width*c.scale,height:m*c.scale,pointerEvents:"none"}),p.createElement("g",{id:"offset"},h.map((function(e){return e.mask,e.offsets}))),f,o&&p.createElement("rect",{mask:"url(#".concat(s,")"),pointerEvents:"none",x:0,y:0,width:t.width*c.scale,height:m*c.scale,fill:"#fff",fillOpacity:.9}))))}}]),f}(p.Component);(0,u.Z)(ft,"contextTypes",{editable:f().bool});const ht=(0,h.$j)((function(e,t){var n,r=(0,E.er)(e),o=(0,Z.Mq)(e,(0,E.i3)(e)),a=t.components.filter((function(e){return o.launchComponentId===e.id}))[0];if(r){var i=(0,E.DW)(e,r.id),c=e.editor.objects.present.list,l=(0,Y.RK)(c,i.split(".")[0]);n=l&&l.id}return{selectedParentScreenId:n,selectedParent:r,app:o,dividers:(0,Ke.PU)(e),yOffset:(0,E.Gr)(e),platform:(0,E.Xf)(e),activeStack:(0,Ke.c4)(e),component:a}}),{setCanvasHover:B.TL,setSelection:B.Z5,updateDivider:Ke.ll,beginDrag:w.fM})(ft);function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var vt=function(e){(0,c.Z)(n,e);var t=mt(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"handleMouseDown",(function(t){var n=e.props.onSelect;t.stopPropagation(),n()})),(0,u.Z)((0,i.Z)(e),"renderControlPoint",(function(t,n){var r=e.props,o=r.scalePoint,a=r.setDraggingInControl,i=r.setDraggingOutControl;if(!t||!t[n])return null;var c=o(t.point),l=o([t[n][0]+t.point[0],t[n][1]+t.point[1]]),s="handleIn"===n?a:i;return p.createElement("g",null,p.createElement("line",{className:"shape-editor-line shape-editor-line-control-point",x1:c[0],y1:c[1],x2:l[0],y2:l[1]}),p.createElement(yt,{point:l,onMouseDown:s}))})),e}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.point,n=e.isClosePoint,r=e.selected,o=e.scalePoint;return p.createElement("g",{className:"shape-editor-point-wrapper "},r?p.createElement(p.Fragment,null,p.createElement("g",{className:"control-wrapper"},this.renderControlPoint(t,"handleIn"),this.renderControlPoint(t,"handleOut"))):null,p.createElement(yt,{point:o(t.point),selected:r,isClosePoint:n,onMouseDown:this.handleMouseDown}))}}]),n}(p.Component),yt=function(e){(0,c.Z)(n,e);var t=mt(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"handleMouseDown",(function(t){var n=e.props.onMouseDown;t.preventDefault(),t.stopPropagation(),n&&n(t)})),e}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.point,n=e.selected,r=e.isClosePoint;return p.createElement("g",{onMouseDown:this.handleMouseDown},p.createElement("ellipse",{className:v()("shape-editor-point",{selected:n}),cx:t[0],cy:t[1],rx:3,ry:3}),p.createElement("ellipse",{className:v()("shape-editor-point-target",{"cursor-pen-close-path":r}),cx:t[0],cy:t[1],rx:5,ry:5}))}}]),n}(p.Component);function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(22917);var Zt=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;(0,o.Z)(this,f),t=d.call(this,e),(0,u.Z)((0,i.Z)(t),"handleKeyDown",(function(e){var n=t.props,r=(n.setEditingPath,n.setEditingShape),o=n.resetTool;e.which===R._Q&&(r(null),o())})),(0,u.Z)((0,i.Z)(t),"handleSelectPoint",(function(e){return function(){var n=t.props.setSelectedPoint,r=t.getClosePointIndex();if(e===r){var o=t.props.setDraggingOutControl;t.updateObject({isClosed:!0},"closePath"),t.setState({lastCursorPosition:null}),o()}n(e,!0)}})),(0,u.Z)((0,i.Z)(t),"updateObject",(function(e,n){var r=t.props,o=r.object,a=r.updateObject,i=(r.zoom,r.editingPath),c=bt(bt({},o),e);if(n&&(t._lastUndoKey=n),c){c.compound&&c.compound.length>0?(c.compound[i]=c.points,t.compoundPath.children[i].setSegments(c.points)):t.compoundPath.setSegments(c.points);var l=t.compoundPath.bounds;c=bt(bt({},c),{},{width:l.width,height:l.height,x:l.left,y:l.top}),t.compoundPath.setClosed(c.isClosed)}a(o.id,c,t._lastUndoKey||"vector")})),(0,u.Z)((0,i.Z)(t),"handleMouseDown",(function(e){var n=t.props,o=n.object,a=(n.screens,n.createObject),i=n.resetTool,c=n.setDraggingOutControl,l=n.setSelectedPoint,s=n.setEditingShape,u=n.setEditingPath,p=n.editingPath,d=n.app,f=t.props.selectedPoint,h=t.getRealPoint([e.clientX,e.clientY]),m=(0,r.Z)(h,2),v=m[0],y=m[1],g={point:[v,y]};if(o){var b=[];if(b=o.compound?o.compound[p]:o.points,t.canCreatePoint())if(f===b.length-1){var Z=b.slice();Z.push(g),t.setState({lastCursorPosition:null}),c(),l(f+1),t.updateObject({points:Z},"addPoint-".concat(+new Date))}else if(0===f){var E=b.slice();E.unshift(g),t.updateObject({points:E},"addPoint-".concat(+new Date)),t.setState({lastCursorPosition:null}),c()}else u(null),s(null);else u(null),s(null)}else a({x:v,y,type:le.X3,width:1,height:1,points:[{point:[v,y]}],parentId:d.launchComponentId}),i(),t.setState({lastCursorPosition:null}),c(),l(0)})),(0,u.Z)((0,i.Z)(t),"handleMouseMove",(function(e){var n=t.getRealPoint([e.clientX,e.clientY]),o=t.props,a=o.object,i=o.draggingInControl,c=o.draggingOutControl,l=o.draggingSelectedPoint,s=o.editingPath,p=t.props.selectedPoint,d=[];if(a&&(d=a.compound?a.compound[s]||[]:a.points||[]),d[p]&&(i||c)){var f;d=d.slice();var h=i?"handleIn":"handleOut",m=i?"handleOut":"handleIn",v=(0,r.Z)(d[p].point,2),y=v[0],g=v[1],b=[y-n[0],g-n[1]];d[p]=bt(bt({},d[p]),{},(f={},(0,u.Z)(f,h,[n[0]-y,n[1]-g]),(0,u.Z)(f,m,b),(0,u.Z)(f,"type",G._Z),f)),t.updateObject({points:d}),t.setState({lastCursorPosition:null})}else if(l){var Z=(d=d.slice())[p],E=n[0]-Z.point[0],A=n[1]-Z.point[1];Z.point=[Z.point[0]+E,Z.point[1]+A],d[p]=Z,t.updateObject({points:d},"dragPoint-".concat(p)),t.setState({lastCursorPosition:null})}else t.setState({lastCursorPosition:n})})),(0,u.Z)((0,i.Z)(t),"handleMouseLeave",(function(){t.setState({lastCursorPosition:null})})),(0,u.Z)((0,i.Z)(t),"handleMouseUp",(function(){var e=t.props,n=e.object,r=e.updateObject,o=e.endDrag,a=e.setDraggingSelectedPoint;e.zoom,o(),a(!1),n&&n.points&&n.points.length>1&&r(n.id,n,t._lastUndoKey)})),(0,u.Z)((0,i.Z)(t),"canCreatePoint",(function(){var e=t.props,n=e.object,r=e.selectedPoint;return!n||!n.isClosed&&(0===r||r===n.points.length-1)})),(0,u.Z)((0,i.Z)(t),"getEndPoint",(function(){var e=t.props,n=e.object,r=e.selectedPoint;return n&&t.canCreatePoint()&&n.points[r]})),(0,u.Z)((0,i.Z)(t),"getClosePointIndex",(function(){var e=t.props,n=e.object,r=e.selectedPoint;return!n||n.points&&0===n.points.length||n.isClosed?null:0===r?n.points.length-1:r===n.points.length-1?0:null})),(0,u.Z)((0,i.Z)(t),"convertPoint",(function(e){var n=t.props,o=n.zoom,a=n.component;if(n.object,!e)return e;var i=(0,r.Z)(e,2),c=i[0],l=i[1],s=e;return a&&(s=[c+a.x,l+a.y]),(0,g.bA)(s,o)})),(0,u.Z)((0,i.Z)(t),"getRealPoint",(function(e){var n=t.props,o=(n.object,n.component),a=n.zoom,i=(0,g.ty)(e,a),c=(0,r.Z)(i,2),l=c[0],s=c[1];return o&&(l-=o.x,s-=o.y),[l=Math.round(l),s=Math.round(s)]})),t.state={lastCursorPosition:null,hitPoint:{x:0,y:0}},t.path=Ce.XV.create(),t.compoundPath=Ce.XV.create();var n=e.object,a=(e.zoom,e.updateObject),c=e.editingPath;if(n){n.compound&&n.compound.length>0?(t.compoundPath=Ce.XV.create(n.compound),t.compoundPath.setClosed(n.isClosed),t.path=t.compoundPath.children[c],t.path.setClosed(n.isClosed)):(t.path.setSegments(n.points),t.path.setClosed(n.isClosed),t.compoundPath.setSegments(n.points),t.compoundPath.setClosed(n.isClosed));var l=t.compoundPath.bounds,s=bt(bt({},n),{},{width:l.width,height:l.height,x:l.left,y:l.top});a(n.id,s,"zoom")}return t}return(0,a.Z)(f,[{key:"render",value:function(){var e=this,t=this.state,n=t.lastCursorPosition,r=(t.hitPoint,this.props),o=r.selectedPoint,a=r.object,i=r.setDraggingInControl,c=r.setDraggingOutControl,l=r.zoom,s=r.editingPath,u=null,d=this.canCreatePoint(),f=this.getEndPoint(),h="",m=[],v=Ce.XV.create();if(a){var y=this.convertPoint([a.x,a.y]),g=this.compoundPath.clone();g.scale(l.scale),g.bounds.bbox(),g.adjust.apply(g,(0,x.Z)(y)),a.compound&&a.compound[s]?(m=a.compound[s],v=g.children[s]):(m=a.points,v=g),n&&f&&v.draw(new Ce.XX(this.convertPoint(n)),a.points.length),h=v.getPathData()}var b=this.getClosePointIndex();return u="point-editor",d&&(u+=" cursor-pen-plus"),p.createElement("g",{onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,className:u,pointerEvents:"all"},p.createElement(k(),{onKeyDown:this.handleKeyDown}),p.createElement("rect",{x:0,y:0,width:window.innerWidth,height:window.innerHeight,style:{fill:"none"}}),p.createElement("path",{id:"editorLine",className:"shape-editor-line ",d:h}),a&&p.createElement("g",{className:"shape-editor-points"},m.map((function(t,n){return p.createElement(vt,{point:t,key:n,onSelect:e.handleSelectPoint(n),selected:o===n,isClosePoint:n===b,scalePoint:e.convertPoint,setDraggingInControl:i,setDraggingOutControl:c})}))))}}]),f}(p.Component);const Et=(0,h.$j)((function(e){return{app:(0,Z.Mq)(e,(0,E.i3)(e)),screens:(0,E.sr)(e),object:(0,E.j6)(e,(0,O.ni)(e)),editingPath:(0,O.xU)(e),component:(0,E.j6)(e,(0,E.TY)(e,(0,O.ni)(e))),draggingOutControl:(0,O.ek)(e),draggingInControl:(0,O.t0)(e),selectedPoint:(0,O.ee)(e),draggingSelectedPoint:(0,O.E2)(e)}}),{resetTool:A.bS,createObject:E.nW,updateObject:E.v4,setEditingShape:O.S6,setEditingPath:O.Zf,setDraggingOutControl:O.hd,setDraggingInControl:O.Tl,endDrag:O.Xs,setSelectedPoint:O.bN,setDraggingSelectedPoint:O.q7})(Zt);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot={startPoint:null,currentPoint:null,shiftPressed:!1,altPressed:!1},Ct=function(e){(0,c.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e;(0,o.Z)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"state",wt({},Ot)),(0,u.Z)((0,i.Z)(e),"handleKeyDown",(function(t){27===t.which&&(0,e.props.resetTool)()})),(0,u.Z)((0,i.Z)(e),"getPoint",(function(t){var n=e.props,r=n.zoom,o=n.xGrid,a=n.yGrid,i=n.setXSnap,c=n.setYSnap,l=(0,g.ty)([t.clientX,t.clientY],r);if(!o||!a)return l;var s=(0,se.qz)(o,{x:l[0]},r),u=(0,se.qz)(a,{y:l[1]},r);return i(s&&s.x),c(u&&u.y),[s?s.x:l[0],u?u.y:l[1]]})),(0,u.Z)((0,i.Z)(e),"handleMouseDown",(function(t){return e.setState({startPoint:e.getPoint(t)})})),(0,u.Z)((0,i.Z)(e),"handleMouseMove",(function(t){return e.setState({currentPoint:e.getPoint(t),shiftPressed:t.shiftKey,altPressed:t.altKey})})),(0,u.Z)((0,i.Z)(e),"handleMouseUp",(function(t){if(e.state.startPoint){var n=e.props,r=n.resetTool,o=n.objectAttributes;r(),e.createObject(o,e.getRect())}})),(0,u.Z)((0,i.Z)(e),"getRect",(function(){var t=e.state,n=t.startPoint,r=t.currentPoint,o=t.shiftPressed,a=t.altPressed;if(!n||!r||n[0]===r[0]&&n[1]===r[1])return null;var i=r[0]-n[0],c=r[1]-n[1],l=i?i/Math.abs(i):1,s=c?c/Math.abs(c):1;if(o){var u=Math.max(Math.abs(i),Math.abs(c));r=[n[0]+l*u,n[1]+s*u]}return a&&(n=[n[0]-(r[0]-n[0]),n[1]-(r[1]-n[1])]),(0,G.fW)(n,r,!0)})),e}return(0,a.Z)(d,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){var e=this.props.resetSnaps;document.removeEventListener("keydown",this.handleKeyDown),e()}},{key:"createObject",value:function(){throw new Error("createObject should be overriden in subclass")}},{key:"render",value:function(){var e=this.props.zoom,t=(0,g.Px)(this.getRect(),e);return p.createElement("g",{onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,pointerEvents:"all"},p.createElement("rect",{x:0,y:0,width:window.innerWidth,height:window.innerHeight,style:{fill:"none"}}),t&&p.createElement("rect",{x:t.x-.5,y:t.y-.5,width:t.width+1,height:t.height+1,rx:0,ry:0,style:{fill:"none",stroke:"#808080",strokeWidth:.5}}))}}]),d}(p.Component),xt={resetTool:A.bS,setXSnap:ue.xd,setYSnap:ue.mE,resetSnaps:ue.gL};function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(13448);var St=function(e){(0,c.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(){return(0,o.Z)(this,i),r.apply(this,arguments)}return(0,a.Z)(i,[{key:"createObject",value:function(e,t){t&&(t.width>0||t.height>0)&&(0,this.props.createObject)(kt(kt({},e),t))}}]),i}(Ct);const Rt=(0,h.$j)((function(e){return{objectAttributes:(0,A.rs)(e),xGrid:(0,ue.L)(e),yGrid:(0,ue.WP)(e)}}),kt(kt({},xt),{},{createObject:E.nW}))(St);function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Mt=function(e){(0,c.Z)(n,e);var t=jt(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"renderObjects",value:function(){var e=this.props,t=e.component,n=e.width,r=e.height;if(!t)return null;var o=t.children,a=Math.min(n/t.width,r/t.height),i={scale:a,offset:[(n-t.width*a)/2,(r-t.height*a)/2]};return p.createElement(Bt,{objects:o,zoom:i})}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height;return p.createElement("svg",{width:t,height:n,className:"component-preview"},this.renderObjects())}}]),n}(p.Component),Bt=function(e){(0,c.Z)(n,e);var t=jt(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.objects,n=e.zoom;return p.createElement("g",{className:"preview-objects"},t.map((function(e){return p.createElement(_e.Z,{key:e.id,object:e,zoom:n,transformZoom:n,hideShadows:!1})})))}}]),n}(p.Component);function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,h.$j)((function(e,t){var n=t.componentId;return{component:(0,E.j6)(e,n)}}))(Mt),n(79748);var Tt=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(){var e;(0,o.Z)(this,f);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=d.call.apply(d,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"state",{mouseOver:!1,xSnapped:0,ySnapped:0}),(0,u.Z)((0,i.Z)(e),"handleMouseDown",(function(t){var n=e.props,r=n.createObject,o=n.resetTool,a=n.resetSnaps,i=n.component,c=n.options,l=e.state,s=l.xSnapped,u=l.ySnapped,p=l.mouseOver;i&&p&&(r(Nt(Nt({},c),{},{x:s,y:u,width:i.width,height:i.height,name:i.name})),o(),a())})),(0,u.Z)((0,i.Z)(e),"getSnappedPoints",(function(t,n){var r=e.props,o=r.component,a=r.xGrid,i=r.yGrid,c=r.zoom,l=r.setXSnap,s=r.setYSnap,u=o.width,p=o.height;if(!a||!i)return[t,n,u,p];var d=0,f=0,h={left:t,center:t+u/2,right:t+u},m={top:n,center:n+p/2,bottom:n+p},v=(0,se.qz)(a,h,c),y=(0,se.qz)(i,m,c);if(v){var g=Object.keys(v)[0];d=v[g]-h[g],l(v[g])}else l(null);if(y){var b=Object.keys(y)[0];f=y[b]-m[b],s(y[b])}else s(null);return[t+d,n+f]})),(0,u.Z)((0,i.Z)(e),"handleMouseMove",(function(t){var n=e.props,o=n.zoom,a=n.component,i=(0,g.ty)([t.clientX,t.clientY],o),c=(0,r.Z)(i,2),l=c[0],s=c[1];l=Math.round(l-a.width/2),s=Math.round(s-a.height/2);var u=e.getSnappedPoints(l,s),p=(0,r.Z)(u,2),d=p[0],f=p[1];e.setState({xSnapped:d,ySnapped:f,mouseOver:!0})})),(0,u.Z)((0,i.Z)(e),"handleMouseLeave",(function(){e.setState({mouseOver:!1})})),(0,u.Z)((0,i.Z)(e),"renderComponent",(function(){var t=e.props,n=t.zoom,o=t.component,a=e.state,i=a.xSnapped,c=a.ySnapped,l=(0,g.bA)([i,c],n),s=(0,r.Z)(l,2),u=s[0],d=s[1];if(!o)return null;var f=Nt(Nt({},n),{},{offset:[0,0]});return p.createElement("g",{transform:"translate(".concat(u,", ").concat(d,")"),opacity:.5},p.createElement(Bt,{objects:o.children,zoom:f}))})),e}return(0,a.Z)(f,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.resetTool,r=this.state.mouseOver;t||n();var o=window.innerWidth,a=window.innerHeight;return p.createElement("g",{className:"add-component-instance"},p.createElement("rect",{onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseMove,x:0,y:0,width:o,height:a,className:"add-component-backdrop"}),r?this.renderComponent():null)}}]),f}(p.Component);const It=(0,h.$j)((function(e,t){var n=t.options;return{component:(0,E.j6)(e,n&&n.componentId),xGrid:(0,ue.L)(e),yGrid:(0,ue.WP)(e)}}),{createObject:E.nW,resetTool:A.bS,setXSnap:ue.xd,setYSnap:ue.mE,resetSnaps:ue.gL})(Tt);var Lt=n(77297);function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut=Math.pow(20,2),_t=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;(0,o.Z)(this,f),t=d.call(this,e),(0,u.Z)((0,i.Z)(t),"handleMouseUp",(function(e){var n=t.props.startPosition,o=(0,r.Z)(n,2),a=o[0],i=o[1];Math.pow(e.clientX-a,2)+Math.pow(e.clientY-i,2)<Ut||t.handleMouseDown(e)})),(0,u.Z)((0,i.Z)(t),"handleMouseDown",(function(e){var n=t.state,r=n.xSnapped,o=n.ySnapped,a=n.widthSnapped,i=n.heightSnapped,c=t.props,l=c.createObject,s=c.resetTool,u=c.resetSnaps,p=c.options,d=p.libraryName,f=p.libraryVersion,h=p.componentName,m=(0,de.av)(d,f).config.components.filter((function(e){return e.name===h}))[0];l(zt(zt({},p),{},{x:r,y:o,width:a||p.width,height:i||p.height,name:m.displayName})),s(),u()})),(0,u.Z)((0,i.Z)(t),"handleMouseMove",(function(e){var n=t.props,o=n.zoom,a=n.options,i=(0,g.ty)([e.clientX,e.clientY],o),c=(0,r.Z)(i,2),l=c[0],s=c[1];l=Math.round(l-a.width/2),s=Math.round(s-a.height/2);var u=t.getBestParent(l,s),p=t.calculateSnappedPosition(l,s,u),d=(0,r.Z)(p,4),f=d[0],h=d[1],m=d[2],v=d[3];t.setState({mouseOver:!0,x:l,y:s,xSnapped:f,ySnapped:h,widthSnapped:m,heightSnapped:v})})),(0,u.Z)((0,i.Z)(t),"handleMouseLeave",(function(){t.setState({mouseOver:!1})})),(0,u.Z)((0,i.Z)(t),"getBestParent",(function(e,n){var r=t.state,o=r.x,a=r.y;o=e||o,a=n||a;var i=t.props,c=i.options,l=i.screens,s=zt(zt({},c),{},{x:o,y:a}),u=(0,G.A5)(s,l);return l.filter((function(e){return e.id===u}))[0]})),(0,u.Z)((0,i.Z)(t),"calculateGridSnapPosition",(function(e,n){var r=t.props,o=r.options,a=r.xGrid,i=r.yGrid,c=r.setXSnap,l=r.setYSnap,s=r.zoom,u=o.width,p=o.height;if(!a||!i)return[e,n,u,p];var d=0,f=0,h={left:e,center:e+u/2,right:e+u},m={top:n,center:n+p/2,bottom:n+p},v=(0,se.qz)(a,h,s),y=(0,se.qz)(i,m,s);if(v){var g=Object.keys(v)[0];d=v[g]-h[g],c(v[g])}else c(null);if(y){var b=Object.keys(y)[0];f=y[b]-m[b],l(y[b])}else l(null);return[Math.round(e+d),Math.round(n+f),u,p]})),(0,u.Z)((0,i.Z)(t),"calculateSnappedPosition",(function(e,n,r){var o=t.props.options;if(!o.snappingRules)return t.calculateGridSnapPosition(e,n);var a=(0,de.Xk)(zt(zt({},o),{},{x:e,y:n}),r);return[a.x,a.y,a.width,a.height]})),(0,u.Z)((0,i.Z)(t),"renderComponent",(function(){var e=t.props,n=e.zoom,o=e.options,a=e.libraryVersion,i=t.state,c=i.xSnapped,l=i.ySnapped,s=i.widthSnapped,u=i.heightSnapped,d=(0,g.bA)([c,l],n),f=(0,r.Z)(d,2),h=f[0],m=f[1],v=o.width,y=o.height,b=s||v,Z=u||y;v=(0,g.pF)(b,n),y=(0,g.pF)(Z,n);var E=zt(zt({},o),{},{width:b,height:Z}),A=zt(zt({},n),{},{offset:[0,0]});return p.createElement("g",{opacity:.5},p.createElement(Lt.Z,{object:E,zoom:A,libraryVersion:a,x:h,y:m}),p.createElement("g",{transform:"translate(".concat(h,", ").concat(m,")")},p.createElement("rect",{x:0,y:0,width:v,height:y,className:"add-component-outline"})))}));var n=e.startPosition?(0,g.ty)(e.startPosition,e.zoom):[0,0],a=(0,r.Z)(n,2),c=a[0],l=a[1],s=e.options,h=s.width,m=s.height;return c-=Math.floor(h/2),l-=Math.floor(m/2),t.state={x:c,y:l,mouseOver:!!e.startPosition,xSnapped:c,ySnapped:l,widthSnapped:0,heightSnapped:0},t}return(0,a.Z)(f,[{key:"render",value:function(){var e=this.state.mouseOver,t=window.innerWidth,n=window.innerHeight;return p.createElement("g",{className:"add-component-instance"},e?this.renderComponent():null,p.createElement("rect",{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseMove,x:0,y:0,width:t,height:n,className:"add-component-backdrop"}))}}]),f}(p.Component);const Wt=(0,ce.EN)((0,h.$j)((function(e,t){var n=t.match,r=t.options;return{screens:(0,E.sr)(e),xGrid:(0,ue.L)(e),yGrid:(0,ue.WP)(e),startPosition:(0,A.nr)(e),libraryVersion:(0,Z.HF)(e,n.params.appId,r.libraryName)}}),{createObject:E.nW,resetTool:A.bS,setXSnap:ue.xd,setYSnap:ue.mE,resetSnaps:ue.gL})(_t));var Ft=n(74370),Yt=n(31475),Gt=function(e){var t=e.offsetX,n=e.offsetY,r=e.boundingWidth,o=e.boundingHeight,a=(e.zoom,e.styleHeight,e.children),i=Math.floor(t),c=Math.floor(n),l=t%1,s=n%1;return p.createElement("g",{x:i,y:c,width:r,height:o,pointerEvents:"none",transform:"translate(".concat(l,",").concat(s,")")},a)};const qt=p.memo(Gt);var Vt=n(93379),Ht=n.n(Vt),$t=n(32166);Ht()($t.Z,{insert:"head",singleton:!1}),$t.Z.locals;var Kt=function(e){(0,c.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e;(0,o.Z)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"shouldComponentUpdate",(function(t){for(var n=0,r=["object","zoom","branding"];n<r.length;n++){var o=r[n];if(t[o]!==e.props[o])return!0}return!1})),e}return(0,a.Z)(d,[{key:"renderLoading",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.object,n=e.zoom,r=(e.libraryVersion,e.getLabel,e.match),o=e.x,a=e.y,i=(e.branding,e.libraryGlobals,r.params.appId,t.width),c=t.height,l=(t.libraryName,t.componentName,t.data),s=(0,g.pF)(i+40,n),u=(0,g.pF)(c+40,n),d=o-(0,g.pF)(20,n),f=a-(0,g.pF)(20,n),h=(0,g.pF)(i,n),m=(0,g.pF)(c,n),v={boundingHeight:u,boundingWidth:s,offsetX:d,offsetY:f,zoom:n,styleHeight:void 0},y=null;if(l){var b=new Ce.ZA(l.map((function(e){if("POLYGON"===e.s){var t=Ce.XV.create(e.p);return t.setClosed(!0),t}return null})));b.scale(n.scale),b.adjust(o,a),y=b.children.map((function(e){return p.createElement("path",{stroke:"#000",fill:"#CFCFCF",strokeWidth:1,d:e.getPathData()})}))}return p.createElement("g",null,p.createElement(qt,v,y),p.createElement("rect",{x:o,y:a,width:h,height:m,fill:"none",stroke:"none"}))}}]),d}(p.Component);const Qt=(0,ce.EN)((0,h.$j)((function(e,t){var n=t.match,r=t.object,o=t.libraryVersion;return{status:(0,Yt.In)(e,r.libraryName,o),getLabel:function(t){return(0,Ft.xK)(e,t,n.params.appId,n.params.componentId)},branding:(0,Z.WS)(e,n.params.appId),libraryGlobals:(0,E.wR)(e,r.libraryName,r.componentName)}}))(Kt));function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn=Math.pow(20,2),nn=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;(0,o.Z)(this,f),t=d.call(this,e),(0,u.Z)((0,i.Z)(t),"handleMouseUp",(function(e){var n=t.props.startPosition,o=(0,r.Z)(n,2),a=o[0],i=o[1];Math.pow(e.clientX-a,2)+Math.pow(e.clientY-i,2)<tn||t.handleMouseDown(e)})),(0,u.Z)((0,i.Z)(t),"handleMouseDown",(function(e){var n=t.state,o=n.xSnapped,a=n.ySnapped,i=n.widthSnapped,c=n.heightSnapped,l=t.props,s=l.createObject,u=l.resetTool,p=l.resetSnaps,d=(l.options,l.options.orientations),f=l.zoom,h=(0,g.ty)([e.clientX,e.clientY],f),m=(0,r.Z)(h,2),v=m[0],y=m[1],b=(0,r.Z)(d,1)[0];b.data&&(b.objects=b.data.map((function(e){if("POLYGON"===e.s)return{x:o+e.x,y:a+e.y,width:e.w,height:e.h,depth:e.d,points:e.p.map((function(e){return{point:[e[0]+o,e[1]+a]}})),type:le.X3}}))),v=Math.round(v-b.width/2),y=Math.round(y-b.height/2);var Z=t.getBestParent(v,y);b=en(en({},b),{},{parentId:Z&&Z.id}),s(en(en({},b),{},{x:o,y:a,width:i||b.width,height:c||b.height,type:le.oG})),u(),p()})),(0,u.Z)((0,i.Z)(t),"handleMouseMove",(function(e){var n=t.props,o=n.zoom,a=n.options.orientations,i=(0,r.Z)(a,1)[0],c=(0,g.ty)([e.clientX,e.clientY],o),l=(0,r.Z)(c,2),s=l[0],u=l[1];s=Math.round(s-i.width/2),u=Math.round(u-i.height/2);var p=t.getBestParent(s,u),d=t.calculateSnappedPosition(s,u,p),f=(0,r.Z)(d,4),h=f[0],m=f[1],v=f[2],y=f[3];t.setState({mouseOver:!0,x:s,y:u,xSnapped:h,ySnapped:m,widthSnapped:v,heightSnapped:y})})),(0,u.Z)((0,i.Z)(t),"handleMouseLeave",(function(){t.setState({mouseOver:!1})})),(0,u.Z)((0,i.Z)(t),"getBestParent",(function(e,n){var o=t.state,a=o.x,i=o.y;a=e||a,i=n||i;var c=t.props,l=(c.options,c.screens),s=c.options.orientations,u=c.app,p=(0,r.Z)(s,1)[0];l=l.filter((function(e){return e.id===u.launchComponentId}));var d=en(en({},p),{},{x:a,y:i}),f=(0,G.A5)(d,l);return l.filter((function(e){return e.id===f}))[0]})),(0,u.Z)((0,i.Z)(t),"calculateGridSnapPosition",(function(e,n){var o=t.props,a=(o.options,o.xGrid),i=o.yGrid,c=o.setXSnap,l=o.setYSnap,s=o.zoom,u=o.options.orientations,p=(0,r.Z)(u,1)[0],d=p.width,f=p.height;if(!a||!i)return[e,n,d,f];var h=0,m=0,v={left:e,center:e+d/2,right:e+d},y={top:n,center:n+f/2,bottom:n+f},g=(0,se.qz)(a,v,s),b=(0,se.qz)(i,y,s);if(g){var Z=Object.keys(g)[0];h=g[Z]-v[Z],c(g[Z])}else c(null);if(b){var E=Object.keys(b)[0];m=b[E]-y[E],l(b[E])}else l(null);return[Math.round(e+h),Math.round(n+m),d,f]})),(0,u.Z)((0,i.Z)(t),"calculateSnappedPosition",(function(e,n,o){var a=t.props,i=(a.options,a.options.orientations),c=(0,r.Z)(i,1)[0];if(!c.snappingRules)return t.calculateGridSnapPosition(e,n);var l=(0,de.Xk)(en(en({},c),{},{x:e,y:n}),o);return[l.x,l.y,l.width,l.height]})),(0,u.Z)((0,i.Z)(t),"renderComponent",(function(){var e=t.props,n=e.zoom,o=(e.options,e.libraryVersion),a=e.options.orientations,i=t.state,c=i.xSnapped,l=i.ySnapped,s=i.widthSnapped,u=i.heightSnapped,d=(0,g.bA)([c,l],n),f=(0,r.Z)(d,2),h=f[0],m=f[1],v=(0,r.Z)(a,1)[0],y=v.width,b=v.height,Z=s||y,E=u||b;y=(0,g.pF)(Z,n),b=(0,g.pF)(E,n);var A=en(en({},v),{},{width:Z,height:E}),w=en(en({},n),{},{offset:[0,0]});return v.data&&v.data.map((function(e){if("POLYGON"===e.s){var t=Ce.XV.create(e.p);return t.setClosed(!0),t.adjust(e.x,e.y),t.scale(n.scale),p.createElement("g",null,p.createElement("path",{stroke:"#000",fill:"#CFCFCF",strokeWidth:1,d:t.getPathData()}))}return null})),p.createElement("g",{opacity:.5},p.createElement(Qt,{object:A,zoom:w,libraryVersion:o,x:h,y:m}),p.createElement("g",{transform:"translate(".concat(h,", ").concat(m,")")},p.createElement("rect",{x:0,y:0,width:y,height:b,className:"add-component-outline"})))}));var n=e.startPosition?(0,g.ty)(e.startPosition,e.zoom):[0,0],a=(0,r.Z)(n,2),c=a[0],l=a[1],s=e.options.orientations,h=(0,r.Z)(s,1)[0];return c-=Math.floor(h.width/2),l-=Math.floor(h.height/2),t.state={x:c,y:l,mouseOver:!!e.startPosition,xSnapped:c,ySnapped:l,widthSnapped:0,heightSnapped:0},t}return(0,a.Z)(f,[{key:"render",value:function(){var e=this.state.mouseOver,t=window.innerWidth,n=window.innerHeight;return p.createElement("g",{className:"add-component-instance"},e?this.renderComponent():null,p.createElement("rect",{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseMove,x:0,y:0,width:t,height:n,className:"add-component-backdrop"}))}}]),f}(p.Component);const rn=(0,ce.EN)((0,h.$j)((function(e,t){var n=t.match,r=t.options;return{app:(0,Z.Mq)(e,(0,E.i3)(e)),screens:(0,E.sr)(e),xGrid:(0,ue.L)(e),yGrid:(0,ue.WP)(e),startPosition:(0,A.nr)(e),activeStack:(0,Ke.c4)(e),libraryVersion:(0,Z.HF)(e,n.params.appId,r.libraryName)}}),{createObject:E.nW,resetTool:A.bS,setXSnap:ue.xd,setYSnap:ue.mE,resetSnaps:ue.gL})(nn));var on=n(85047),an=n(90278);function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(){var e;(0,o.Z)(this,f);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=d.call.apply(d,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"state",{startPoint:null,currentPoint:null,shiftPressed:!1,altPressed:!1}),(0,u.Z)((0,i.Z)(e),"handleKeyDown",(function(t){var n=e.props.resetTool;27===t.which&&n()})),(0,u.Z)((0,i.Z)(e),"getPoint",(function(t){var n=e.props,r=n.zoom,o=n.xGrid,a=n.yGrid,i=n.setXSnap,c=n.setYSnap,l=(0,g.ty)([t.clientX,t.clientY],r);if(!o||!a)return l;var s=(0,se.qz)(o,{x:l[0]},r),u=(0,se.qz)(a,{y:l[1]},r);return i(s&&s.x),c(u&&u.y),[s?s.x:l[0],u?u.y:l[1]]})),(0,u.Z)((0,i.Z)(e),"handleMouseDown",(function(t){return e.setState({startPoint:e.getPoint(t)})})),(0,u.Z)((0,i.Z)(e),"handleMouseMove",(function(t){return e.setState({currentPoint:e.getPoint(t),shiftPressed:t.shiftKey,altPressed:t.altKey})})),(0,u.Z)((0,i.Z)(e),"handleMouseUp",(function(t){var n=e.props,o=n.createObject,a=n.resetTool,i=n.objectAttributes,c=(n.zoom,e.state.startPoint);if(c){var l=e.getRect();if(a(),l)i.type===le.GP&&(i=ln(ln({},i),{},{autoWidth:!1})),i.type===le.Ou&&(i=ln({},(0,an.MC)(ln(ln({},i),l)))),(l.width>0||l.height>0)&&o(ln(ln({},i),l));else if(i.type===le.GP){var s=(0,r.Z)(c,2),u=s[0],p=s[1];u=Math.round(u),p=Math.round(p)-8,o(ln(ln({},i),{},{x:u,y:p}))}}})),(0,u.Z)((0,i.Z)(e),"getRect",(function(){var t=e.state,n=t.startPoint,r=t.currentPoint,o=t.shiftPressed,a=t.altPressed;if(!n||!r||n[0]===r[0]&&n[1]===r[1])return null;var i=r[0]-n[0],c=r[1]-n[1],l=i?i/Math.abs(i):1,s=c?c/Math.abs(c):1;if(o){var u=Math.max(Math.abs(i),Math.abs(c));r=[n[0]+l*u,n[1]+s*u]}return a&&(n=[n[0]-(r[0]-n[0]),n[1]-(r[1]-n[1])]),(0,G.fW)(n,r,!0)})),e}return(0,a.Z)(f,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){var e=this.props.resetSnaps;document.removeEventListener("keydown",this.handleKeyDown),e()}},{key:"render",value:function(){var e=this.props,t=e.objectAttributes,n=e.tool,r=e.zoom,o=e.platform,a=(0,g.Px)(this.getRect(),r),i=0;return a&&t.borderRadius&&(i=Math.min(a.width/2,a.height/2,(0,g.pF)(t.borderRadius,r))),n===y.pf&&(i=1e5),n===y.ox?p.createElement(Et,{zoom:r}):n===y.uk?p.createElement(Rt,{zoom:r}):n===y.CY?p.createElement(It,{zoom:r,options:t}):n===y.u1?("web"!==o&&t.width>375&&(t.width=375),p.createElement(Wt,{zoom:r,options:t})):n===y.dI?("web"!==o&&t.width>375&&(t.width=375),p.createElement(rn,{zoom:r,options:t})):n===y.$7?p.createElement(on.Z,{zoom:r,options:t}):p.createElement("g",{onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,pointerEvents:"all"},p.createElement("rect",{x:0,y:0,width:window.innerWidth,height:window.innerHeight,style:{fill:"none"}}),a&&p.createElement("rect",{x:a.x-.5,y:a.y-.5,width:a.width+1,height:a.height+1,rx:i,ry:i,style:{fill:"none",stroke:"#808080",strokeWidth:.5}}))}}]),f}(p.Component);const un=(0,h.$j)((function(e){return{objectAttributes:(0,A.rs)(e),xGrid:(0,ue.L)(e),yGrid:(0,ue.WP)(e),platform:(0,E.Xf)(e)}}),{createObject:E.nW,resetTool:A.bS,setXSnap:ue.xd,setYSnap:ue.mE,resetSnaps:ue.gL})(sn);function pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var dn=function(e){(0,c.Z)(n,e);var t=pn(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"handleMouseDown",(function(t){var n=e.props.onSelect;t.stopPropagation(),n()})),(0,u.Z)((0,i.Z)(e),"renderControlPoint",(function(t,n){var r=e.props,o=r.scalePoint,a=r.setDraggingInControl,i=r.setDraggingOutControl;if(!t||!t[n])return null;var c=o(t.point),l=o([t[n][0]+t.point[0],t[n][1]+t.point[1]]),s="handleIn"===n?a:i;return p.createElement("g",null,p.createElement("line",{className:"shape-editor-line shape-editor-line-control-point",x1:c[0],y1:c[1],x2:l[0],y2:l[1]}),p.createElement(fn,{point:l,onMouseDown:s}))})),e}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.point,n=e.isClosePoint,r=e.selected,o=e.scalePoint;return p.createElement("g",{className:"shape-editor-point-wrapper "},r?p.createElement(p.Fragment,null,p.createElement("g",{className:"control-wrapper"},this.renderControlPoint(t,"handleIn"),this.renderControlPoint(t,"handleOut"))):null,p.createElement(fn,{point:o(t.point),selected:r,isClosePoint:n,onMouseDown:this.handleMouseDown}))}}]),n}(p.Component),fn=function(e){(0,c.Z)(n,e);var t=pn(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"handleMouseDown",(function(t){var n=e.props.onMouseDown;t.preventDefault(),t.stopPropagation(),n&&n(t)})),e}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.point,n=e.selected,r=e.isClosePoint;return p.createElement("g",{onMouseDown:this.handleMouseDown},p.createElement("ellipse",{className:v()("shape-editor-point",{selected:n}),cx:t[0],cy:t[1],rx:3,ry:3}),p.createElement("ellipse",{className:v()("shape-editor-point-target",{"cursor-pen-close-path":r}),cx:t[0],cy:t[1],rx:5,ry:5}))}}]),n}(p.Component);function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vn=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;(0,o.Z)(this,f),t=d.call(this,e),(0,u.Z)((0,i.Z)(t),"handleKeyDown",(function(e){var n=t.props,r=n.setEditingShape,o=n.resetTool;e.which===R._Q&&(r(null),o())})),(0,u.Z)((0,i.Z)(t),"handleSelectPoint",(function(e){return function(){var n=t.props.setSelectedPoint,r=t.getClosePointIndex();if(e===r){var o=t.props.setDraggingOutControl;t.updateObject({isClosed:!0},"closePath"),t.setState({lastCursorPosition:null}),o()}n(e,!0)}})),(0,u.Z)((0,i.Z)(t),"updateObject",(function(e,n){var r=t.props,o=r.object,a=r.updateObject,i=(r.zoom,mn(mn({},o),e));if(n&&(t._lastUndoKey=n),i){t.path.setSegments(i.points.map((function(e){var t=e.point,n=e.handleIn,r=e.handleOut;return new Ce.XX(t,n,r)})));var c=t.path.bounds;i=mn(mn({},i),{},{width:c.width,height:c.height,x:c.left,y:c.top}),t.path.setClosed(i.isClosed)}a(o.id,i,t._lastUndoKey||"vector")})),(0,u.Z)((0,i.Z)(t),"handleMouseDown",(function(e){var n=t.props,o=n.object,a=n.createObject,i=n.resetTool,c=n.setDraggingOutControl,l=n.setSelectedPoint,s=n.setEditingShape,u=n.app,p=t.props.selectedPoint,d=t.getRealPoint([e.clientX,e.clientY]),f=(0,r.Z)(d,2),h=f[0],m=f[1],v={point:[h,m]};if(o)if(t.canCreatePoint())if(p===o.points.length-1){var y=o.points.slice();y.push(v),t.setState({lastCursorPosition:null}),c(),l(p+1),t.updateObject({points:y},"addPoint-".concat(+new Date))}else if(0===p){var g=o.points.slice();g.unshift(v),t.updateObject({points:g},"addPoint-".concat(+new Date)),t.setState({lastCursorPosition:null}),c()}else s(null);else s(null);else a({x:h,y:m,type:le.X3,width:1,height:1,points:[{point:[h,m]}],parentId:u.launchComponentId}),i(),t.setState({lastCursorPosition:null}),c(),l(0)})),(0,u.Z)((0,i.Z)(t),"handleMouseMove",(function(e){var n=t.getRealPoint([e.clientX,e.clientY]),o=t.props,a=o.object,i=o.draggingInControl,c=o.draggingOutControl,l=o.draggingSelectedPoint,s=new Ce.E9(n[0],n[1]),p=t.path.hitTest(s);if(p){var d=t.convertPoint([p.point.x,p.point.y]),f=(0,r.Z)(d,2);f[0],f[1]}var h=t.props.selectedPoint;if((a&&a.points||[])[h]&&(i||c)){var m,v=a.points;v=v.slice();var y=i?"handleIn":"handleOut",g=i?"handleOut":"handleIn",b=(0,r.Z)(v[h].point,2),Z=b[0],E=b[1],A=[Z-n[0],E-n[1]];v[h]=mn(mn({},v[h]),{},(m={},(0,u.Z)(m,y,[n[0]-Z,n[1]-E]),(0,u.Z)(m,g,A),(0,u.Z)(m,"type",G._Z),m)),t.updateObject({points:v}),t.setState({lastCursorPosition:null})}else if(l){var w=a.points.slice(),O=w[h],C=n[0]-O.point[0],x=n[1]-O.point[1];O.point=[O.point[0]+C,O.point[1]+x],w[h]=O,t.updateObject({points:w},"dragPoint-".concat(h)),t.setState({lastCursorPosition:null})}else t.setState({lastCursorPosition:n})})),(0,u.Z)((0,i.Z)(t),"handleMouseLeave",(function(){t.setState({lastCursorPosition:null})})),(0,u.Z)((0,i.Z)(t),"handleMouseUp",(function(){var e=t.props,n=e.object,r=e.updateObject,o=e.endDrag,a=e.setDraggingSelectedPoint;e.zoom,o(),a(!1),n&&n.points&&n.points.length>1&&r(n.id,n,t._lastUndoKey)})),(0,u.Z)((0,i.Z)(t),"canCreatePoint",(function(){var e=t.props,n=e.object,r=e.selectedPoint;return!n||!n.isClosed&&(0===r||r===n.points.length-1)})),(0,u.Z)((0,i.Z)(t),"getEndPoint",(function(){var e=t.props,n=e.object,r=e.selectedPoint;return n&&t.canCreatePoint()&&n.points[r]})),(0,u.Z)((0,i.Z)(t),"getClosePointIndex",(function(){var e=t.props,n=e.object,r=e.selectedPoint;return!n||0===n.points.length||n.isClosed?null:0===r?n.points.length-1:r===n.points.length-1?0:null})),(0,u.Z)((0,i.Z)(t),"convertPoint",(function(e){var n=t.props,o=n.zoom,a=n.component;if(n.object,!e)return e;var i=(0,r.Z)(e,2),c=i[0],l=i[1],s=e;return a&&(s=[c+a.x,l+a.y]),(0,g.bA)(s,o)})),(0,u.Z)((0,i.Z)(t),"getRealPoint",(function(e){var n=t.props,o=(n.object,n.component),a=n.zoom,i=(0,g.ty)(e,a),c=(0,r.Z)(i,2),l=c[0],s=c[1];return o&&(l-=o.x,s-=o.y),[l=Math.round(l),s=Math.round(s)]})),t.state={lastCursorPosition:null,hitPoint:{x:0,y:0}},t.path=Ce.XV.create();var n=e.object,a=(e.zoom,e.updateObject);if(n){t.path.setSegments(n.points),t.path.setClosed(n.isClosed);var c=t.path.bounds,l=mn(mn({},n),{},{width:c.width,height:c.height,x:c.left,y:c.top});a(n.id,l,"zoom")}return t}return(0,a.Z)(f,[{key:"render",value:function(){var e=this,t=this.state,n=t.lastCursorPosition,r=(t.hitPoint,this.props),o=r.selectedPoint,a=r.object,i=r.setDraggingInControl,c=r.setDraggingOutControl,l=r.zoom,s=null,u=this.canCreatePoint(),d=this.getEndPoint(),f="",h=[];if(a){var m=this.path.clone();m.scale(l.scale);var v=this.convertPoint([a.x,a.y]),y=m.bounds.bbox();m.setPosition(new Ce.E9(v[0]+y.x+y.width/2,v[1]+y.y+y.height/2)),n&&d&&m.draw(new Ce.XX(this.convertPoint(n)),a.points.length),h=a.points.slice();var g=0;m.segments.map((function(e,t){e.point,e.handleIn,e.handleOut,e.type;var n=e.curve,r=e.next,o=0;if(n){var a=r&&r.curve?r.curve:n,i=n._segment1.point.subtract(n._segment2.point),c=a._segment2.point.subtract(a._segment1.point);o=i.getDirectedAngle(c);var s=new dn,u="";g+=n.getLength();var p=n.getLength();if(n.getLength(),n._segment2){var d=n._segment2.point,f=n._segment1.point.rotate(o/2,d).subtract(d);f.length=30;var v=d.add(f);f.length=40,s=d.add(f);var y=m.getOffsetOf(n._segment2.point),b=m.getPointAt(y-30),Z=m.getPointAt(y+30);if(y||(b=m.getPointAt(m.getLength()-30),Z=m.getPointAt(30)),Z){var E=Ce.XV.create();E.moveTo(b),E.arcTo2(v,Z),u=E.getPathData()}}h[t]=mn(mn({},h[t]),{},{arcpath:u,textMedian:s,angle:o,offset:g-p/2,length:p*(1/l.scale)})}})),f=m.getPathData()}var b=this.getClosePointIndex();return s="point-editor",u&&(s+=" cursor-pen-plus"),p.createElement("g",{onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,className:s,pointerEvents:"all"},p.createElement(k(),{onKeyDown:this.handleKeyDown}),p.createElement("rect",{x:0,y:0,width:window.innerWidth,height:window.innerHeight,style:{fill:"none"}}),p.createElement("path",{id:"editorLine",className:"shape-editor-line ",d:f}),a&&p.createElement("g",{className:"shape-editor-points"},a.points.map((function(t,n){return p.createElement(dn,{point:t,key:n,onSelect:e.handleSelectPoint(n),selected:o===n,isClosePoint:n===b,scalePoint:e.convertPoint,setDraggingInControl:i,setDraggingOutControl:c})}))),a&&p.createElement("g",{className:"shape-editor-size"},h.map((function(e,t){return p.createElement("g",null,p.createElement("path",{className:"shape-editor-line-angle",d:e.arcpath}),e.textMedian&&p.createElement("text",{x:e.textMedian.x,y:e.textMedian.y},Math.round(e.angle),"°"),p.createElement("text",{dy:"-4"},p.createElement("textPath",{href:"#editorLine",className:"shape-editor-active-line-text",startOffset:Math.round(e.offset)},Math.round(e.length))))})),"))}"))}}]),f}(p.Component);(0,h.$j)((function(e){return{app:(0,Z.Mq)(e,(0,E.i3)(e)),screens:(0,E.sr)(e),object:(0,E.j6)(e,(0,O.ni)(e)),component:(0,E.j6)(e,(0,E.TY)(e,(0,O.ni)(e))),draggingOutControl:(0,O.ek)(e),draggingInControl:(0,O.t0)(e),selectedPoint:(0,O.ee)(e),draggingSelectedPoint:(0,O.E2)(e)}}),{resetTool:A.bS,createObject:E.nW,updateObject:E.v4,setEditingShape:O.S6,setDraggingOutControl:O.hd,setDraggingInControl:O.Tl,endDrag:O.Xs,setSelectedPoint:O.bN,setDraggingSelectedPoint:O.q7})(vn);var yn=n(39661),gn=n(98214);const bn=n.p+"empty-state.png";var Zn=n(13126);Ht()(Zn.Z,{insert:"head",singleton:!1}),Zn.Z.locals;var En=p.createElement("img",{src:bn,alt:"browser and mobile screen",height:220}),An=p.createElement("h1",null,"The possibilities are endless!"),wn=function(e){(0,c.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e;(0,o.Z)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"handleClick",(function(t){return t.preventDefault(),(0,e.props.showModal)(yn.fk,{zoom:!0})})),e}return(0,a.Z)(d,[{key:"render",value:function(){return p.createElement(gn.Z,{greedy:!0,className:"editor-empty-canvas"},En,An,p.createElement("p",null,p.createElement("a",{className:"add-screen-link",onClick:this.handleClick},"Add a screen")," ","to begin creating your masterpiece."))}}]),d}(p.Component);const On=(0,h.$j)(null,{showModal:yn.K4})(wn);var Cn=function(e){(0,c.Z)(p,e);var t,n,r=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function p(){var e;(0,o.Z)(this,p);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"handleAutoChange",(function(){window.setTimeout((function(){var t=e.props,n=t.appId,r=t.component,o=t.objects,a=t.onChangeComponent;!r&&o.length>0&&a(n,o[0].id)}),50)})),e}return(0,a.Z)(p,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.objects;return!t&&n.length>0&&this.handleAutoChange(),null}}]),p}(p.Component);const xn=(0,h.$j)((function(e,t){return t.type,{allComponents:(0,E.sr)(e)}}))(Cn);n(7860);var Pn=function(e){(0,c.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(){return(0,o.Z)(this,i),r.apply(this,arguments)}return(0,a.Z)(i,[{key:"render",value:function(){var e=this.props,t=e.launchComponent,n=e.authComponent,r=e.zoom,o=e.match,a=e.setLaunchComponentId,i=e.setAuthComponentId,c=e.objects,l=o.params.appId;return p.createElement("div",{className:"launch-component-indicators"},p.createElement(xn,{appId:l,component:t,zoom:r,onChangeComponent:a,name:"Returning User",type:"home",offset:20,objects:c}),p.createElement(xn,{appId:l,component:n,zoom:r,onChangeComponent:i,name:"New User",type:"auth",offset:-20,objects:c}))}}]),i}(p.Component);const kn=(0,ce.EN)((0,h.$j)((function(e,t){var n=t.match;return{launchComponent:(0,E.j6)(e,(0,Z.bu)(e,n.params.appId)),authComponent:(0,E.j6)(e,(0,Z.l3)(e,n.params.appId)),objects:(0,E.sr)(e)}}),{setLaunchComponentId:Z.oC,setAuthComponentId:Z.lQ})(Pn));n(60276);var Sn=function(e){(0,c.Z)(u,e);var t,n,i=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function u(){return(0,o.Z)(this,u),i.apply(this,arguments)}return(0,a.Z)(u,[{key:"renderXSnap",value:function(){var e=this.props,t=e.xSnap,n=e.zoom;if(t&&null!==t.coord){var o=t.coord,a=(0,g.bA)([o,0],n),i=(0,r.Z)(a,1)[0];return i=Math.round(i+.5)-.5,p.createElement("line",{x1:i,x2:i,y1:0,y2:window.innerHeight})}}},{key:"renderYSnap",value:function(){var e=this.props,t=e.ySnap,n=e.zoom;if(t&&null!==t.coord){var o=t.coord,a=(0,g.bA)([0,o],n),i=(0,r.Z)(a,2)[1];return i=Math.round(i+.5)-.5,p.createElement("line",{x1:0,x2:window.innerWidth,y1:i,y2:i})}}},{key:"render",value:function(){return p.createElement("g",{className:"snap-grid"},this.renderXSnap(),this.renderYSnap())}}]),u}(p.Component);const Rn=(0,h.$j)((function(e){return{xSnap:(0,ue.IS)(e),ySnap:(0,ue.mm)(e)}}))(Sn);var jn=function(e){(0,c.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e;(0,o.Z)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"_prevDragPoint",[0,0]),(0,u.Z)((0,i.Z)(e),"handleMouseMove",(function(t){var n=e.props.drag;void 0!==t.clientX&&void 0!==t.clientY&&(e._prevDragPoint=[t.clientX,t.clientY]),n(e._prevDragPoint,t.shiftKey,t.altKey)})),(0,u.Z)((0,i.Z)(e),"handleMouseUp",(function(){(0,e.props.endDrag)()})),e}return(0,a.Z)(d,[{key:"render",value:function(){return p.createElement(k(),{onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onKeyUp:this.handleKeyDown})}}]),d}(p.Component);const Mn=function(e){e.objects,e.zoom,e.setZoom;var t=e.handlePanning,n=p.createRef(),o=(0,p.useState)(!1),a=(0,r.Z)(o,2),i=a[0],c=a[1],l={id:"panning",ref:n,onMouseDown:function(e){return c(!0)},onMouseUp:function(e){return c(!1)},onMouseMove:function(e){return e.stopPropagation(),i?t(e):null}};return J.createPortal(p.createElement("div",l),document.body)};var Bn=n(10251),Dn=n.n(Bn),Nn=n(66736);function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e){var t=e.source,n=e.target,r=e.zoom,o=e.selected;if(!t||!n)return null;var a=(0,pe.ds)(t,n,r),i=(0,pe.fq)(t,n,r);return p.createElement("g",{className:v()("link-wrapper",o&&"link-wrapper-selected")},p.createElement("path",{className:"link-hover-path",d:a}),p.createElement("path",{className:"link-path",d:a}),p.createElement("path",{className:"link-arrow",d:i}))}Ht()(Nn.Z,{insert:"head",singleton:!1}),Nn.Z.locals;var Xn=function(e){(0,c.Z)(d,e);var t,n,r=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e;(0,o.Z)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"getScreen",(function(t){var n=e.props,r=n.screens[n.screensMap[t]];return r?(0,Y.A5)([r]):null})),(0,u.Z)((0,i.Z)(e),"getSelectedScreens",(function(){var t=e.props,n=t.screens,r=t.screensMap,o=t.selection.map((function(e){return(0,Y.fw)(r[e],1)}));return(o=(0,Y.bF)(o)).map((function(e){var t;return null===(t=(0,Y.RK)(n,e))||void 0===t?void 0:t.id}))})),(0,u.Z)((0,i.Z)(e),"render",(function(){var t=e.props,n=t.inboundLinks,r=t.zoom,o=e.getSelectedScreens();return p.createElement("g",{className:v()("canvas-link-map",o.length>0&&"canvas-link-map-selected")},Object.keys(n).map((function(t){return p.createElement(p.Fragment,{key:t},n[t].map((function(n){return p.createElement(Ln,{key:n,source:e.getScreen(n),target:e.getScreen(t),zoom:r,selected:o.includes(n)||o.includes(t)})})))})))})),e}return(0,a.Z)(d,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.inboundLinks,r=t.screens,o=t.zoom,a=t.selection;if(o!==e.zoom||a!==e.selection)return!0;for(var i=0,c=Object.keys(In(In({},r),e.screens));i<c.length;i++){var l=c[i],s=e.screens[l],u=r[l];if(!s||!u)return!0;if(s.x!==u.x||s.y!==u.y||s.width!==u.width||s.height!==u.height)return!0}return!Dn()(e.inboundLinks,n)}}]),d}(p.Component);(0,ce.EN)((0,h.$j)((function(e,t){var n=t.match.params.appId;return{inboundLinks:(0,Z.Ru)(e,n),screens:(0,E.sr)(e),screensMap:(0,E.FU)(e)}}))(Xn)),n(99609);var zn=n(13894);function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wn=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;(0,o.Z)(this,f),t=d.call(this,e),(0,u.Z)((0,i.Z)(t),"handleKeyDown",(function(e){var n=t.props,r=n.setEditingShape,o=n.resetTool;e.which===R._Q&&(r(null),o())})),(0,u.Z)((0,i.Z)(t),"handleMouseMove",(function(e){var n=t.getRealPoint([e.clientX,e.clientY]),r=(0,zn.Z)(Ce.E9,(0,x.Z)(n)),o=t.path.hitTest(r);!o||"curve"!==o.type&&"segment"!==o.type?t.setState({lastCursorPosition:n,selectedIndex:null}):t.setState({lastCursorPosition:n,selectedIndex:o.item.index})})),(0,u.Z)((0,i.Z)(t),"handleDoubleClick",(function(e){var n=t.state.selectedIndex;(0,t.props.setEditingPath)(n)})),(0,u.Z)((0,i.Z)(t),"convertPoint",(function(e){var n=t.props,o=n.zoom,a=n.component;if(n.object,!e)return e;var i=(0,r.Z)(e,2),c=i[0],l=i[1],s=e;return a&&(s=[c+a.x,l+a.y]),(0,g.bA)(s,o)})),(0,u.Z)((0,i.Z)(t),"getRealPoint",(function(e){var n=t.props,o=(n.object,n.component),a=n.zoom,i=(0,g.ty)(e,a),c=(0,r.Z)(i,2),l=c[0],s=c[1];return o&&(l-=o.x,s-=o.y),[l=Math.round(l),s=Math.round(s)]})),t.state={lastCursorPosition:null,hitPoint:{x:0,y:0}},t.path=Ce.XV.create();var n=e.object,a=(e.zoom,e.updateObject);if(n){var c=n.points,l=n.compound,s=n.isClosed;l&&l.length>0?t.path=Ce.XV.create(l):c&&c.length>0&&t.path.setSegments(c);var p=t.path.bounds;t.path.setClosed(s);var h=_n(_n({},n),{},{width:p.width,height:p.height,x:p.left,y:p.top});a(n.id,h,"zoom"),e.setEditingPath(0)}return t}return(0,a.Z)(f,[{key:"render",value:function(){var e=this.state,t=(e.lastCursorPosition,e.selectedIndex),n=this.props,r=(n.selectedPoint,n.object),o=(n.setDraggingInControl,n.setDraggingOutControl,n.zoom),a=n.editingPath,i=this.path;if(r){var c,l=r.points,s=r.compound,u=r.isClosed;s&&s.length>0?this.path=Ce.XV.create(s):l&&l.length>0&&this.path.setSegments(l),this.path.setClosed(u),(i=this.path.clone()).scale(o.scale);var d=this.convertPoint([r.x,r.y]);(c=i).adjust.apply(c,(0,x.Z)(d))}var f;return f=i&&i instanceof ut.Op?p.createElement("g",{key:"compound-editor",onMouseMove:this.handleMouseMove,className:null,onDoubleClick:this.handleDoubleClick,pointerEvents:"all"},p.createElement(k(),{onKeyDown:this.handleKeyDown}),p.createElement("rect",{x:0,y:0,width:window.innerWidth,height:window.innerHeight,style:{fill:"none"}}),i.children.map((function(e,n){return a===n?p.createElement(Et,{key:"path-editor-".concat(n),zoom:o}):p.createElement("path",{key:"path-".concat(n),id:"editorLine",className:"shape-editor-line ".concat(t===n?"shape-editor-line-selected":""),d:e.getPathData()})})),")}"):p.createElement(Et,{key:"path-editor",zoom:o}),p.createElement("g",{key:"wrapper-editor"},f)}}]),f}(p.Component);const Fn=(0,h.$j)((function(e){return{app:(0,Z.Mq)(e,(0,E.i3)(e)),screens:(0,E.sr)(e),object:(0,E.j6)(e,(0,O.ni)(e)),editingPath:(0,O.xU)(e),component:(0,E.j6)(e,(0,E.TY)(e,(0,O.ni)(e))),draggingOutControl:(0,O.ek)(e),draggingInControl:(0,O.t0)(e),selectedPoint:(0,O.ee)(e),draggingSelectedPoint:(0,O.E2)(e)}}),{resetTool:A.bS,createObject:E.nW,updateObject:E.v4,setEditingShape:O.S6,setEditingPath:O.Zf,setDraggingOutControl:O.hd,setDraggingInControl:O.Tl,endDrag:O.Xs,setSelectedPoint:O.bN,setDraggingSelectedPoint:O.q7})(Wn);var Yn=p.createElement(Xe,null),Gn=p.createElement(W,null),qn=p.createElement(K,null),Vn=p.createElement(On,null),Hn=p.createElement(Se,null),$n=p.createElement(Te,null),Kn=function(e){(0,c.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;return(0,o.Z)(this,f),t=d.call(this,e),(0,u.Z)((0,i.Z)(t),"getSelection",(function(){return t.props.selection})),(0,u.Z)((0,i.Z)(t),"setZoom",(function(e,n){window.clearTimeout(t._zoomTimeout),t._zoomTimeout=window.setTimeout(t.saveZoom,100);var r={scale:e,offset:n};t.setState({activeZoom:r})})),(0,u.Z)((0,i.Z)(t),"saveZoom",(function(){var e=t.props.setZoom,n=t.state.activeZoom,r=n;n&&(e(n.scale,n.offset),window.setTimeout((function(){t.state.activeZoom===r&&t.setState({activeZoom:null})}),10))})),(0,u.Z)((0,i.Z)(t),"getZoom",(function(){var e=t.props.zoom;return t.state.activeZoom||e})),(0,u.Z)((0,i.Z)(t),"handleWheel",(function(e){e.stopPropagation(),e.preventDefault();var n=t.props,o=n.objects,a=n.launchComponentId,i=t.getZoom();if(0!==o.length){var c=i.scale,l=i.offset,s=(0,r.Z)(l,2),u=s[0],p=s[1],d=o.filter((function(e){return a===e.id})),f=(0,r.Z)(d,1)[0],h=0,m=0,v=0,y=0,b=0;if(f){var Z=f.x,E=f.y,A=f.width,w=f.height,O=f.depth,C=(0,g.bA)([Z,E],i);h=C[0],m=C[1],v=(0,g.pF)(A,i),y=(0,g.pF)(w,i),b=(0,g.pF)(O,i);var x=window,P=x.innerWidth,k=x.innerHeight;h>0?Math.min(v,P-h):Math.min(v+h,P),m>0?Math.min(y,k-m):Math.min(y+m,k)}if(e.ctrlKey||e.scale){var S;e.scale?(S=c*(e.scale/t._prevEventScale),t._prevEventScale=e.scale):S=c*(1+.01*-e.deltaY);var R=[e.clientX,e.clientY];S>64?S=64:S<1/16&&(S=1/16);var j=(0,g.os)(S,R,c,l);return t.setZoom(S,j)}var M=20*Math.sign(e.deltaY);if(console.log(m,e.deltaY,y,innerHeight,m+(y+b)-M),y<innerHeight&&m-M<120&&e.deltaY>0)console.log("ok");else if(y>innerHeight&&m+(y+b)-M<0&&M>0)console.log("ok2");else{var B=[u-e.deltaX,p-M];t.setZoom(i.scale,B)}}})),(0,u.Z)((0,i.Z)(t),"handlePanning",(function(e){e.stopPropagation(),e.preventDefault();var n=t.props.objects,o=t.getZoom();if(0===n.length)return null;var a=o.offset,i=(0,r.Z)(a,2),c=i[0],l=i[1],s=[c+e.movementX,l+e.movementY];return t.setZoom(o.scale,s)})),(0,u.Z)((0,i.Z)(t),"handleGestureStart",(function(e){e.preventDefault(),t._prevEventScale=1})),(0,u.Z)((0,i.Z)(t),"renderContent",(function(){var e=t.props,n=e.activeTool,r=e.positioningObjects,o=e.loading,a=e.objects,i=e.editingShape,c=e.authComponentId,l=e.branding,s=e.drag,u=e.endDrag,d=e.launchComponentId,f=e.isPanning,h=(e.showConnections,e.selection,e.app,t.state),m=h.activeZoom,v=h.yogaReady,y=t.getZoom();return c=c||d,!v||o&&0===a.length?Yn:p.createElement(p.Fragment,null,p.createElement(kn,{zoom:y}),r?p.createElement(jn,{drag:s,endDrag:u}):null,Gn,qn,f?p.createElement(Mn,{objects:a,zoom:y,setZoom:t.setZoom,handlePanning:t.handlePanning}):null,0===a.length?Vn:null,a.filter((function(e){return d===e.id})).map((function(e){return p.createElement(p.Fragment,null,p.createElement(tt,{isLaunchComponent:d===e.id,isAuthComponent:c===e.id,key:e.id,component:e,zoom:y,zoomActive:!!m,branding:l}))})),p.createElement(ht,{key:"projection",components:a,zoom:y,zoomActive:!!m,branding:l}),m?null:p.createElement(p.Fragment,null,p.createElement("svg",{className:"bounding-boxes",width:"100%",height:"100%"},p.createElement(Rn,{zoom:y}),Hn,$n,n&&p.createElement(un,{tool:n,zoom:y}),!n&&i&&p.createElement(Fn,{zoom:y})),p.createElement(ie,{branding:l})))})),t.state={activeZoom:null,yogaReady:!1},t.canvasRef=p.createRef(),t}return(0,a.Z)(f,[{key:"getChildContext",value:function(){return{editable:!0,getSelection:this.getSelection}}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("gesturestart",this.handleGestureStart),document.addEventListener("gesturechange",this.handleWheel),this.canvasRef.current.addEventListener("wheel",this.handleWheel),(0,b.k)().then((function(){return e.setState({yogaReady:!0})}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("gesturestart",this.handleGestureStart),document.removeEventListener("gesturechange",this.handleWheel),this.canvasRef.current.removeEventListener("wheel",this.handleWheel)}},{key:"render",value:function(){var e=this.props.activeTool,t=(0,y.ZC)(e);return p.createElement("div",null,p.createElement("div",{className:v()("canvas",t),ref:this.canvasRef},this.renderContent()))}}]),f}(p.Component);(0,u.Z)(Kn,"childContextTypes",{editable:f().bool,getSelection:f().func});const Qn=(0,h.$j)((function(e,t){var n=t.appId;return{app:(0,Z.Mq)(e,n),branding:(0,Z.WS)(e,n),positioningObjects:(0,w.mA)(e),editingShape:(0,O.ni)(e),activeTool:(0,A._$)(e),objects:(0,E.sr)(e),selection:(0,E.bN)(e),zoom:(0,E.aB)(e),loading:(0,E.Kv)(e),launchComponentId:(0,Z.bu)(e,n),authComponentId:(0,Z.l3)(e,n),isPanning:(0,E._0)(e),showConnections:(0,C.IY)(e)}}),{setZoom:E.cq,drag:w.oh,endDrag:w.Xs})(Kn)},60854:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,'.admin-page{padding:32px;max-width:960px;margin:0 auto}.admin-page h1,.admin-page h2,.admin-page h3,.admin-page h4,.admin-page h5,.admin-page h6{margin:0;padding:0}.admin-page p{color:#8a8a8a}.admin-page-header{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;padding:0;margin:0 0 24px 0;padding:8px 16px;border-bottom:1px solid #eee}.admin-page-header input{border:1px solid #eee;border-radius:4px;padding:8px;min-width:200px}.admin-page-table{margin-bottom:32px}.admin-page-table:last-of-type{margin-bottom:0}.admin-page-table-header{display:flex;flex-direction:row;align-items:center;border-bottom:1px solid #eee;font-weight:500}.admin-page-table-item{display:flex;flex-direction:row;align-items:center;border-bottom:1px solid #eee;color:inherit;text-decoration:none}.admin-page-table-item:hover{background-color:#f5f5f5}.admin-page-table a.admin-page-table-item{cursor:pointer}.admin-page-table-header>*,.admin-page-table-item>*{flex:1;align-items:flex-start;padding:8px 20px}.admin-page-table-error{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 0}.admin-page-table-error h3{font-size:20px}.admin-page-table-error p{font-size:14px}.admin-page-table-loading{display:flex;align-items:center;justify-content:center;margin:32px 0}.admin-page .chip.status-active{background-color:#a1cd46}.admin-page .chip.status-rejected{color:#fff;background-color:#ef4c30}.admin-page .chip.status-private{color:#fff;background-color:#43437a}.admin-page .chip.status-testing{background-color:rgba(255,192,14,.1);border:1px solid #ffc00e}.admin-page .chip.status-approved{background-color:rgba(161,205,70,.1);border:1px solid #a1cd46}.admin-page .missing-logo{display:block;width:32px;height:32px}.admin-users-page{padding:30px;max-width:1000px;margin:0 auto}.admin-user-item,.admin-users-header{display:flex;flex-direction:row;align-items:center;padding:6px 20px;border-bottom:1px solid #ddd;margin:0 -20px}.admin-user-item>*,.admin-users-header>*{flex:1;align-items:flex-start}.admin-users-header p{color:#8a8a8a}a.admin-user-item{cursor:pointer;color:inherit;text-decoration:none}.admin-user-item:hover{background:#f5f5f5}.admin-user-item h5{font-size:14px;margin:0}.admin-user-item .app-icon{flex:unset;margin-right:12px}.admin-users-page h2{color:#8a8a8a;font-weight:400;font-size:18px}.admin-users-page h1+h2{margin-top:-3em;margin-bottom:3em}.admin-users-page h3{font-size:14px}.admin-users-page h2+h3{margin-top:-3em;margin-bottom:3em}.admin-org-status,.admin-build-status{display:inline-block;font-size:10px;text-transform:capitalize;color:#fff;background-color:#bbb;padding:3px 6px;border-radius:3px;margin:5px 0 5px 3px}.admin-org-paying,.admin-build-built{background-color:#3e87f8}.admin-org-free{background-color:#bbb}.admin-build-failed{background-color:red}.admin-library-active{background-color:#a1cd46}.admin-library-pending{color:#333;background-color:#ffc00e}.admin-library-approved{background-color:#3e87f8}.admin-library-deprecated{background-color:#ef4c30}.admin-user-organization+.admin-user-organization:before{content:", "}.admin-user-org-sub{display:inline-block}.admin-users-page .users-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:32px}.admin-users-page .users-header h1{margin-bottom:0}.admin-users-page .users-header input{padding:8px 12px;border-radius:6px;width:100%;max-width:240px;border:1px solid #e0e0e0;font-size:14px}.admin-users-page .users-header input:focus{outline:none}.admin-build-status-wrapper{display:flex;flex-direction:row;align-items:center}.admin-build-status-wrapper>*+*{margin-left:6px}',"",{version:3,sources:["webpack://./src/components/Admin/Admin.scss"],names:[],mappings:"AAAA,YAAY,YAAY,CAAC,eAAe,CAAC,aAAa,CAAC,0FAA0F,QAAQ,CAAC,SAAS,CAAC,cAAc,aAAa,CAAC,mBAAmB,YAAY,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,0BAA0B,CAAC,SAAS,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,yBAAyB,qBAAqB,CAAC,iBAAiB,CAAC,WAAW,CAAC,eAAe,CAAC,kBAAkB,kBAAkB,CAAC,+BAA+B,eAAe,CAAC,yBAAyB,YAAY,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,4BAA4B,CAAC,eAAe,CAAC,uBAAuB,YAAY,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,4BAA4B,CAAC,aAAa,CAAC,oBAAoB,CAAC,6BAA6B,wBAAwB,CAAC,0CAA0C,cAAc,CAAC,oDAAoD,MAAM,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,wBAAwB,YAAY,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,cAAc,CAAC,2BAA2B,cAAc,CAAC,0BAA0B,cAAc,CAAC,0BAA0B,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,aAAa,CAAC,gCAAgC,wBAAwB,CAAC,kCAAkC,UAAU,CAAC,wBAAwB,CAAC,iCAAiC,UAAU,CAAC,wBAAwB,CAAC,iCAAiC,oCAAoC,CAAC,wBAAwB,CAAC,kCAAkC,oCAAoC,CAAC,wBAAwB,CAAC,0BAA0B,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,kBAAkB,YAAY,CAAC,gBAAgB,CAAC,aAAa,CAAC,qCAAqC,YAAY,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,cAAc,CAAC,yCAAyC,MAAM,CAAC,sBAAsB,CAAC,sBAAsB,aAAa,CAAC,kBAAkB,cAAc,CAAC,aAAa,CAAC,oBAAoB,CAAC,uBAAuB,kBAAkB,CAAC,oBAAoB,cAAc,CAAC,QAAQ,CAAC,2BAA2B,UAAU,CAAC,iBAAiB,CAAC,qBAAqB,aAAa,CAAC,eAAe,CAAC,cAAc,CAAC,wBAAwB,eAAe,CAAC,iBAAiB,CAAC,qBAAqB,cAAc,CAAC,wBAAwB,eAAe,CAAC,iBAAiB,CAAC,sCAAsC,oBAAoB,CAAC,cAAc,CAAC,yBAAyB,CAAC,UAAU,CAAC,qBAAqB,CAAC,eAAe,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,qCAAqC,wBAAwB,CAAC,gBAAgB,qBAAqB,CAAC,oBAAoB,oBAAoB,CAAC,sBAAsB,wBAAwB,CAAC,uBAAuB,UAAU,CAAC,wBAAwB,CAAC,wBAAwB,wBAAwB,CAAC,0BAA0B,wBAAwB,CAAC,yDAAyD,YAAY,CAAC,oBAAoB,oBAAoB,CAAC,gCAAgC,YAAY,CAAC,kBAAkB,CAAC,6BAA6B,CAAC,kBAAkB,CAAC,mCAAmC,eAAe,CAAC,sCAAsC,gBAAgB,CAAC,iBAAiB,CAAC,UAAU,CAAC,eAAe,CAAC,wBAAwB,CAAC,cAAc,CAAC,4CAA4C,YAAY,CAAC,4BAA4B,YAAY,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,gCAAgC,eAAe",sourcesContent:['.admin-page{padding:32px;max-width:960px;margin:0 auto}.admin-page h1,.admin-page h2,.admin-page h3,.admin-page h4,.admin-page h5,.admin-page h6{margin:0;padding:0}.admin-page p{color:#8a8a8a}.admin-page-header{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;padding:0;margin:0 0 24px 0;padding:8px 16px;border-bottom:1px solid #eee}.admin-page-header input{border:1px solid #eee;border-radius:4px;padding:8px;min-width:200px}.admin-page-table{margin-bottom:32px}.admin-page-table:last-of-type{margin-bottom:0}.admin-page-table-header{display:flex;flex-direction:row;align-items:center;border-bottom:1px solid #eee;font-weight:500}.admin-page-table-item{display:flex;flex-direction:row;align-items:center;border-bottom:1px solid #eee;color:inherit;text-decoration:none}.admin-page-table-item:hover{background-color:#f5f5f5}.admin-page-table a.admin-page-table-item{cursor:pointer}.admin-page-table-header>*,.admin-page-table-item>*{flex:1;align-items:flex-start;padding:8px 20px}.admin-page-table-error{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 0}.admin-page-table-error h3{font-size:20px}.admin-page-table-error p{font-size:14px}.admin-page-table-loading{display:flex;align-items:center;justify-content:center;margin:32px 0}.admin-page .chip.status-active{background-color:#a1cd46}.admin-page .chip.status-rejected{color:#fff;background-color:#ef4c30}.admin-page .chip.status-private{color:#fff;background-color:#43437a}.admin-page .chip.status-testing{background-color:rgba(255,192,14,.1);border:1px solid #ffc00e}.admin-page .chip.status-approved{background-color:rgba(161,205,70,.1);border:1px solid #a1cd46}.admin-page .missing-logo{display:block;width:32px;height:32px}.admin-users-page{padding:30px;max-width:1000px;margin:0 auto}.admin-user-item,.admin-users-header{display:flex;flex-direction:row;align-items:center;padding:6px 20px;border-bottom:1px solid #ddd;margin:0 -20px}.admin-user-item>*,.admin-users-header>*{flex:1;align-items:flex-start}.admin-users-header p{color:#8a8a8a}a.admin-user-item{cursor:pointer;color:inherit;text-decoration:none}.admin-user-item:hover{background:#f5f5f5}.admin-user-item h5{font-size:14px;margin:0}.admin-user-item .app-icon{flex:unset;margin-right:12px}.admin-users-page h2{color:#8a8a8a;font-weight:400;font-size:18px}.admin-users-page h1+h2{margin-top:-3em;margin-bottom:3em}.admin-users-page h3{font-size:14px}.admin-users-page h2+h3{margin-top:-3em;margin-bottom:3em}.admin-org-status,.admin-build-status{display:inline-block;font-size:10px;text-transform:capitalize;color:#fff;background-color:#bbb;padding:3px 6px;border-radius:3px;margin:5px 0 5px 3px}.admin-org-paying,.admin-build-built{background-color:#3e87f8}.admin-org-free{background-color:#bbb}.admin-build-failed{background-color:red}.admin-library-active{background-color:#a1cd46}.admin-library-pending{color:#333;background-color:#ffc00e}.admin-library-approved{background-color:#3e87f8}.admin-library-deprecated{background-color:#ef4c30}.admin-user-organization+.admin-user-organization:before{content:", "}.admin-user-org-sub{display:inline-block}.admin-users-page .users-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:32px}.admin-users-page .users-header h1{margin-bottom:0}.admin-users-page .users-header input{padding:8px 12px;border-radius:6px;width:100%;max-width:240px;border:1px solid #e0e0e0;font-size:14px}.admin-users-page .users-header input:focus{outline:none}.admin-build-status-wrapper{display:flex;flex-direction:row;align-items:center}.admin-build-status-wrapper>*+*{margin-left:6px}'],sourceRoot:""}]);const c=i},98931:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,".editor-add-section .section-header-content{margin:0 -16px 16px}.editor-add-section h2{margin:16px 0;color:#8a8a8a;font-weight:400}","",{version:3,sources:["webpack://./src/components/Editor/AddObject/Tab/tab.scss"],names:[],mappings:"AAAA,4CAA4C,mBAAmB,CAAC,uBAAuB,aAAa,CAAC,aAAa,CAAC,eAAe",sourcesContent:[".editor-add-section .section-header-content{margin:0 -16px 16px}.editor-add-section h2{margin:16px 0;color:#8a8a8a;font-weight:400}"],sourceRoot:""}]);const c=i},67537:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,".editor-add-section .section-header-content{margin:0 -16px 16px}.editor-add-section h2{margin:16px 0;color:#8a8a8a;font-weight:400}","",{version:3,sources:["webpack://./src/components/Editor/Box/Tab/tab.scss"],names:[],mappings:"AAAA,4CAA4C,mBAAmB,CAAC,uBAAuB,aAAa,CAAC,aAAa,CAAC,eAAe",sourcesContent:[".editor-add-section .section-header-content{margin:0 -16px 16px}.editor-add-section h2{margin:16px 0;color:#8a8a8a;font-weight:400}"],sourceRoot:""}]);const c=i},13126:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,".empty-state.greedy.editor-empty-canvas{position:relative;z-index:1;margin-top:64px;margin-left:431px;width:auto;transition:margin .2s}.offline-banner-visible .empty-state.greedy.editor-empty-canvas{margin-top:96px}.editor-empty-canvas>*:last-child{margin-bottom:50px}.editor-empty-canvas h1{font-size:24px}.editor-empty-canvas p{font-size:14px}.editor-empty-canvas .add-screen-link{color:#3e87f8 !important}","",{version:3,sources:["webpack://./src/components/Editor/Canvas/Empty/Empty.scss"],names:[],mappings:"AAAA,wCAAwC,iBAAiB,CAAC,SAAS,CAAC,eAAe,CAAC,iBAAiB,CAAC,UAAU,CAAC,qBAAqB,CAAC,gEAAgE,eAAe,CAAC,kCAAkC,kBAAkB,CAAC,wBAAwB,cAAc,CAAC,uBAAuB,cAAc,CAAC,sCAAsC,wBAAwB",sourcesContent:[".empty-state.greedy.editor-empty-canvas{position:relative;z-index:1;margin-top:64px;margin-left:431px;width:auto;transition:margin .2s}.offline-banner-visible .empty-state.greedy.editor-empty-canvas{margin-top:96px}.editor-empty-canvas>*:last-child{margin-bottom:50px}.editor-empty-canvas h1{font-size:24px}.editor-empty-canvas p{font-size:14px}.editor-empty-canvas .add-screen-link{color:#3e87f8 !important}"],sourceRoot:""}]);const c=i},62112:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,".library-component-inner-wrapper{-webkit-font-smoothing:antialiased}.library-component-error{display:block;background-color:#fcc;border:1px solid #d00;padding:4px;height:100%;width:100%}","",{version:3,sources:["webpack://./src/components/Editor/Canvas/LibraryComponent/LibraryComponent.scss"],names:[],mappings:"AAAA,iCAAiC,kCAAkC,CAAC,yBAAyB,aAAa,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,WAAW,CAAC,WAAW,CAAC,UAAU",sourcesContent:[".library-component-inner-wrapper{-webkit-font-smoothing:antialiased}.library-component-error{display:block;background-color:#fcc;border:1px solid #d00;padding:4px;height:100%;width:100%}"],sourceRoot:""}]);const c=i},66736:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,".link-wrapper{pointer-events:all}.link-wrapper .link-arrow{fill:#ddd}.link-wrapper .link-hover-path{fill:none;stroke:transparent;stroke-width:10}.link-wrapper .link-path{fill:none;stroke:#ddd}.link-wrapper:hover .link-path{stroke:#3e87f8}.link-wrapper:hover .link-arrow{fill:#3e87f8}.canvas-link-map-selected .link-wrapper:not(:hover) .link-path{stroke:#f5f5f5}.canvas-link-map-selected .link-wrapper:not(:hover) .link-arrow{fill:#f5f5f5}.canvas-link-map-selected .link-wrapper:not(:hover).link-wrapper-selected .link-path{stroke:#bbb}.canvas-link-map-selected .link-wrapper:not(:hover).link-wrapper-selected .link-arrow{fill:#bbb}","",{version:3,sources:["webpack://./src/components/Editor/Canvas/Links.scss"],names:[],mappings:"AAAA,cAAc,kBAAkB,CAAC,0BAA0B,SAAS,CAAC,+BAA+B,SAAS,CAAC,kBAAkB,CAAC,eAAe,CAAC,yBAAyB,SAAS,CAAC,WAAW,CAAC,+BAA+B,cAAc,CAAC,gCAAgC,YAAY,CAAC,+DAA+D,cAAc,CAAC,gEAAgE,YAAY,CAAC,qFAAqF,WAAW,CAAC,sFAAsF,SAAS",sourcesContent:[".link-wrapper{pointer-events:all}.link-wrapper .link-arrow{fill:#ddd}.link-wrapper .link-hover-path{fill:none;stroke:transparent;stroke-width:10}.link-wrapper .link-path{fill:none;stroke:#ddd}.link-wrapper:hover .link-path{stroke:#3e87f8}.link-wrapper:hover .link-arrow{fill:#3e87f8}.canvas-link-map-selected .link-wrapper:not(:hover) .link-path{stroke:#f5f5f5}.canvas-link-map-selected .link-wrapper:not(:hover) .link-arrow{fill:#f5f5f5}.canvas-link-map-selected .link-wrapper:not(:hover).link-wrapper-selected .link-path{stroke:#bbb}.canvas-link-map-selected .link-wrapper:not(:hover).link-wrapper-selected .link-arrow{fill:#bbb}"],sourceRoot:""}]);const c=i},32166:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(94015),o=n.n(r),a=n(23645),i=n.n(a)()(o());i.push([e.id,".library-component-inner-wrapper{-webkit-font-smoothing:antialiased}.library-component-error{display:block;background-color:#fcc;border:1px solid #d00;padding:4px;height:100%;width:100%}","",{version:3,sources:["webpack://./src/components/Editor/Canvas/ShapeComponent/ShapeComponent.scss"],names:[],mappings:"AAAA,iCAAiC,kCAAkC,CAAC,yBAAyB,aAAa,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,WAAW,CAAC,WAAW,CAAC,UAAU",sourcesContent:[".library-component-inner-wrapper{-webkit-font-smoothing:antialiased}.library-component-error{display:block;background-color:#fcc;border:1px solid #d00;padding:4px;height:100%;width:100%}"],sourceRoot:""}]);const c=i}}]);